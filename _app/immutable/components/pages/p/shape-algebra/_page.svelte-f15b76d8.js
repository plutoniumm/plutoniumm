import{S as rt,i as nt,s as tt,V as jn,e as ie,h as ue,j as ne,l as q,W as Ni,o as re,X as yu,q as Si,D as wo,R as yo,M as vo,Y as Bt,Z as ii,_ as Fo,I as Qe,J as er,K as rr,$ as Eo,a0 as Ao,t as Ue,b as Le,L as nr,n as $,c as Ti,f as xe,m as be,B as Or,p as k,u as zi,g as $i,a as Oi,d as X,y as gr,H as Ge,k as K,A as wr,G as Xe,F as Co,a1 as hr,C as or,a2 as it,a3 as fn}from"../../../../chunks/index-4b6b7d51.js";import{C as vu,u as Fu,S as xo,a as pr,M as bo,D as pe,L as Bo,_ as kn}from"../../../../chunks/meta-4f90f7d1.js";function _o(e){let r,n=[e[1]],t={};for(let i=0;i<n.length;i+=1)t=jn(t,n[i]);return{c(){r=ie("canvas"),this.h()},l(i){r=ue(i,"CANVAS",{}),ne(r).forEach(q),this.h()},h(){Ni(r,t)},m(i,u){re(i,r,u),e[8](r)},p(i,[u]){Ni(r,t=yu(n,[i[1]]))},i:Si,o:Si,d(i){i&&q(r),e[8](null)}}}function Mo(e,r,n){let t,{type:i}=r,{data:u={datasets:[]}}=r,{options:o={}}=r,{plugins:h=[]}=r,{updateMode:c}=r,{chart:f=null}=r,a=function(s){let{data:p,type:l,options:D,plugins:d,children:m,$$scope:y,$$slots:g,...v}=s;return v}(r);return wo(()=>{n(2,f=new vu(t,{type:i,data:u,options:o,plugins:h}))}),yo(()=>{f&&(n(2,f.data=u,f),Object.assign(f.options,o),f.update(c))}),vo(()=>{f&&f.destroy(),n(2,f=null)}),Fu(()=>t),e.$$set=s=>{n(9,r=jn(jn({},r),Bt(s))),"type"in s&&n(3,i=s.type),"data"in s&&n(4,u=s.data),"options"in s&&n(5,o=s.options),"plugins"in s&&n(6,h=s.plugins),"updateMode"in s&&n(7,c=s.updateMode),"chart"in s&&n(2,f=s.chart)},r=Bt(r),[t,a,f,i,u,o,h,c,function(s){ii[s?"unshift":"push"](()=>{t=s,n(0,t)})}]}class No extends rt{constructor(r){super(),nt(this,r,Mo,_o,tt,{type:3,data:4,options:5,plugins:6,updateMode:7,chart:2})}}function So(e){let r,n,t;const i=[{type:"scatter"},e[1]];function u(h){e[4](h)}let o={};for(let h=0;h<i.length;h+=1)o=jn(o,i[h]);return e[0]!==void 0&&(o.chart=e[0]),r=new No({props:o}),e[3](r),ii.push(()=>Fo(r,"chart",u)),{c(){Qe(r.$$.fragment)},l(h){er(r.$$.fragment,h)},m(h,c){rr(r,h,c),t=!0},p(h,[c]){const f=2&c?yu(i,[i[0],Eo(h[1])]):{};!n&&1&c&&(n=!0,f.chart=h[0],Ao(()=>n=!1)),r.$set(f)},i(h){t||(Ue(r.$$.fragment,h),t=!0)},o(h){Le(r.$$.fragment,h),t=!1},d(h){e[3](null),nr(r,h)}}}function To(e,r,n){vu.register(xo);let t,i,{chart:u=null}=r;return Fu(()=>i),e.$$set=o=>{n(5,r=jn(jn({},r),Bt(o))),"chart"in o&&n(0,u=o.chart)},e.$$.update=()=>{n(1,t=r)},r=Bt(r),[u,t,i,function(o){ii[o?"unshift":"push"](()=>{i=o,n(2,i)})},function(o){u=o,n(0,u)}]}class zo extends rt{constructor(r){super(),nt(this,r,To,So,tt,{chart:0})}}function $o(e){let r,n,t;return n=new zo({props:{data:{labels:["Scatter"],datasets:e[0]},options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:1,animation:!1}}}),{c(){r=ie("div"),Qe(n.$$.fragment),this.h()},l(i){r=ue(i,"DIV",{class:!0});var u=ne(r);er(n.$$.fragment,u),u.forEach(q),this.h()},h(){$(r,"class","square h-100 w-100 svelte-b874cb")},m(i,u){re(i,r,u),rr(n,r,null),t=!0},p(i,[u]){const o={};1&u&&(o.data={labels:["Scatter"],datasets:i[0]}),n.$set(o)},i(i){t||(Ue(n.$$.fragment,i),t=!0)},o(i){Le(n.$$.fragment,i),t=!1},d(i){i&&q(r),nr(n)}}}function Oo(e,r,n){let{data:t=[]}=r;return t===void 0&&t===null||Array.isArray(t)||(t=[t]),e.$$set=i=>{"data"in i&&n(0,t=i.data)},[t]}class Kr extends rt{constructor(r){super(),nt(this,r,Oo,$o,tt,{data:0})}}function _t(){return _t=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},_t.apply(null,arguments)}var Eu={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Io(e,r){if(yt(e,r))return e[r];throw typeof e[r]=="function"&&function(n,t){return n==null||typeof n[t]!="function"||et(n,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(n)?!1:et(jo,t)?!0:!(t in Object.prototype||t in Function.prototype)}(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function yt(e,r){return!(!function(n){return typeof n=="object"&&n&&n.constructor===Object}(e)&&!Array.isArray(e))&&(!!et(qo,r)||!(r in Object.prototype)&&!(r in Function.prototype))}var qo={length:!0,name:!0},jo={toString:!0,valueOf:!0,toLocaleString:!0};class ko{constructor(r){this.wrappedObject=r,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(r=>this.has(r)).values()}get(r){return Io(this.wrappedObject,r)}set(r,n){return function(t,i,u){if(yt(t,i))return t[i]=u,u;throw new Error('No access to property "'+i+'"')}(this.wrappedObject,r,n),this}has(r){return yt(this.wrappedObject,r)&&r in this.wrappedObject}entries(){return r=this.keys(),n=t=>[t,this.get(t)],{next:()=>{var t=r.next();return t.done?t:{value:n(t.value),done:!1}}};var r,n}forEach(r){for(var n of this.keys())r(this.get(n),n,this)}delete(r){yt(this.wrappedObject,r)&&delete this.wrappedObject[r]}clear(){for(var r of this.keys())this.delete(r)}get size(){return Object.keys(this.wrappedObject).length}}function Ae(e){return typeof e=="number"}function Oe(e){return!(!e||typeof e!="object"||typeof e.constructor!="function")&&(e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0)}function Po(e){return typeof e=="bigint"}function Au(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Cu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function xu(e){return e&&e.constructor.prototype.isUnit===!0||!1}function zr(e){return typeof e=="string"}var je=Array.isArray;function Te(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Mt(e){return Array.isArray(e)||Te(e)}function Ro(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Uo(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Lo(e){return e&&e.constructor.prototype.isRange===!0||!1}function ui(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Zo(e){return typeof e=="boolean"}function Vo(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Wo(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Ho(e){return typeof e=="function"}function Jo(e){return e instanceof Date}function Yo(e){return e instanceof RegExp}function oi(e){return!(!e||typeof e!="object"||e.constructor!==Object||Au(e)||Cu(e))}function Go(e){return!!e&&(e instanceof Map||e instanceof ko||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function")}function Xo(e){return e===null}function Ko(e){return e===void 0}function Qo(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ea(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function ra(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function na(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function ta(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ia(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function ua(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function oa(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function aa(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function sa(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function ca(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function fa(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ha(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function la(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function pa(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Da(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function da(e){return e&&e.constructor.prototype.isChain===!0||!1}function en(e){var r=typeof e;return r==="object"?e===null?"null":Oe(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}function Se(e){var r=typeof e;if(r==="number"||r==="bigint"||r==="string"||r==="boolean"||e==null)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return Se(n)});if(e instanceof Date)return new Date(e.valueOf());if(Oe(e))return e;if(oi(e))return function(n,t){var i={};for(var u in n)et(n,u)&&(i[u]=t(n[u]));return i}(e,Se);if(r==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function tn(e,r){var n,t,i;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(t=0,i=e.length;t<i;t++)if(!tn(e[t],r[t]))return!1;return!0}if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(n in e)if(!(n in r)||!tn(e[n],r[n]))return!1;for(n in r)if(!(n in e))return!1;return!0}return e===r}function et(e,r){return e&&Object.hasOwnProperty.call(e,r)}var Rn=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Eu)};function Ii(){return!0}function yr(){return!1}function Sn(){}_t(Rn,Eu,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});const qi="Argument is not a typed-function.",Nt=function e(){function r(w){return typeof w=="object"&&w!==null&&w.constructor===Object}const n=[{name:"number",test:function(w){return typeof w=="number"}},{name:"string",test:function(w){return typeof w=="string"}},{name:"boolean",test:function(w){return typeof w=="boolean"}},{name:"Function",test:function(w){return typeof w=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(w){return w instanceof Date}},{name:"RegExp",test:function(w){return w instanceof RegExp}},{name:"Object",test:r},{name:"null",test:function(w){return w===null}},{name:"undefined",test:function(w){return w===void 0}}],t={name:"any",test:Ii,isAny:!0};let i,u,o=0,h={createCount:0};function c(w){const E=i.get(w);if(E)return E;let C='Unknown type "'+w+'"';const _=w.toLowerCase();let S;for(S of u)if(S.toLowerCase()===_){C+='. Did you mean "'+S+'" ?';break}throw new TypeError(C)}function f(w){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const C=E?c(E).index:u.length,_=[];for(let N=0;N<w.length;++N){if(!w[N]||typeof w[N].name!="string"||typeof w[N].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const R=w[N].name;if(i.has(R))throw new TypeError('Duplicate type name "'+R+'"');_.push(R),i.set(R,{name:R,test:w[N].test,isAny:w[N].isAny,index:C+N,conversionsTo:[]})}const S=u.slice(C);u=u.slice(0,C).concat(_).concat(S);for(let N=C+_.length;N<u.length;++N)i.get(u[N]).index=N}function a(){i=new Map,u=[],o=0,f([t],!1)}function s(w){const E=u.filter(C=>{const _=i.get(C);return!_.isAny&&_.test(w)});return E.length?E:["any"]}function p(w){return w&&typeof w=="function"&&"_typedFunctionData"in w}function l(w,E,C){if(!p(w))throw new TypeError(qi);const _=C&&C.exact,S=g(Array.isArray(E)?E.join(","):E),N=D(S);if(!_||N in w.signatures){const O=w._typedFunctionData.signatureMap.get(N);if(O)return O}const R=S.length;let I,Z;if(_){let O;for(O in I=[],w.signatures)I.push(w._typedFunctionData.signatureMap.get(O))}else I=w._typedFunctionData.signatures;for(let O=0;O<R;++O){const he=S[O],de=[];let me;for(me of I){const _e=x(me.params,O);if(_e&&(!he.restParam||_e.restParam)){if(!_e.hasAny){const Je=y(_e);if(he.types.some(ir=>!Je.has(ir.name)))continue}de.push(me)}}if(I=de,I.length===0)break}for(Z of I)if(Z.params.length<=R)return Z;throw new TypeError("Signature not found (signature: "+(w.name||"unnamed")+"("+D(S,", ")+"))")}function D(w){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return w.map(C=>C.name).join(E)}function d(w){const E=w.indexOf("...")===0,C=(E?w.length>3?w.slice(3):"any":w).split("|").map(N=>c(N.trim()));let _=!1,S=E?"...":"";return{types:C.map(function(N){return _=N.isAny||_,S+=N.name+"|",{name:N.name,typeIndex:N.index,test:N.test,isAny:N.isAny,conversion:null,conversionIndex:-1}}),name:S.slice(0,-1),hasAny:_,hasConversion:!1,restParam:E}}function m(w){const E=function(N){if(N.length===0)return[];const R=N.map(c);N.length>1&&R.sort((O,he)=>O.index-he.index);let I=R[0].conversionsTo;if(N.length===1)return I;I=I.concat([]);const Z=new Set(N);for(let O=1;O<R.length;++O){let he;for(he of R[O].conversionsTo)Z.has(he.from)||(I.push(he),Z.add(he.from))}return I}(w.types.map(N=>N.name));let C=w.hasAny,_=w.name;const S=E.map(function(N){const R=c(N.from);return C=R.isAny||C,_+="|"+N.from,{name:N.from,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:N,conversionIndex:N.index}});return{types:w.types.concat(S),name:_,hasAny:C,hasConversion:S.length>0,restParam:w.restParam}}function y(w){return w.typeSet||(w.typeSet=new Set,w.types.forEach(E=>w.typeSet.add(E.name))),w.typeSet}function g(w){const E=[];if(typeof w!="string")throw new TypeError("Signatures must be strings");const C=w.trim();if(C==="")return E;const _=C.split(",");for(let S=0;S<_.length;++S){const N=d(_[S].trim());if(N.restParam&&S!==_.length-1)throw new SyntaxError('Unexpected rest parameter "'+_[S]+'": only allowed for the last parameter');if(N.types.length===0)return null;E.push(N)}return E}function v(w){const E=ge(w);return!!E&&E.restParam}function A(w){if(w&&w.types.length!==0){if(w.types.length===1)return c(w.types[0].name).test;if(w.types.length===2){const E=c(w.types[0].name).test,C=c(w.types[1].name).test;return function(_){return E(_)||C(_)}}{const E=w.types.map(function(C){return c(C.name).test});return function(C){for(let _=0;_<E.length;_++)if(E[_](C))return!0;return!1}}}return Ii}function B(w){let E,C,_;if(v(w)){E=ze(w).map(A);const S=E.length,N=A(ge(w)),R=function(I){for(let Z=S;Z<I.length;Z++)if(!N(I[Z]))return!1;return!0};return function(I){for(let Z=0;Z<E.length;Z++)if(!E[Z](I[Z]))return!1;return R(I)&&I.length>=S+1}}return w.length===0?function(S){return S.length===0}:w.length===1?(C=A(w[0]),function(S){return C(S[0])&&S.length===1}):w.length===2?(C=A(w[0]),_=A(w[1]),function(S){return C(S[0])&&_(S[1])&&S.length===2}):(E=w.map(A),function(S){for(let N=0;N<E.length;N++)if(!E[N](S[N]))return!1;return S.length===E.length})}function x(w,E){return E<w.length?w[E]:v(w)?ge(w):null}function M(w,E){const C=x(w,E);return C?y(C):new Set}function T(w){return w.conversion===null||w.conversion===void 0}function j(w,E){const C=new Set;return w.forEach(_=>{const S=M(_.params,E);let N;for(N of S)C.add(N)}),C.has("any")?["any"]:Array.from(C)}function P(w,E,C){let _,S;const N=w||"unnamed";let R,I=C;for(R=0;R<E.length;R++){const de=[];if(I.forEach(me=>{const _e=A(x(me.params,R));(R<me.params.length||v(me.params))&&_e(E[R])&&de.push(me)}),de.length===0){if(S=j(I,R),S.length>0){const me=s(E[R]);return _=new TypeError("Unexpected type of argument in function "+N+" (expected: "+S.join(" or ")+", actual: "+me.join(" | ")+", index: "+R+")"),_.data={category:"wrongType",fn:N,index:R,actual:me,expected:S},_}}else I=de}const Z=I.map(function(de){return v(de.params)?1/0:de.params.length});if(E.length<Math.min.apply(null,Z))return S=j(I,R),_=new TypeError("Too few arguments in function "+N+" (expected: "+S.join(" or ")+", index: "+E.length+")"),_.data={category:"tooFewArgs",fn:N,index:E.length,expected:S},_;const O=Math.max.apply(null,Z);if(E.length>O)return _=new TypeError("Too many arguments in function "+N+" (expected: "+O+", actual: "+E.length+")"),_.data={category:"tooManyArgs",fn:N,index:E.length,expectedLength:O},_;const he=[];for(let de=0;de<E.length;++de)he.push(s(E[de]).join("|"));return _=new TypeError('Arguments of type "'+he.join(", ")+'" do not match any of the defined signatures of function '+N+"."),_.data={category:"mismatch",actual:he},_}function L(w){let E=u.length+1;for(let C=0;C<w.types.length;C++)T(w.types[C])&&(E=Math.min(E,w.types[C].typeIndex));return E}function H(w){let E=o+1;for(let C=0;C<w.types.length;C++)T(w.types[C])||(E=Math.min(E,w.types[C].conversionIndex));return E}function Y(w,E){if(w.hasAny){if(!E.hasAny)return 1}else if(E.hasAny)return-1;if(w.restParam){if(!E.restParam)return 1}else if(E.restParam)return-1;if(w.hasConversion){if(!E.hasConversion)return 1}else if(E.hasConversion)return-1;const C=L(w)-L(E);if(C<0)return-1;if(C>0)return 1;const _=H(w)-H(E);return _<0?-1:_>0?1:0}function J(w,E){const C=w.params,_=E.params,S=ge(C),N=ge(_),R=v(C),I=v(_);if(R&&S.hasAny){if(!I||!N.hasAny)return 1}else if(I&&N.hasAny)return-1;let Z,O=0,he=0;for(Z of C)Z.hasAny&&++O,Z.hasConversion&&++he;let de=0,me=0;for(Z of _)Z.hasAny&&++de,Z.hasConversion&&++me;if(O!==de)return O-de;if(R&&S.hasConversion){if(!I||!N.hasConversion)return 1}else if(I&&N.hasConversion)return-1;if(he!==me)return he-me;if(R){if(!I)return 1}else if(I)return-1;const _e=(C.length-_.length)*(R?-1:1);if(_e!==0)return _e;const Je=[];let ir,lr=0;for(let dr=0;dr<C.length;++dr){const Ur=Y(C[dr],_[dr]);Je.push(Ur),lr+=Ur}if(lr!==0)return lr;for(ir of Je)if(ir!==0)return ir;return 0}function G(w,E){let C=E;if(w.some(S=>S.hasConversion)){const S=v(w),N=w.map(V);C=function(){const R=[],I=S?arguments.length-1:arguments.length;for(let Z=0;Z<I;Z++)R[Z]=N[Z](arguments[Z]);return S&&(R[I]=arguments[I].map(N[I])),E.apply(this,R)}}let _=C;if(v(w)){const S=w.length-1;_=function(){return C.apply(this,we(arguments,0,S).concat([we(arguments,S)]))}}return _}function V(w){let E,C,_,S;const N=[],R=[];switch(w.types.forEach(function(I){I.conversion&&(N.push(c(I.conversion.from).test),R.push(I.conversion.convert))}),R.length){case 0:return function(I){return I};case 1:return E=N[0],_=R[0],function(I){return E(I)?_(I):I};case 2:return E=N[0],C=N[1],_=R[0],S=R[1],function(I){return E(I)?_(I):C(I)?S(I):I};default:return function(I){for(let Z=0;Z<R.length;Z++)if(N[Z](I))return R[Z](I);return I}}}function le(w){return function E(C,_,S){if(_<C.length){const I=C[_];let Z=[];if(I.restParam){const O=I.types.filter(T);O.length<I.types.length&&Z.push({types:O,name:"..."+O.map(he=>he.name).join("|"),hasAny:O.some(he=>he.isAny),hasConversion:!1,restParam:!0}),Z.push(I)}else Z=I.types.map(function(O){return{types:[O],name:O.name,hasAny:O.isAny,hasConversion:O.conversion,restParam:!1}});return N=Z,R=function(O){return E(C,_+1,S.concat([O]))},Array.prototype.concat.apply([],N.map(R))}return[S];var N,R}(w,0,[])}function De(w,E){const C=Math.max(w.length,E.length);for(let I=0;I<C;I++){const Z=M(w,I),O=M(E,I);let he,de=!1;for(he of O)if(Z.has(he)){de=!0;break}if(!de)return!1}const _=w.length,S=E.length,N=v(w),R=v(E);return N?R?_===S:S>=_:R?_>=S:_===S}function ce(w,E,C){const _=[];let S;for(S of w){let N=C[S];if(typeof N!="number")throw new TypeError('No definition for referenced signature "'+S+'"');if(N=E[N],typeof N!="function")return!1;_.push(N)}return _}function Ce(w,E,C){const _=function(R){return R.map(I=>Ve(I)?Ze(I.referToSelf.callback):qe(I)?$e(I.referTo.references,I.referTo.callback):I)}(w),S=new Array(_.length).fill(!1);let N=!0;for(;N;){N=!1;let R=!0;for(let I=0;I<_.length;++I){if(S[I])continue;const Z=_[I];if(Ve(Z))_[I]=Z.referToSelf.callback(C),_[I].referToSelf=Z.referToSelf,S[I]=!0,R=!1;else if(qe(Z)){const O=ce(Z.referTo.references,_,E);O?(_[I]=Z.referTo.callback.apply(this,O),_[I].referTo=Z.referTo,S[I]=!0,R=!1):N=!0}}if(R&&N)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return _}function ve(w,E){if(h.createCount++,Object.keys(E).length===0)throw new SyntaxError("No signatures provided");h.warnAgainstDeprecatedThis&&function(ae){const We=/\bthis(\(|\.signatures\b)/;Object.keys(ae).forEach(Ir=>{const mr=ae[Ir];if(We.test(mr.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(E);const C=[],_=[],S={},N=[];let R;for(R in E){if(!Object.prototype.hasOwnProperty.call(E,R))continue;const ae=g(R);if(!ae)continue;C.forEach(function(Ar){if(De(Ar,ae))throw new TypeError('Conflicting signatures "'+D(Ar)+'" and "'+D(ae)+'".')}),C.push(ae);const We=_.length;_.push(E[R]);const Ir=ae.map(m);let mr;for(mr of le(Ir)){const Ar=D(mr);N.push({params:mr,name:Ar,fn:We}),mr.every(Sr=>!Sr.hasConversion)&&(S[Ar]=We)}}N.sort(J);const I=Ce(_,S,Er);let Z;for(Z in S)Object.prototype.hasOwnProperty.call(S,Z)&&(S[Z]=I[S[Z]]);const O=[],he=new Map;for(Z of N)he.has(Z.name)||(Z.fn=I[Z.fn],O.push(Z),he.set(Z.name,Z));const de=O[0]&&O[0].params.length<=2&&!v(O[0].params),me=O[1]&&O[1].params.length<=2&&!v(O[1].params),_e=O[2]&&O[2].params.length<=2&&!v(O[2].params),Je=O[3]&&O[3].params.length<=2&&!v(O[3].params),ir=O[4]&&O[4].params.length<=2&&!v(O[4].params),lr=O[5]&&O[5].params.length<=2&&!v(O[5].params),dr=de&&me&&_e&&Je&&ir&&lr;for(let ae=0;ae<O.length;++ae)O[ae].test=B(O[ae].params);const Ur=de?A(O[0].params[0]):yr,Un=me?A(O[1].params[0]):yr,Br=_e?A(O[2].params[0]):yr,_r=Je?A(O[3].params[0]):yr,Pt=ir?A(O[4].params[0]):yr,dn=lr?A(O[5].params[0]):yr,Mr=de?A(O[0].params[1]):yr,mn=me?A(O[1].params[1]):yr,sr=_e?A(O[2].params[1]):yr,Ln=Je?A(O[3].params[1]):yr,gn=ir?A(O[4].params[1]):yr,wn=lr?A(O[5].params[1]):yr;for(let ae=0;ae<O.length;++ae)O[ae].implementation=G(O[ae].params,O[ae].fn);const yn=de?O[0].implementation:Sn,vn=me?O[1].implementation:Sn,Fn=_e?O[2].implementation:Sn,En=Je?O[3].implementation:Sn,An=ir?O[4].implementation:Sn,Lr=lr?O[5].implementation:Sn,Zn=de?O[0].params.length:-1,Cn=me?O[1].params.length:-1,un=_e?O[2].params.length:-1,on=Je?O[3].params.length:-1,an=ir?O[4].params.length:-1,sn=lr?O[5].params.length:-1,Zr=dr?6:0,Vn=O.length,xn=O.map(ae=>ae.test),Nr=O.map(ae=>ae.implementation),bn=function(){for(let ae=Zr;ae<Vn;ae++)if(xn[ae](arguments))return Nr[ae].apply(this,arguments);return h.onMismatch(w,arguments,O)};function Er(ae,We){return arguments.length===Zn&&Ur(ae)&&Mr(We)?yn.apply(this,arguments):arguments.length===Cn&&Un(ae)&&mn(We)?vn.apply(this,arguments):arguments.length===un&&Br(ae)&&sr(We)?Fn.apply(this,arguments):arguments.length===on&&_r(ae)&&Ln(We)?En.apply(this,arguments):arguments.length===an&&Pt(ae)&&gn(We)?An.apply(this,arguments):arguments.length===sn&&dn(ae)&&wn(We)?Lr.apply(this,arguments):bn.apply(this,arguments)}try{Object.defineProperty(Er,"name",{value:w})}catch{}return Er.signatures=S,Er._typedFunctionData={signatures:O,signatureMap:he},Er}function fe(w,E,C){throw P(w,E,C)}function ze(w){return we(w,0,w.length-1)}function ge(w){return w[w.length-1]}function we(w,E,C){return Array.prototype.slice.call(w,E,C)}function $e(w,E){return{referTo:{references:w,callback:E}}}function Ze(w){if(typeof w!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:w}}}function qe(w){return w&&typeof w.referTo=="object"&&Array.isArray(w.referTo.references)&&typeof w.referTo.callback=="function"}function Ve(w){return w&&typeof w.referToSelf=="object"&&typeof w.referToSelf.callback=="function"}function br(w,E){if(!w)return E;if(E&&E!==w){const C=new Error("Function names do not match (expected: "+w+", actual: "+E+")");throw C.data={actual:E,expected:w},C}return w}function ar(w){let E;for(const C in w)Object.prototype.hasOwnProperty.call(w,C)&&(p(w[C])||typeof w[C].signature=="string")&&(E=br(E,w[C].name));return E}function Pr(w,E){let C;for(C in E)if(Object.prototype.hasOwnProperty.call(E,C)){if(C in w&&E[C]!==w[C]){const _=new Error('Signature "'+C+'" is defined twice');throw _.data={signature:C,sourceFunction:E[C],destFunction:w[C]},_}w[C]=E[C]}}a(),f(n);const Rr=h;function Dn(w){if(!w||typeof w.from!="string"||typeof w.to!="string"||typeof w.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(w.to===w.from)throw new SyntaxError('Illegal to define conversion from "'+w.from+'" to itself.')}return h=function(w){const E=typeof w=="string";let C=E?w:"";const _={};for(let S=E?1:0;S<arguments.length;++S){const N=arguments[S];let R,I={};if(typeof N=="function"?(R=N.name,typeof N.signature=="string"?I[N.signature]=N:p(N)&&(I=N.signatures)):r(N)&&(I=N,E||(R=ar(N))),Object.keys(I).length===0){const Z=new TypeError("Argument to 'typed' at index "+S+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Z.data={index:S,argument:N},Z}E||(C=br(C,R)),Pr(_,I)}return ve(C||"",_)},h.create=e,h.createCount=Rr.createCount,h.onMismatch=fe,h.throwMismatchError=fe,h.createError=P,h.clear=a,h.clearConversions=function(){let w;for(w of u)i.get(w).conversionsTo=[];o=0},h.addTypes=f,h._findType=c,h.referTo=function(){const w=ze(arguments).map(C=>D(g(C))),E=ge(arguments);if(typeof E!="function")throw new TypeError("Callback function expected as last argument");return $e(w,E)},h.referToSelf=Ze,h.convert=function(w,E){const C=c(E);if(C.test(w))return w;const _=C.conversionsTo;if(_.length===0)throw new Error("There are no conversions to "+E+" defined.");for(let S=0;S<_.length;S++)if(c(_[S].from).test(w))return _[S].convert(w);throw new Error("Cannot convert "+w+" to "+E)},h.findSignature=l,h.find=function(w,E,C){return l(w,E,C).implementation},h.isTypedFunction=p,h.warnAgainstDeprecatedThis=!0,h.addType=function(w,E){let C="any";E!==!1&&i.has("Object")&&(C="Object"),h.addTypes([w],C)},h.addConversion=function(w){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Dn(w);const C=c(w.to),_=C.conversionsTo.find(S=>S.from===w.from);if(_){if(!E||!E.override)throw new Error('There is already a conversion from "'+w.from+'" to "'+C.name+'"');h.removeConversion({from:_.from,to:w.to,convert:_.convert})}C.conversionsTo.push({from:w.from,convert:w.convert,index:o++})},h.addConversions=function(w,E){w.forEach(C=>h.addConversion(C,E))},h.removeConversion=function(w){Dn(w);const E=c(w.to),C=function(S,N){for(let R=0;R<S.length;R++)if(N(S[R]))return S[R]}(E.conversionsTo,S=>S.from===w.from);if(!C)throw new Error("Attempt to remove nonexistent conversion from "+w.from+" to "+w.to);if(C.convert!==w.convert)throw new Error("Conversion to remove does not match existing conversion");const _=E.conversionsTo.indexOf(C);E.conversionsTo.splice(_,1)},h.resolve=function(w,E){if(!p(w))throw new TypeError(qi);const C=w._typedFunctionData.signatures;for(let _=0;_<C.length;++_)if(C[_].test(E))return C[_];return null},h}();function oe(e,r,n,t){function i(u){var o=function(h,c){for(var f={},a=0;a<c.length;a++){var s=c[a],p=h[s];p!==void 0&&(f[s]=p)}return f}(u,r.map(ma));return function(h,c,f){var a=c.filter(p=>!function(l){return l&&l[0]==="?"}(p)).every(p=>f[p]!==void 0);if(!a){var s=c.filter(p=>f[p]===void 0);throw new Error('Cannot create function "'.concat(h,'", ')+"some dependencies are missing: ".concat(s.map(p=>'"'.concat(p,'"')).join(", "),"."))}}(e,r,u),n(o)}return i.isFactory=!0,i.fn=e,i.dependencies=r.slice().sort(),t&&(i.meta=t),i}function ma(e){return e&&e[0]==="?"?e.slice(1):e}function Me(e){return typeof e=="boolean"||!!isFinite(e)&&e===Math.round(e)}function Lt(e,r,n){var t={2:"0b",8:"0o",16:"0x"}[r],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Me(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Me(e))throw new Error("Value must be an integer");e<0&&(e+=2**n),i="i".concat(n)}var u="";return e<0&&(e=-e,u="-"),"".concat(u).concat(t).concat(e.toString(r)).concat(i)}function Gt(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:n,precision:t,wordSize:i}=bu(r);switch(n){case"fixed":return function(u,o){if(isNaN(u)||!isFinite(u))return String(u);var h=vt(u),c=typeof o=="number"?Ft(h,h.exponent+1+o):h,f=c.coefficients,a=c.exponent+1,s=a+(o||0);return f.length<s&&(f=f.concat(In(s-f.length))),a<0&&(f=In(1-a).concat(f),a=1),a<f.length&&f.splice(a,0,a===0?"0.":"."),c.sign+f.join("")}(e,t);case"exponential":return ji(e,t);case"engineering":return function(u,o){if(isNaN(u)||!isFinite(u))return String(u);var h=vt(u),c=Ft(h,o),f=c.exponent,a=c.coefficients,s=f%3==0?f:f<0?f-3-f%3:f-f%3;if(Ae(o))for(;o>a.length||f-s+1>a.length;)a.push(0);else for(var p=Math.abs(f-s)-(a.length-1),l=0;l<p;l++)a.push(0);for(var D=Math.abs(f-s),d=1;D>0;)d++,D--;var m=a.slice(d).join(""),y=Ae(o)&&m.length||m.match(/[1-9]/)?"."+m:"",g=a.slice(0,d).join("")+y+"e"+(f>=0?"+":"")+s.toString();return c.sign+g}(e,t);case"bin":return Lt(e,2,i);case"oct":return Lt(e,8,i);case"hex":return Lt(e,16,i);case"auto":return function(u,o,h){if(isNaN(u)||!isFinite(u))return String(u);var c=Pi(h==null?void 0:h.lowerExp,-3),f=Pi(h==null?void 0:h.upperExp,5),a=vt(u),s=o?Ft(a,o):a;if(s.exponent<c||s.exponent>=f)return ji(u,o);var p=s.coefficients,l=s.exponent;p.length<o&&(p=p.concat(In(o-p.length))),p=p.concat(In(l-p.length+1+(p.length<o?o-p.length:0)));var D=l>0?l:0;return D<(p=In(-l).concat(p)).length-1&&p.splice(D+1,0,"."),s.sign+p.join("")}(e,t,r).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function bu(e){var r,n,t="auto";if(e!==void 0)if(Ae(e))r=e;else if(Oe(e))r=e.toNumber();else{if(!oi(e))throw new Error("Unsupported type of options, number, BigNumber, or object expected");e.precision!==void 0&&(r=ki(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=ki(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation)}return{notation:t,precision:r,wordSize:n}}function vt(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var n=r[1],t=r[2],i=parseFloat(r[4]||"0"),u=t.indexOf(".");i+=u!==-1?u-1:t.length-1;var o=t.replace(".","").replace(/^0*/,function(h){return i-=h.length,""}).replace(/0*$/,"").split("").map(function(h){return parseInt(h)});return o.length===0&&(o.push(0),i++),{sign:n,coefficients:o,exponent:i}}function ji(e,r){if(isNaN(e)||!isFinite(e))return String(e);var n=vt(e),t=r?Ft(n,r):n,i=t.coefficients,u=t.exponent;i.length<r&&(i=i.concat(In(r-i.length)));var o=i.shift();return t.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function Ft(e,r){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},t=n.coefficients;r<=0;)t.unshift(0),n.exponent++,r++;if(t.length>r&&t.splice(r,t.length-r)[0]>=5){var i=r-1;for(t[i]++;t[i]===10;)t.pop(),i===0&&(t.unshift(0),n.exponent++,i++),t[--i]++}return n}function In(e){for(var r=[],n=0;n<e;n++)r.push(0);return r}function Et(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(n<=0)throw new Error("Relative tolerance must be greater than 0");if(t<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(e)&&!isNaN(r)&&(isFinite(e)&&isFinite(r)?e===r||Math.abs(e-r)<=Math.max(n*Math.max(Math.abs(e),Math.abs(r)),t):e===r)}function ki(e,r){return Ae(e)?e:Oe(e)?e.toNumber():void r()}function Pi(e,r){return Ae(e)?e:Oe(e)?e.toNumber():r}var Bu=function(){return Bu=Nt.create,Nt},ga=oe("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:r,Complex:n,DenseMatrix:t,Fraction:i}=e,u=Bu();return u.clear(),u.addTypes([{name:"number",test:Ae},{name:"Complex",test:Au},{name:"BigNumber",test:Oe},{name:"bigint",test:Po},{name:"Fraction",test:Cu},{name:"Unit",test:xu},{name:"identifier",test:o=>zr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(o)},{name:"string",test:zr},{name:"Chain",test:da},{name:"Array",test:je},{name:"Matrix",test:Te},{name:"DenseMatrix",test:Ro},{name:"SparseMatrix",test:Uo},{name:"Range",test:Lo},{name:"Index",test:ui},{name:"boolean",test:Zo},{name:"ResultSet",test:Vo},{name:"Help",test:Wo},{name:"function",test:Ho},{name:"Date",test:Jo},{name:"RegExp",test:Yo},{name:"null",test:Xo},{name:"undefined",test:Ko},{name:"AccessorNode",test:Qo},{name:"ArrayNode",test:ea},{name:"AssignmentNode",test:ra},{name:"BlockNode",test:na},{name:"ConditionalNode",test:ta},{name:"ConstantNode",test:ia},{name:"FunctionNode",test:oa},{name:"FunctionAssignmentNode",test:ua},{name:"IndexNode",test:aa},{name:"Node",test:sa},{name:"ObjectNode",test:ca},{name:"OperatorNode",test:fa},{name:"ParenthesisNode",test:ha},{name:"RangeNode",test:la},{name:"RelationalNode",test:pa},{name:"SymbolNode",test:Da},{name:"Map",test:Go},{name:"Object",test:oi}]),u.addConversions([{from:"number",to:"BigNumber",convert:function(o){if(r||pt(o),o.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+o+"). Use function bignumber(x) to convert to BigNumber.");return new r(o)}},{from:"number",to:"Complex",convert:function(o){return n||Dt(o),new n(o,0)}},{from:"BigNumber",to:"Complex",convert:function(o){return n||Dt(o),new n(o.toNumber(),0)}},{from:"bigint",to:"number",convert:function(o){if(o>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+o+")");return Number(o)}},{from:"bigint",to:"BigNumber",convert:function(o){return r||pt(o),new r(o.toString())}},{from:"bigint",to:"Fraction",convert:function(o){return i||dt(o),new i(o)}},{from:"Fraction",to:"BigNumber",convert:function(o){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(o){return n||Dt(o),new n(o.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(o){i||dt(o);var h=new i(o);if(h.valueOf()!==o)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+o+"). Use function fraction(x) to convert to Fraction.");return h}},{from:"string",to:"number",convert:function(o){var h=Number(o);if(isNaN(h))throw new Error('Cannot convert "'+o+'" to a number');return h}},{from:"string",to:"BigNumber",convert:function(o){r||pt(o);try{return new r(o)}catch{throw new Error('Cannot convert "'+o+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(o){try{return BigInt(o)}catch{throw new Error('Cannot convert "'+o+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(o){i||dt(o);try{return new i(o)}catch{throw new Error('Cannot convert "'+o+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(o){n||Dt(o);try{return new n(o)}catch{throw new Error('Cannot convert "'+o+'" to Complex')}}},{from:"boolean",to:"number",convert:function(o){return+o}},{from:"boolean",to:"BigNumber",convert:function(o){return r||pt(o),new r(+o)}},{from:"boolean",to:"bigint",convert:function(o){return BigInt(+o)}},{from:"boolean",to:"Fraction",convert:function(o){return i||dt(o),new i(+o)}},{from:"boolean",to:"string",convert:function(o){return String(o)}},{from:"Array",to:"Matrix",convert:function(o){return t||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new t(o)}},{from:"Matrix",to:"Array",convert:function(o){return o.valueOf()}}]),u.onMismatch=(o,h,c)=>{var f=u.createError(o,h,c);if(["wrongType","mismatch"].includes(f.data.category)&&h.length===1&&Mt(h[0])&&c.some(s=>!s.params.includes(","))){var a=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw a.data=f.data,a}throw f},u.onMismatch=(o,h,c)=>{var f=u.createError(o,h,c);if(["wrongType","mismatch"].includes(f.data.category)&&h.length===1&&Mt(h[0])&&c.some(s=>!s.params.includes(","))){var a=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw a.data=f.data,a}throw f},u});function pt(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Dt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function dt(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var _u,jr,qn=9e15,Xr=1e9,Xt="0123456789abcdef",St="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Tt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Kt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-qn,maxE:qn,crypto:!1},te=!0,qt="[DecimalError] ",rn=qt+"Invalid argument: ",Mu=qt+"Precision limit exceeded",Nu=qt+"crypto unavailable",Su="[object Decimal]",Ke=Math.floor,ke=Math.pow,wa=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ya=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,va=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Tu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xr=1e7,Fa=St.length-1,Qt=Tt.length-1,z={toStringTag:Su};function He(e){var r,n,t,i=e.length-1,u="",o=e[0];if(i>0){for(u+=o,r=1;r<i;r++)(n=7-(t=e[r]+"").length)&&(u+=Gr(n)),u+=t;(n=7-(t=(o=e[r])+"").length)&&(u+=Gr(n))}else if(o===0)return"0";for(;o%10==0;)o/=10;return u+o}function cr(e,r,n){if(e!==~~e||e<r||e>n)throw Error(rn+e)}function Kn(e,r,n,t){var i,u,o,h;for(u=e[0];u>=10;u/=10)--r;return--r<0?(r+=7,i=0):(i=Math.ceil((r+1)/7),r%=7),u=ke(10,7-r),h=e[i]%u|0,t==null?r<3?(r==0?h=h/100|0:r==1&&(h=h/10|0),o=n<4&&h==99999||n>3&&h==49999||h==5e4||h==0):o=(n<4&&h+1==u||n>3&&h+1==u/2)&&(e[i+1]/u/100|0)==ke(10,r-2)-1||(h==u/2||h==0)&&!(e[i+1]/u/100|0):r<4?(r==0?h=h/1e3|0:r==1?h=h/100|0:r==2&&(h=h/10|0),o=(t||n<4)&&h==9999||!t&&n>3&&h==4999):o=((t||n<4)&&h+1==u||!t&&n>3&&h+1==u/2)&&(e[i+1]/u/1e3|0)==ke(10,r-3)-1,o}function At(e,r,n){for(var t,i,u=[0],o=0,h=e.length;o<h;){for(i=u.length;i--;)u[i]*=r;for(u[0]+=Xt.indexOf(e.charAt(o++)),t=0;t<u.length;t++)u[t]>n-1&&(u[t+1]===void 0&&(u[t+1]=0),u[t+1]+=u[t]/n|0,u[t]%=n)}return u.reverse()}z.absoluteValue=z.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Q(e)},z.ceil=function(){return Q(new this.constructor(this),this.e+1,2)},z.clampedTo=z.clamp=function(e,r){var n=this,t=n.constructor;if(e=new t(e),r=new t(r),!e.s||!r.s)return new t(NaN);if(e.gt(r))throw Error(rn+r);return n.cmp(e)<0?e:n.cmp(r)>0?r:new t(n)},z.comparedTo=z.cmp=function(e){var r,n,t,i,u=this,o=u.d,h=(e=new u.constructor(e)).d,c=u.s,f=e.s;if(!o||!h)return c&&f?c!==f?c:o===h?0:!o^c<0?1:-1:NaN;if(!o[0]||!h[0])return o[0]?c:h[0]?-f:0;if(c!==f)return c;if(u.e!==e.e)return u.e>e.e^c<0?1:-1;for(r=0,n=(t=o.length)<(i=h.length)?t:i;r<n;++r)if(o[r]!==h[r])return o[r]>h[r]^c<0?1:-1;return t===i?0:t>i^c<0?1:-1},z.cosine=z.cos=function(){var e,r,n=this,t=n.constructor;return n.d?n.d[0]?(e=t.precision,r=t.rounding,t.precision=e+Math.max(n.e,n.sd())+7,t.rounding=1,n=function(i,u){var o,h,c;if(u.isZero())return u;h=u.d.length,h<32?c=(1/mt(4,o=Math.ceil(h/3))).toString():(o=16,c="2.3283064365386962890625e-10"),i.precision+=o,u=Tn(i,1,u.times(c),new i(1));for(var f=o;f--;){var a=u.times(u);u=a.times(a).minus(a).times(8).plus(1)}return i.precision-=o,u}(t,Li(t,n)),t.precision=e,t.rounding=r,Q(jr==2||jr==3?n.neg():n,e,r,!0)):new t(1):new t(NaN)},z.cubeRoot=z.cbrt=function(){var e,r,n,t,i,u,o,h,c,f,a=this,s=a.constructor;if(!a.isFinite()||a.isZero())return new s(a);for(te=!1,(u=a.s*ke(a.s*a,1/3))&&Math.abs(u)!=1/0?t=new s(u.toString()):(n=He(a.d),(u=((e=a.e)-n.length+1)%3)&&(n+=u==1||u==-2?"0":"00"),u=ke(n,1/3),e=Ke((e+1)/3)-(e%3==(e<0?-1:2)),(t=new s(n=u==1/0?"5e"+e:(n=u.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=a.s),o=(e=s.precision)+3;;)if(f=(c=(h=t).times(h).times(h)).plus(a),t=Fe(f.plus(a).times(h),f.plus(c),o+2,1),He(h.d).slice(0,o)===(n=He(t.d)).slice(0,o)){if((n=n.slice(o-3,o+1))!="9999"&&(i||n!="4999")){+n&&(+n.slice(1)||n.charAt(0)!="5")||(Q(t,e+1,1),r=!t.times(t).times(t).eq(a));break}if(!i&&(Q(h,e+1,0),h.times(h).times(h).eq(a))){t=h;break}o+=4,i=1}return te=!0,Q(t,e,s.rounding,r)},z.decimalPlaces=z.dp=function(){var e,r=this.d,n=NaN;if(r){if(n=7*((e=r.length-1)-Ke(this.e/7)),e=r[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},z.dividedBy=z.div=function(e){return Fe(this,new this.constructor(e))},z.dividedToIntegerBy=z.divToInt=function(e){var r=this.constructor;return Q(Fe(this,new r(e),0,1,1),r.precision,r.rounding)},z.equals=z.eq=function(e){return this.cmp(e)===0},z.floor=function(){return Q(new this.constructor(this),this.e+1,3)},z.greaterThan=z.gt=function(e){return this.cmp(e)>0},z.greaterThanOrEqualTo=z.gte=function(e){var r=this.cmp(e);return r==1||r===0},z.hyperbolicCosine=z.cosh=function(){var e,r,n,t,i,u=this,o=u.constructor,h=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return h;n=o.precision,t=o.rounding,o.precision=n+Math.max(u.e,u.sd())+4,o.rounding=1,(i=u.d.length)<32?r=(1/mt(4,e=Math.ceil(i/3))).toString():(e=16,r="2.3283064365386962890625e-10"),u=Tn(o,1,u.times(r),new o(1),!0);for(var c,f=e,a=new o(8);f--;)c=u.times(u),u=h.minus(c.times(a.minus(c.times(a))));return Q(u,o.precision=n,o.rounding=t,!0)},z.hyperbolicSine=z.sinh=function(){var e,r,n,t,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(r=u.precision,n=u.rounding,u.precision=r+Math.max(i.e,i.sd())+4,u.rounding=1,(t=i.d.length)<3)i=Tn(u,2,i,i,!0);else{e=(e=1.4*Math.sqrt(t))>16?16:0|e,i=Tn(u,2,i=i.times(1/mt(5,e)),i,!0);for(var o,h=new u(5),c=new u(16),f=new u(20);e--;)o=i.times(i),i=i.times(h.plus(o.times(c.times(o).plus(f))))}return u.precision=r,u.rounding=n,Q(i,r,n,!0)},z.hyperbolicTangent=z.tanh=function(){var e,r,n=this,t=n.constructor;return n.isFinite()?n.isZero()?new t(n):(e=t.precision,r=t.rounding,t.precision=e+7,t.rounding=1,Fe(n.sinh(),n.cosh(),t.precision=e,t.rounding=r)):new t(n.s)},z.inverseCosine=z.acos=function(){var e=this,r=e.constructor,n=e.abs().cmp(1),t=r.precision,i=r.rounding;return n!==-1?n===0?e.isNeg()?$r(r,t,i):new r(0):new r(NaN):e.isZero()?$r(r,t+4,i).times(.5):(r.precision=t+6,r.rounding=1,e=new r(1).minus(e).div(e.plus(1)).sqrt().atan(),r.precision=t,r.rounding=i,e.times(2))},z.inverseHyperbolicCosine=z.acosh=function(){var e,r,n=this,t=n.constructor;return n.lte(1)?new t(n.eq(1)?0:NaN):n.isFinite()?(e=t.precision,r=t.rounding,t.precision=e+Math.max(Math.abs(n.e),n.sd())+4,t.rounding=1,te=!1,n=n.times(n).minus(1).sqrt().plus(n),te=!0,t.precision=e,t.rounding=r,n.ln()):new t(n)},z.inverseHyperbolicSine=z.asinh=function(){var e,r,n=this,t=n.constructor;return!n.isFinite()||n.isZero()?new t(n):(e=t.precision,r=t.rounding,t.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,t.rounding=1,te=!1,n=n.times(n).plus(1).sqrt().plus(n),te=!0,t.precision=e,t.rounding=r,n.ln())},z.inverseHyperbolicTangent=z.atanh=function(){var e,r,n,t,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,r=u.rounding,t=i.sd(),Math.max(t,e)<2*-i.e-1?Q(new u(i),e,r,!0):(u.precision=n=t-i.e,i=Fe(i.plus(1),new u(1).minus(i),n+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=r,i.times(.5))):new u(NaN)},z.inverseSine=z.asin=function(){var e,r,n,t,i=this,u=i.constructor;return i.isZero()?new u(i):(r=i.abs().cmp(1),n=u.precision,t=u.rounding,r!==-1?r===0?((e=$r(u,n+4,t).times(.5)).s=i.s,e):new u(NaN):(u.precision=n+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=n,u.rounding=t,i.times(2)))},z.inverseTangent=z.atan=function(){var e,r,n,t,i,u,o,h,c,f=this,a=f.constructor,s=a.precision,p=a.rounding;if(f.isFinite()){if(f.isZero())return new a(f);if(f.abs().eq(1)&&s+4<=Qt)return(o=$r(a,s+4,p).times(.25)).s=f.s,o}else{if(!f.s)return new a(NaN);if(s+4<=Qt)return(o=$r(a,s+4,p).times(.5)).s=f.s,o}for(a.precision=h=s+10,a.rounding=1,e=n=Math.min(28,h/7+2|0);e;--e)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(te=!1,r=Math.ceil(h/7),t=1,c=f.times(f),o=new a(f),i=f;e!==-1;)if(i=i.times(c),u=o.minus(i.div(t+=2)),i=i.times(c),(o=u.plus(i.div(t+=2))).d[r]!==void 0)for(e=r;o.d[e]===u.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),te=!0,Q(o,a.precision=s,a.rounding=p,!0)},z.isFinite=function(){return!!this.d},z.isInteger=z.isInt=function(){return!!this.d&&Ke(this.e/7)>this.d.length-2},z.isNaN=function(){return!this.s},z.isNegative=z.isNeg=function(){return this.s<0},z.isPositive=z.isPos=function(){return this.s>0},z.isZero=function(){return!!this.d&&this.d[0]===0},z.lessThan=z.lt=function(e){return this.cmp(e)<0},z.lessThanOrEqualTo=z.lte=function(e){return this.cmp(e)<1},z.logarithm=z.log=function(e){var r,n,t,i,u,o,h,c,f=this,a=f.constructor,s=a.precision,p=a.rounding;if(e==null)e=new a(10),r=!0;else{if(n=(e=new a(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new a(NaN);r=e.eq(10)}if(n=f.d,f.s<0||!n||!n[0]||f.eq(1))return new a(n&&!n[0]?-1/0:f.s!=1?NaN:n?0:1/0);if(r)if(n.length>1)u=!0;else{for(i=n[0];i%10==0;)i/=10;u=i!==1}if(te=!1,o=Jr(f,h=s+5),t=r?zt(a,h+10):Jr(e,h),Kn((c=Fe(o,t,h,1)).d,i=s,p))do if(o=Jr(f,h+=10),t=r?zt(a,h+10):Jr(e,h),c=Fe(o,t,h,1),!u){+He(c.d).slice(i+1,i+15)+1==1e14&&(c=Q(c,s+1,0));break}while(Kn(c.d,i+=10,p));return te=!0,Q(c,s,p)},z.minus=z.sub=function(e){var r,n,t,i,u,o,h,c,f,a,s,p,l=this,D=l.constructor;if(e=new D(e),!l.d||!e.d)return l.s&&e.s?l.d?e.s=-e.s:e=new D(e.d||l.s!==e.s?l:NaN):e=new D(NaN),e;if(l.s!=e.s)return e.s=-e.s,l.plus(e);if(f=l.d,p=e.d,h=D.precision,c=D.rounding,!f[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!f[0])return new D(c===3?-0:0);e=new D(l)}return te?Q(e,h,c):e}if(n=Ke(e.e/7),a=Ke(l.e/7),f=f.slice(),u=a-n){for((s=u<0)?(r=f,u=-u,o=p.length):(r=p,n=a,o=f.length),u>(t=Math.max(Math.ceil(h/7),o)+2)&&(u=t,r.length=1),r.reverse(),t=u;t--;)r.push(0);r.reverse()}else{for((s=(t=f.length)<(o=p.length))&&(o=t),t=0;t<o;t++)if(f[t]!=p[t]){s=f[t]<p[t];break}u=0}for(s&&(r=f,f=p,p=r,e.s=-e.s),o=f.length,t=p.length-o;t>0;--t)f[o++]=0;for(t=p.length;t>u;){if(f[--t]<p[t]){for(i=t;i&&f[--i]===0;)f[i]=xr-1;--f[i],f[t]+=xr}f[t]-=p[t]}for(;f[--o]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(e.d=f,e.e=Ct(f,n),te?Q(e,h,c):e):new D(c===3?-0:0)},z.modulo=z.mod=function(e){var r,n=this,t=n.constructor;return e=new t(e),!n.d||!e.s||e.d&&!e.d[0]?new t(NaN):!e.d||n.d&&!n.d[0]?Q(new t(n),t.precision,t.rounding):(te=!1,t.modulo==9?(r=Fe(n,e.abs(),0,3,1)).s*=e.s:r=Fe(n,e,0,t.modulo,1),r=r.times(e),te=!0,n.minus(r))},z.naturalExponential=z.exp=function(){return Zt(this)},z.naturalLogarithm=z.ln=function(){return Jr(this)},z.negated=z.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Q(e)},z.plus=z.add=function(e){var r,n,t,i,u,o,h,c,f,a,s=this,p=s.constructor;if(e=new p(e),!s.d||!e.d)return s.s&&e.s?s.d||(e=new p(e.d||s.s===e.s?s:NaN)):e=new p(NaN),e;if(s.s!=e.s)return e.s=-e.s,s.minus(e);if(f=s.d,a=e.d,h=p.precision,c=p.rounding,!f[0]||!a[0])return a[0]||(e=new p(s)),te?Q(e,h,c):e;if(u=Ke(s.e/7),t=Ke(e.e/7),f=f.slice(),i=u-t){for(i<0?(n=f,i=-i,o=a.length):(n=a,t=u,o=f.length),i>(o=(u=Math.ceil(h/7))>o?u+1:o+1)&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((o=f.length)-(i=a.length)<0&&(i=o,n=a,a=f,f=n),r=0;i;)r=(f[--i]=f[i]+a[i]+r)/xr|0,f[i]%=xr;for(r&&(f.unshift(r),++t),o=f.length;f[--o]==0;)f.pop();return e.d=f,e.e=Ct(f,t),te?Q(e,h,c):e},z.precision=z.sd=function(e){var r,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rn+e);return n.d?(r=Ri(n.d),e&&n.e+1>r&&(r=n.e+1)):r=NaN,r},z.round=function(){var e=this,r=e.constructor;return Q(new r(e),e.e+1,r.rounding)},z.sine=z.sin=function(){var e,r,n=this,t=n.constructor;return n.isFinite()?n.isZero()?new t(n):(e=t.precision,r=t.rounding,t.precision=e+Math.max(n.e,n.sd())+7,t.rounding=1,n=function(i,u){var o,h=u.d.length;if(h<3)return u.isZero()?u:Tn(i,2,u,u);o=(o=1.4*Math.sqrt(h))>16?16:0|o,u=u.times(1/mt(5,o)),u=Tn(i,2,u,u);for(var c,f=new i(5),a=new i(16),s=new i(20);o--;)c=u.times(u),u=u.times(f.plus(c.times(a.times(c).minus(s))));return u}(t,Li(t,n)),t.precision=e,t.rounding=r,Q(jr>2?n.neg():n,e,r,!0)):new t(NaN)},z.squareRoot=z.sqrt=function(){var e,r,n,t,i,u,o=this,h=o.d,c=o.e,f=o.s,a=o.constructor;if(f!==1||!h||!h[0])return new a(!f||f<0&&(!h||h[0])?NaN:h?o:1/0);for(te=!1,(f=Math.sqrt(+o))==0||f==1/0?(((r=He(h)).length+c)%2==0&&(r+="0"),f=Math.sqrt(r),c=Ke((c+1)/2)-(c<0||c%2),t=new a(r=f==1/0?"5e"+c:(r=f.toExponential()).slice(0,r.indexOf("e")+1)+c)):t=new a(f.toString()),n=(c=a.precision)+3;;)if(t=(u=t).plus(Fe(o,u,n+2,1)).times(.5),He(u.d).slice(0,n)===(r=He(t.d)).slice(0,n)){if((r=r.slice(n-3,n+1))!="9999"&&(i||r!="4999")){+r&&(+r.slice(1)||r.charAt(0)!="5")||(Q(t,c+1,1),e=!t.times(t).eq(o));break}if(!i&&(Q(u,c+1,0),u.times(u).eq(o))){t=u;break}n+=4,i=1}return te=!0,Q(t,c,a.rounding,e)},z.tangent=z.tan=function(){var e,r,n=this,t=n.constructor;return n.isFinite()?n.isZero()?new t(n):(e=t.precision,r=t.rounding,t.precision=e+10,t.rounding=1,(n=n.sin()).s=1,n=Fe(n,new t(1).minus(n.times(n)).sqrt(),e+10,0),t.precision=e,t.rounding=r,Q(jr==2||jr==4?n.neg():n,e,r,!0)):new t(NaN)},z.times=z.mul=function(e){var r,n,t,i,u,o,h,c,f,a=this,s=a.constructor,p=a.d,l=(e=new s(e)).d;if(e.s*=a.s,!(p&&p[0]&&l&&l[0]))return new s(!e.s||p&&!p[0]&&!l||l&&!l[0]&&!p?NaN:p&&l?0*e.s:e.s/0);for(n=Ke(a.e/7)+Ke(e.e/7),(c=p.length)<(f=l.length)&&(u=p,p=l,l=u,o=c,c=f,f=o),u=[],t=o=c+f;t--;)u.push(0);for(t=f;--t>=0;){for(r=0,i=c+t;i>t;)h=u[i]+l[t]*p[i-t-1]+r,u[i--]=h%xr|0,r=h/xr|0;u[i]=(u[i]+r)%xr|0}for(;!u[--o];)u.pop();return r?++n:u.shift(),e.d=u,e.e=Ct(u,n),te?Q(e,s.precision,s.rounding):e},z.toBinary=function(e,r){return Vt(this,2,e,r)},z.toDecimalPlaces=z.toDP=function(e,r){var n=this,t=n.constructor;return n=new t(n),e===void 0?n:(cr(e,0,Xr),r===void 0?r=t.rounding:cr(r,0,8),Q(n,e+n.e+1,r))},z.toExponential=function(e,r){var n,t=this,i=t.constructor;return e===void 0?n=Tr(t,!0):(cr(e,0,Xr),r===void 0?r=i.rounding:cr(r,0,8),n=Tr(t=Q(new i(t),e+1,r),!0,e+1)),t.isNeg()&&!t.isZero()?"-"+n:n},z.toFixed=function(e,r){var n,t,i=this,u=i.constructor;return e===void 0?n=Tr(i):(cr(e,0,Xr),r===void 0?r=u.rounding:cr(r,0,8),n=Tr(t=Q(new u(i),e+i.e+1,r),!1,e+t.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},z.toFraction=function(e){var r,n,t,i,u,o,h,c,f,a,s,p,l=this,D=l.d,d=l.constructor;if(!D)return new d(l);if(f=n=new d(1),t=c=new d(0),o=(u=(r=new d(t)).e=Ri(D)-l.e-1)%7,r.d[0]=ke(10,o<0?7+o:o),e==null)e=u>0?r:f;else{if(!(h=new d(e)).isInt()||h.lt(f))throw Error(rn+h);e=h.gt(r)?u>0?r:f:h}for(te=!1,h=new d(He(D)),a=d.precision,d.precision=u=7*D.length*2;s=Fe(h,r,0,1,1),(i=n.plus(s.times(t))).cmp(e)!=1;)n=t,t=i,i=f,f=c.plus(s.times(i)),c=i,i=r,r=h.minus(s.times(i)),h=i;return i=Fe(e.minus(n),t,0,1,1),c=c.plus(i.times(f)),n=n.plus(i.times(t)),c.s=f.s=l.s,p=Fe(f,t,u,1).minus(l).abs().cmp(Fe(c,n,u,1).minus(l).abs())<1?[f,t]:[c,n],d.precision=a,te=!0,p},z.toHexadecimal=z.toHex=function(e,r){return Vt(this,16,e,r)},z.toNearest=function(e,r){var n=this,t=n.constructor;if(n=new t(n),e==null){if(!n.d)return n;e=new t(1),r=t.rounding}else{if(e=new t(e),r===void 0?r=t.rounding:cr(r,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(te=!1,n=Fe(n,e,0,r,1).times(e),te=!0,Q(n)):(e.s=n.s,n=e),n},z.toNumber=function(){return+this},z.toOctal=function(e,r){return Vt(this,8,e,r)},z.toPower=z.pow=function(e){var r,n,t,i,u,o,h=this,c=h.constructor,f=+(e=new c(e));if(!(h.d&&e.d&&h.d[0]&&e.d[0]))return new c(ke(+h,f));if((h=new c(h)).eq(1))return h;if(t=c.precision,u=c.rounding,e.eq(1))return Q(h,t,u);if((r=Ke(e.e/7))>=e.d.length-1&&(n=f<0?-f:f)<=9007199254740991)return i=zu(c,h,n,t),e.s<0?new c(1).div(i):Q(i,t,u);if((o=h.s)<0){if(r<e.d.length-1)return new c(NaN);if(1&e.d[r]||(o=1),h.e==0&&h.d[0]==1&&h.d.length==1)return h.s=o,h}return(r=(n=ke(+h,f))!=0&&isFinite(n)?new c(n+"").e:Ke(f*(Math.log("0."+He(h.d))/Math.LN10+h.e+1)))>c.maxE+1||r<c.minE-1?new c(r>0?o/0:0):(te=!1,c.rounding=h.s=1,n=Math.min(12,(r+"").length),(i=Zt(e.times(Jr(h,t+n)),t)).d&&Kn((i=Q(i,t+5,1)).d,t,u)&&(r=t+10,+He((i=Q(Zt(e.times(Jr(h,r+n)),r),r+5,1)).d).slice(t+1,t+15)+1==1e14&&(i=Q(i,t+1,0))),i.s=o,te=!0,c.rounding=u,Q(i,t,u))},z.toPrecision=function(e,r){var n,t=this,i=t.constructor;return e===void 0?n=Tr(t,t.e<=i.toExpNeg||t.e>=i.toExpPos):(cr(e,1,Xr),r===void 0?r=i.rounding:cr(r,0,8),n=Tr(t=Q(new i(t),e,r),e<=t.e||t.e<=i.toExpNeg,e)),t.isNeg()&&!t.isZero()?"-"+n:n},z.toSignificantDigits=z.toSD=function(e,r){var n=this.constructor;return e===void 0?(e=n.precision,r=n.rounding):(cr(e,1,Xr),r===void 0?r=n.rounding:cr(r,0,8)),Q(new n(this),e,r)},z.toString=function(){var e=this,r=e.constructor,n=Tr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},z.truncated=z.trunc=function(){return Q(new this.constructor(this),this.e+1,1)},z.valueOf=z.toJSON=function(){var e=this,r=e.constructor,n=Tr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+n:n};var Fe=function(){function e(t,i,u){var o,h=0,c=t.length;for(t=t.slice();c--;)o=t[c]*i+h,t[c]=o%u|0,h=o/u|0;return h&&t.unshift(h),t}function r(t,i,u,o){var h,c;if(u!=o)c=u>o?1:-1;else for(h=c=0;h<u;h++)if(t[h]!=i[h]){c=t[h]>i[h]?1:-1;break}return c}function n(t,i,u,o){for(var h=0;u--;)t[u]-=h,h=t[u]<i[u]?1:0,t[u]=h*o+t[u]-i[u];for(;!t[0]&&t.length>1;)t.shift()}return function(t,i,u,o,h,c){var f,a,s,p,l,D,d,m,y,g,v,A,B,x,M,T,j,P,L,H,Y=t.constructor,J=t.s==i.s?1:-1,G=t.d,V=i.d;if(!(G&&G[0]&&V&&V[0]))return new Y(t.s&&i.s&&(G?!V||G[0]!=V[0]:V)?G&&G[0]==0||!V?0*J:J/0:NaN);for(c?(l=1,a=t.e-i.e):(c=xr,l=7,a=Ke(t.e/l)-Ke(i.e/l)),L=V.length,j=G.length,g=(y=new Y(J)).d=[],s=0;V[s]==(G[s]||0);s++);if(V[s]>(G[s]||0)&&a--,u==null?(x=u=Y.precision,o=Y.rounding):x=h?u+(t.e-i.e)+1:u,x<0)g.push(1),D=!0;else{if(x=x/l+2|0,s=0,L==1){for(p=0,V=V[0],x++;(s<j||p)&&x--;s++)M=p*c+(G[s]||0),g[s]=M/V|0,p=M%V|0;D=p||s<j}else{for((p=c/(V[0]+1)|0)>1&&(V=e(V,p,c),G=e(G,p,c),L=V.length,j=G.length),T=L,A=(v=G.slice(0,L)).length;A<L;)v[A++]=0;(H=V.slice()).unshift(0),P=V[0],V[1]>=c/2&&++P;do p=0,(f=r(V,v,L,A))<0?(B=v[0],L!=A&&(B=B*c+(v[1]||0)),(p=B/P|0)>1?(p>=c&&(p=c-1),(f=r(d=e(V,p,c),v,m=d.length,A=v.length))==1&&(p--,n(d,L<m?H:V,m,c))):(p==0&&(f=p=1),d=V.slice()),(m=d.length)<A&&d.unshift(0),n(v,d,A,c),f==-1&&(f=r(V,v,L,A=v.length))<1&&(p++,n(v,L<A?H:V,A,c)),A=v.length):f===0&&(p++,v=[0]),g[s++]=p,f&&v[0]?v[A++]=G[T]||0:(v=[G[T]],A=1);while((T++<j||v[0]!==void 0)&&x--);D=v[0]!==void 0}g[0]||g.shift()}if(l==1)y.e=a,_u=D;else{for(s=1,p=g[0];p>=10;p/=10)s++;y.e=s+a*l-1,Q(y,h?u+y.e+1:u,o,D)}return y}}();function Q(e,r,n,t){var i,u,o,h,c,f,a,s,p,l=e.constructor;e:if(r!=null){if(!(s=e.d))return e;for(i=1,h=s[0];h>=10;h/=10)i++;if((u=r-i)<0)u+=7,o=r,c=(a=s[p=0])/ke(10,i-o-1)%10|0;else if((p=Math.ceil((u+1)/7))>=(h=s.length)){if(!t)break e;for(;h++<=p;)s.push(0);a=c=0,i=1,o=(u%=7)-7+1}else{for(a=h=s[p],i=1;h>=10;h/=10)i++;c=(o=(u%=7)-7+i)<0?0:a/ke(10,i-o-1)%10|0}if(t=t||r<0||s[p+1]!==void 0||(o<0?a:a%ke(10,i-o-1)),f=n<4?(c||t)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||t||n==6&&(u>0?o>0?a/ke(10,i-o):0:s[p-1])%10&1||n==(e.s<0?8:7)),r<1||!s[0])return s.length=0,f?(r-=e.e+1,s[0]=ke(10,(7-r%7)%7),e.e=-r||0):s[0]=e.e=0,e;if(u==0?(s.length=p,h=1,p--):(s.length=p+1,h=ke(10,7-u),s[p]=o>0?(a/ke(10,i-o)%ke(10,o)|0)*h:0),f)for(;;){if(p==0){for(u=1,o=s[0];o>=10;o/=10)u++;for(o=s[0]+=h,h=1;o>=10;o/=10)h++;u!=h&&(e.e++,s[0]==xr&&(s[0]=1));break}if(s[p]+=h,s[p]!=xr)break;s[p--]=0,h=1}for(u=s.length;s[--u]===0;)s.pop()}return te&&(e.e>l.maxE?(e.d=null,e.e=NaN):e.e<l.minE&&(e.e=0,e.d=[0])),e}function Tr(e,r,n){if(!e.isFinite())return Ou(e);var t,i=e.e,u=He(e.d),o=u.length;return r?(n&&(t=n-o)>0?u=u.charAt(0)+"."+u.slice(1)+Gr(t):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+Gr(-i-1)+u,n&&(t=n-o)>0&&(u+=Gr(t))):i>=o?(u+=Gr(i+1-o),n&&(t=n-i-1)>0&&(u=u+"."+Gr(t))):((t=i+1)<o&&(u=u.slice(0,t)+"."+u.slice(t)),n&&(t=n-o)>0&&(i+1===o&&(u+="."),u+=Gr(t))),u}function Ct(e,r){var n=e[0];for(r*=7;n>=10;n/=10)r++;return r}function zt(e,r,n){if(r>Fa)throw te=!0,n&&(e.precision=n),Error(Mu);return Q(new e(St),r,1,!0)}function $r(e,r,n){if(r>Qt)throw Error(Mu);return Q(new e(Tt),r,n,!0)}function Ri(e){var r=e.length-1,n=7*r+1;if(r=e[r]){for(;r%10==0;r/=10)n--;for(r=e[0];r>=10;r/=10)n++}return n}function Gr(e){for(var r="";e--;)r+="0";return r}function zu(e,r,n,t){var i,u=new e(1),o=Math.ceil(t/7+4);for(te=!1;;){if(n%2&&Zi((u=u.times(r)).d,o)&&(i=!0),(n=Ke(n/2))===0){n=u.d.length-1,i&&u.d[n]===0&&++u.d[n];break}Zi((r=r.times(r)).d,o)}return te=!0,u}function Ui(e){return 1&e.d[e.d.length-1]}function $u(e,r,n){for(var t,i,u=new e(r[0]),o=0;++o<r.length;){if(!(i=new e(r[o])).s){u=i;break}((t=u.cmp(i))===n||t===0&&u.s===n)&&(u=i)}return u}function Zt(e,r){var n,t,i,u,o,h,c,f=0,a=0,s=0,p=e.constructor,l=p.rounding,D=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(r==null?(te=!1,c=D):c=r,h=new p(.03125);e.e>-2;)e=e.times(h),s+=5;for(c+=t=Math.log(ke(2,s))/Math.LN10*2+5|0,n=u=o=new p(1),p.precision=c;;){if(u=Q(u.times(e),c,1),n=n.times(++a),He((h=o.plus(Fe(u,n,c,1))).d).slice(0,c)===He(o.d).slice(0,c)){for(i=s;i--;)o=Q(o.times(o),c,1);if(r!=null)return p.precision=D,o;if(!(f<3&&Kn(o.d,c-t,l,f)))return Q(o,p.precision=D,l,te=!0);p.precision=c+=10,n=u=h=new p(1),a=0,f++}o=h}}function Jr(e,r){var n,t,i,u,o,h,c,f,a,s,p,l=1,D=e,d=D.d,m=D.constructor,y=m.rounding,g=m.precision;if(D.s<0||!d||!d[0]||!D.e&&d[0]==1&&d.length==1)return new m(d&&!d[0]?-1/0:D.s!=1?NaN:d?0:D);if(r==null?(te=!1,a=g):a=r,m.precision=a+=10,t=(n=He(d)).charAt(0),!(Math.abs(u=D.e)<15e14))return f=zt(m,a+2,g).times(u+""),D=Jr(new m(t+"."+n.slice(1)),a-10).plus(f),m.precision=g,r==null?Q(D,g,y,te=!0):D;for(;t<7&&t!=1||t==1&&n.charAt(1)>3;)t=(n=He((D=D.times(e)).d)).charAt(0),l++;for(u=D.e,t>1?(D=new m("0."+n),u++):D=new m(t+"."+n.slice(1)),s=D,c=o=D=Fe(D.minus(1),D.plus(1),a,1),p=Q(D.times(D),a,1),i=3;;){if(o=Q(o.times(p),a,1),He((f=c.plus(Fe(o,new m(i),a,1))).d).slice(0,a)===He(c.d).slice(0,a)){if(c=c.times(2),u!==0&&(c=c.plus(zt(m,a+2,g).times(u+""))),c=Fe(c,new m(l),a,1),r!=null)return m.precision=g,c;if(!Kn(c.d,a-10,y,h))return Q(c,m.precision=g,y,te=!0);m.precision=a+=10,f=o=D=Fe(s.minus(1),s.plus(1),a,1),p=Q(D.times(D),a,1),i=h=1}c=f,i+=2}}function Ou(e){return String(e.s*e.s/0)}function xt(e,r){var n,t,i;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(t=r.search(/e/i))>0?(n<0&&(n=t),n+=+r.slice(t+1),r=r.substring(0,t)):n<0&&(n=r.length),t=0;r.charCodeAt(t)===48;t++);for(i=r.length;r.charCodeAt(i-1)===48;--i);if(r=r.slice(t,i)){if(i-=t,e.e=n=n-t-1,e.d=[],t=(n+1)%7,n<0&&(t+=7),t<i){for(t&&e.d.push(+r.slice(0,t)),i-=7;t<i;)e.d.push(+r.slice(t,t+=7));t=7-(r=r.slice(t)).length}else t-=i;for(;t--;)r+="0";e.d.push(+r),te&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Ea(e,r){var n,t,i,u,o,h,c,f,a;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),Tu.test(r))return xt(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(ya.test(r))n=16,r=r.toLowerCase();else if(wa.test(r))n=2;else{if(!va.test(r))throw Error(rn+r);n=8}for((u=r.search(/p/i))>0?(c=+r.slice(u+1),r=r.substring(2,u)):r=r.slice(2),o=(u=r.indexOf("."))>=0,t=e.constructor,o&&(u=(h=(r=r.replace(".","")).length)-u,i=zu(t,new t(n),u,2*u)),u=a=(f=At(r,n,xr)).length-1;f[u]===0;--u)f.pop();return u<0?new t(0*e.s):(e.e=Ct(f,a),e.d=f,te=!1,o&&(e=Fe(e,i,4*h)),c&&(e=e.times(Math.abs(c)<54?ke(2,c):Pn.pow(2,c))),te=!0,e)}function Tn(e,r,n,t,i){var u,o,h,c,f=e.precision,a=Math.ceil(f/7);for(te=!1,c=n.times(n),h=new e(t);;){if(o=Fe(h.times(c),new e(r++*r++),f,1),h=i?t.plus(o):t.minus(o),t=Fe(o.times(c),new e(r++*r++),f,1),(o=h.plus(t)).d[a]!==void 0){for(u=a;o.d[u]===h.d[u]&&u--;);if(u==-1)break}u=h,h=t,t=o,o=u}return te=!0,o.d.length=a+1,o}function mt(e,r){for(var n=e;--r;)n*=e;return n}function Li(e,r){var n,t=r.s<0,i=$r(e,e.precision,1),u=i.times(.5);if((r=r.abs()).lte(u))return jr=t?4:1,r;if((n=r.divToInt(i)).isZero())jr=t?3:2;else{if((r=r.minus(n.times(i))).lte(u))return jr=Ui(n)?t?2:3:t?4:1,r;jr=Ui(n)?t?1:4:t?3:2}return r.minus(i).abs()}function Vt(e,r,n,t){var i,u,o,h,c,f,a,s,p,l=e.constructor,D=n!==void 0;if(D?(cr(n,1,Xr),t===void 0?t=l.rounding:cr(t,0,8)):(n=l.precision,t=l.rounding),e.isFinite()){for(D?(i=2,r==16?n=4*n-3:r==8&&(n=3*n-2)):i=r,(o=(a=Tr(e)).indexOf("."))>=0&&(a=a.replace(".",""),(p=new l(1)).e=a.length-o,p.d=At(Tr(p),10,i),p.e=p.d.length),u=c=(s=At(a,10,i)).length;s[--c]==0;)s.pop();if(s[0]){if(o<0?u--:((e=new l(e)).d=s,e.e=u,s=(e=Fe(e,p,n,t,0,i)).d,u=e.e,f=_u),o=s[n],h=i/2,f=f||s[n+1]!==void 0,f=t<4?(o!==void 0||f)&&(t===0||t===(e.s<0?3:2)):o>h||o===h&&(t===4||f||t===6&&1&s[n-1]||t===(e.s<0?8:7)),s.length=n,f)for(;++s[--n]>i-1;)s[n]=0,n||(++u,s.unshift(1));for(c=s.length;!s[c-1];--c);for(o=0,a="";o<c;o++)a+=Xt.charAt(s[o]);if(D){if(c>1)if(r==16||r==8){for(o=r==16?4:3,--c;c%o;c++)a+="0";for(c=(s=At(a,i,r)).length;!s[c-1];--c);for(o=1,a="1.";o<c;o++)a+=Xt.charAt(s[o])}else a=a.charAt(0)+"."+a.slice(1);a=a+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)a="0"+a;a="0."+a}else if(++u>c)for(u-=c;u--;)a+="0";else u<c&&(a=a.slice(0,u)+"."+a.slice(u))}else a=D?"0p+0":"0";a=(r==16?"0x":r==2?"0b":r==8?"0o":"")+a}else a=Ou(e);return e.s<0?"-"+a:a}function Zi(e,r){if(e.length>r)return e.length=r,!0}function Aa(e){return new this(e).abs()}function Ca(e){return new this(e).acos()}function xa(e){return new this(e).acosh()}function ba(e,r){return new this(e).plus(r)}function Ba(e){return new this(e).asin()}function _a(e){return new this(e).asinh()}function Ma(e){return new this(e).atan()}function Na(e){return new this(e).atanh()}function Sa(e,r){e=new this(e),r=new this(r);var n,t=this.precision,i=this.rounding,u=t+4;return e.s&&r.s?e.d||r.d?!r.d||e.isZero()?(n=r.s<0?$r(this,t,i):new this(0)).s=e.s:!e.d||r.isZero()?(n=$r(this,u,1).times(.5)).s=e.s:r.s<0?(this.precision=u,this.rounding=1,n=this.atan(Fe(e,r,u,1)),r=$r(this,u,1),this.precision=t,this.rounding=i,n=e.s<0?n.minus(r):n.plus(r)):n=this.atan(Fe(e,r,u,1)):(n=$r(this,u,1).times(r.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function Ta(e){return new this(e).cbrt()}function za(e){return Q(e=new this(e),e.e+1,2)}function $a(e,r,n){return new this(e).clamp(r,n)}function Oa(e){if(!e||typeof e!="object")throw Error(qt+"Object expected");var r,n,t,i=e.defaults===!0,u=["precision",1,Xr,"rounding",0,8,"toExpNeg",-qn,0,"toExpPos",0,qn,"maxE",0,qn,"minE",-qn,0,"modulo",0,9];for(r=0;r<u.length;r+=3)if(n=u[r],i&&(this[n]=Kt[n]),(t=e[n])!==void 0){if(!(Ke(t)===t&&t>=u[r+1]&&t<=u[r+2]))throw Error(rn+n+": "+t);this[n]=t}if(n="crypto",i&&(this[n]=Kt[n]),(t=e[n])!==void 0){if(t!==!0&&t!==!1&&t!==0&&t!==1)throw Error(rn+n+": "+t);if(t){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Nu);this[n]=!0}else this[n]=!1}return this}function Ia(e){return new this(e).cos()}function qa(e){return new this(e).cosh()}function ja(e,r){return new this(e).div(r)}function ka(e){return new this(e).exp()}function Pa(e){return Q(e=new this(e),e.e+1,3)}function Ra(){var e,r,n=new this(0);for(te=!1,e=0;e<arguments.length;)if((r=new this(arguments[e++])).d)n.d&&(n=n.plus(r.times(r)));else{if(r.s)return te=!0,new this(1/0);n=r}return te=!0,n.sqrt()}function Vi(e){return e instanceof Pn||e&&e.toStringTag===Su||!1}function Ua(e){return new this(e).ln()}function La(e,r){return new this(e).log(r)}function Za(e){return new this(e).log(2)}function Va(e){return new this(e).log(10)}function Wa(){return $u(this,arguments,-1)}function Ha(){return $u(this,arguments,1)}function Ja(e,r){return new this(e).mod(r)}function Ya(e,r){return new this(e).mul(r)}function Ga(e,r){return new this(e).pow(r)}function Xa(e){var r,n,t,i,u=0,o=new this(1),h=[];if(e===void 0?e=this.precision:cr(e,1,Xr),t=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(t));u<t;)(i=r[u])>=429e7?r[u]=crypto.getRandomValues(new Uint32Array(1))[0]:h[u++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Nu);for(r=crypto.randomBytes(t*=4);u<t;)(i=r[u]+(r[u+1]<<8)+(r[u+2]<<16)+((127&r[u+3])<<24))>=214e7?crypto.randomBytes(4).copy(r,u):(h.push(i%1e7),u+=4);u=t/4}else for(;u<t;)h[u++]=1e7*Math.random()|0;for(e%=7,(t=h[--u])&&e&&(i=ke(10,7-e),h[u]=(t/i|0)*i);h[u]===0;u--)h.pop();if(u<0)n=0,h=[0];else{for(n=-1;h[0]===0;n-=7)h.shift();for(t=1,i=h[0];i>=10;i/=10)t++;t<7&&(n-=7-t)}return o.e=n,o.d=h,o}function Ka(e){return Q(e=new this(e),e.e+1,this.rounding)}function Qa(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function es(e){return new this(e).sin()}function rs(e){return new this(e).sinh()}function ns(e){return new this(e).sqrt()}function ts(e,r){return new this(e).sub(r)}function is(){var e=0,r=arguments,n=new this(r[e]);for(te=!1;n.s&&++e<r.length;)n=n.plus(r[e]);return te=!0,Q(n,this.precision,this.rounding)}function us(e){return new this(e).tan()}function os(e){return new this(e).tanh()}function as(e){return Q(e=new this(e),e.e+1,1)}z[Symbol.for("nodejs.util.inspect.custom")]=z.toString,z[Symbol.toStringTag]="Decimal";var Pn=z.constructor=function e(r){var n,t,i;function u(o){var h,c,f,a=this;if(!(a instanceof u))return new u(o);if(a.constructor=u,Vi(o))return a.s=o.s,void(te?!o.d||o.e>u.maxE?(a.e=NaN,a.d=null):o.e<u.minE?(a.e=0,a.d=[0]):(a.e=o.e,a.d=o.d.slice()):(a.e=o.e,a.d=o.d?o.d.slice():o.d));if((f=typeof o)=="number"){if(o===0)return a.s=1/o<0?-1:1,a.e=0,void(a.d=[0]);if(o<0?(o=-o,a.s=-1):a.s=1,o===~~o&&o<1e7){for(h=0,c=o;c>=10;c/=10)h++;return void(te?h>u.maxE?(a.e=NaN,a.d=null):h<u.minE?(a.e=0,a.d=[0]):(a.e=h,a.d=[o]):(a.e=h,a.d=[o]))}return 0*o!=0?(o||(a.s=NaN),a.e=NaN,void(a.d=null)):xt(a,o.toString())}if(f==="string")return(c=o.charCodeAt(0))===45?(o=o.slice(1),a.s=-1):(c===43&&(o=o.slice(1)),a.s=1),Tu.test(o)?xt(a,o):Ea(a,o);if(f==="bigint")return o<0?(o=-o,a.s=-1):a.s=1,xt(a,o.toString());throw Error(rn+o)}if(u.prototype=z,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=Oa,u.clone=e,u.isDecimal=Vi,u.abs=Aa,u.acos=Ca,u.acosh=xa,u.add=ba,u.asin=Ba,u.asinh=_a,u.atan=Ma,u.atanh=Na,u.atan2=Sa,u.cbrt=Ta,u.ceil=za,u.clamp=$a,u.cos=Ia,u.cosh=qa,u.div=ja,u.exp=ka,u.floor=Pa,u.hypot=Ra,u.ln=Ua,u.log=La,u.log10=Va,u.log2=Za,u.max=Wa,u.min=Ha,u.mod=Ja,u.mul=Ya,u.pow=Ga,u.random=Xa,u.round=Ka,u.sign=Qa,u.sin=es,u.sinh=rs,u.sqrt=ns,u.sub=ts,u.sum=is,u.tan=us,u.tanh=os,u.trunc=as,r===void 0&&(r={}),r&&r.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)r.hasOwnProperty(t=i[n++])||(r[t]=this[t]);return u.config(r),u}(Kt);St=new Pn(St),Tt=new Pn(Tt);var ss=oe("BigNumber",["?on","config"],e=>{var{on:r,config:n}=e,t=Pn.clone({precision:n.precision,modulo:Pn.EUCLID});return t.prototype=Object.create(t.prototype),t.prototype.type="BigNumber",t.prototype.isBigNumber=!0,t.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},t.fromJSON=function(i){return new t(i.value)},r&&r("config",function(i,u){i.precision!==u.precision&&t.config({precision:i.precision})}),t},{isClass:!0});const Ye=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:.5*(Math.exp(e)+Math.exp(-e))},vr=Math.sinh||function(e){return Math.abs(e)<1e-9?e:.5*(Math.exp(e)-Math.exp(-e))},Wt=function(e,r){return(e=Math.abs(e))<(r=Math.abs(r))&&([e,r]=[r,e]),e<1e8?Math.sqrt(e*e+r*r):(r/=e,e*Math.sqrt(1+r*r))},zn=function(){throw SyntaxError("Invalid Param")};function Ht(e,r){const n=Math.abs(e),t=Math.abs(r);return e===0?Math.log(t):r===0?Math.log(n):n<3e3&&t<3e3?.5*Math.log(e*e+r*r):(e*=.5,r*=.5,.5*Math.log(e*e+r*r)+Math.LN2)}const cs={re:0,im:0},hn=function(e,r){const n=cs;if(e==null)n.re=n.im=0;else if(r!==void 0)n.re=e,n.im=r;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return b.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return b.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else e.length===2?(n.re=e[0],n.im=e[1]):zn();break;case"string":n.im=n.re=0;const t=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,u=0;t===null&&zn();for(let o=0;o<t.length;o++){const h=t[o];h===" "||h==="	"||h===`
`||(h==="+"?i++:h==="-"?u++:h==="i"||h==="I"?(i+u===0&&zn(),t[o+1]===" "||isNaN(t[o+1])?n.im+=parseFloat((u%2?"-":"")+"1"):(n.im+=parseFloat((u%2?"-":"")+t[o+1]),o++),i=u=0):((i+u===0||isNaN(h))&&zn(),t[o+1]==="i"||t[o+1]==="I"?(n.im+=parseFloat((u%2?"-":"")+h),o++):n.re+=parseFloat((u%2?"-":"")+h),i=u=0))}i+u>0&&zn();break;case"number":n.im=0,n.re=e;break;default:zn()}return isNaN(n.re)||isNaN(n.im),n};function b(e,r){if(!(this instanceof b))return new b(e,r);const n=hn(e,r);this.re=n.re,this.im=n.im}b.prototype={re:0,im:0,sign:function(){const e=Wt(this.re,this.im);return new b(this.re/e,this.im/e)},add:function(e,r){const n=hn(e,r),t=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return t||i?t&&i?b.NAN:b.INFINITY:new b(this.re+n.re,this.im+n.im)},sub:function(e,r){const n=hn(e,r),t=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return t||i?t&&i?b.NAN:b.INFINITY:new b(this.re-n.re,this.im-n.im)},mul:function(e,r){const n=hn(e,r),t=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),u=this.re===0&&this.im===0,o=n.re===0&&n.im===0;return t&&o||i&&u?b.NAN:t||i?b.INFINITY:n.im===0&&this.im===0?new b(this.re*n.re,0):new b(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,r){const n=hn(e,r),t=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),u=this.re===0&&this.im===0,o=n.re===0&&n.im===0;if(u&&o||t&&i)return b.NAN;if(o||t)return b.INFINITY;if(u||i)return b.ZERO;if(n.im===0)return new b(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){const h=n.re/n.im,c=n.re*h+n.im;return new b((this.re*h+this.im)/c,(this.im*h-this.re)/c)}{const h=n.im/n.re,c=n.im*h+n.re;return new b((this.re+this.im*h)/c,(this.im-this.re*h)/c)}},pow:function(e,r){const n=hn(e,r),t=this.re===0&&this.im===0;if(n.re===0&&n.im===0)return b.ONE;if(n.im===0){if(this.im===0&&this.re>0)return new b(Math.pow(this.re,n.re),0);if(this.re===0)switch((n.re%4+4)%4){case 0:return new b(Math.pow(this.im,n.re),0);case 1:return new b(0,Math.pow(this.im,n.re));case 2:return new b(-Math.pow(this.im,n.re),0);case 3:return new b(0,-Math.pow(this.im,n.re))}}if(t&&n.re>0)return b.ZERO;const i=Math.atan2(this.im,this.re),u=Ht(this.re,this.im);let o=Math.exp(n.re*u-n.im*i),h=n.im*u+n.re*i;return new b(o*Math.cos(h),o*Math.sin(h))},sqrt:function(){const e=this.re,r=this.im;if(r===0)return e>=0?new b(Math.sqrt(e),0):new b(0,Math.sqrt(-e));const n=Wt(e,r);let t=Math.sqrt(.5*(n+Math.abs(e))),i=Math.abs(r)/(2*t);return e>=0?new b(t,r<0?-i:i):new b(i,r<0?-t:t)},exp:function(){const e=Math.exp(this.re);return this.im===0?new b(e,0):new b(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,r=this.im;return new b(Math.expm1(e)*Math.cos(r)+function(n){const t=Math.PI/4;if(-t>n||n>t)return Math.cos(n)-1;const i=n*n;return i*(i*(i*(i*(i*(i*(i*(i/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(r),Math.exp(e)*Math.sin(r))},log:function(){const e=this.re,r=this.im;return r===0&&e>0?new b(Math.log(e),0):new b(Ht(e,r),Math.atan2(r,e))},abs:function(){return Wt(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,r=this.im;return new b(Math.sin(e)*Ye(r),Math.cos(e)*vr(r))},cos:function(){const e=this.re,r=this.im;return new b(Math.cos(e)*Ye(r),-Math.sin(e)*vr(r))},tan:function(){const e=2*this.re,r=2*this.im,n=Math.cos(e)+Ye(r);return new b(Math.sin(e)/n,vr(r)/n)},cot:function(){const e=2*this.re,r=2*this.im,n=Math.cos(e)-Ye(r);return new b(-Math.sin(e)/n,vr(r)/n)},sec:function(){const e=this.re,r=this.im,n=.5*Ye(2*r)+.5*Math.cos(2*e);return new b(Math.cos(e)*Ye(r)/n,Math.sin(e)*vr(r)/n)},csc:function(){const e=this.re,r=this.im,n=.5*Ye(2*r)-.5*Math.cos(2*e);return new b(Math.sin(e)*Ye(r)/n,-Math.cos(e)*vr(r)/n)},asin:function(){const e=this.re,r=this.im,n=new b(r*r-e*e+1,-2*e*r).sqrt(),t=new b(n.re-r,n.im+e).log();return new b(t.im,-t.re)},acos:function(){const e=this.re,r=this.im,n=new b(r*r-e*e+1,-2*e*r).sqrt(),t=new b(n.re-r,n.im+e).log();return new b(Math.PI/2-t.im,t.re)},atan:function(){const e=this.re,r=this.im;if(e===0){if(r===1)return new b(0,1/0);if(r===-1)return new b(0,-1/0)}const n=e*e+(1-r)*(1-r),t=new b((1-r*r-e*e)/n,-2*e/n).log();return new b(-.5*t.im,.5*t.re)},acot:function(){const e=this.re,r=this.im;if(r===0)return new b(Math.atan2(1,e),0);const n=e*e+r*r;return n!==0?new b(e/n,-r/n).atan():new b(e!==0?e/0:0,r!==0?-r/0:0).atan()},asec:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new b(0,1/0);const n=e*e+r*r;return n!==0?new b(e/n,-r/n).acos():new b(e!==0?e/0:0,r!==0?-r/0:0).acos()},acsc:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new b(Math.PI/2,1/0);const n=e*e+r*r;return n!==0?new b(e/n,-r/n).asin():new b(e!==0?e/0:0,r!==0?-r/0:0).asin()},sinh:function(){const e=this.re,r=this.im;return new b(vr(e)*Math.cos(r),Ye(e)*Math.sin(r))},cosh:function(){const e=this.re,r=this.im;return new b(Ye(e)*Math.cos(r),vr(e)*Math.sin(r))},tanh:function(){const e=2*this.re,r=2*this.im,n=Ye(e)+Math.cos(r);return new b(vr(e)/n,Math.sin(r)/n)},coth:function(){const e=2*this.re,r=2*this.im,n=Ye(e)-Math.cos(r);return new b(vr(e)/n,-Math.sin(r)/n)},csch:function(){const e=this.re,r=this.im,n=Math.cos(2*r)-Ye(2*e);return new b(-2*vr(e)*Math.cos(r)/n,2*Ye(e)*Math.sin(r)/n)},sech:function(){const e=this.re,r=this.im,n=Math.cos(2*r)+Ye(2*e);return new b(2*Ye(e)*Math.cos(r)/n,-2*vr(e)*Math.sin(r)/n)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const r=this.asin();return this.re=-this.im,this.im=e,e=r.re,r.re=-r.im,r.im=e,r},acosh:function(){const e=this.acos();if(e.im<=0){const r=e.re;e.re=-e.im,e.im=r}else{const r=e.im;e.im=-e.re,e.re=r}return e},atanh:function(){const e=this.re,r=this.im,n=e>1&&r===0,t=1-e,i=1+e,u=t*t+r*r,o=u!==0?new b((i*t-r*r)/u,(r*t+i*r)/u):new b(e!==-1?e/0:0,r!==0?r/0:0),h=o.re;return o.re=Ht(o.re,o.im)/2,o.im=Math.atan2(o.im,h)/2,n&&(o.im=-o.im),o},acoth:function(){const e=this.re,r=this.im;if(e===0&&r===0)return new b(0,Math.PI/2);const n=e*e+r*r;return n!==0?new b(e/n,-r/n).atanh():new b(e!==0?e/0:0,r!==0?-r/0:0).atanh()},acsch:function(){const e=this.re,r=this.im;if(r===0)return new b(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const n=e*e+r*r;return n!==0?new b(e/n,-r/n).asinh():new b(e!==0?e/0:0,r!==0?-r/0:0).asinh()},asech:function(){const e=this.re,r=this.im;if(this.isZero())return b.INFINITY;const n=e*e+r*r;return n!==0?new b(e/n,-r/n).acosh():new b(e!==0?e/0:0,r!==0?-r/0:0).acosh()},inverse:function(){if(this.isZero())return b.INFINITY;if(this.isInfinite())return b.ZERO;const e=this.re,r=this.im,n=e*e+r*r;return new b(e/n,-r/n)},conjugate:function(){return new b(this.re,-this.im)},neg:function(){return new b(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new b(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new b(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new b(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,r){const n=hn(e,r);return Math.abs(n.re-this.re)<=b.EPSILON&&Math.abs(n.im-this.im)<=b.EPSILON},clone:function(){return new b(this.re,this.im)},toString:function(){let e=this.re,r=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<b.EPSILON&&(e=0),Math.abs(r)<b.EPSILON&&(r=0),r===0?n+e:(e!==0?(n+=e,n+=" ",r<0?(r=-r,n+="-"):n+="+",n+=" "):r<0&&(r=-r,n+="-"),r!==1&&(n+=r),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},b.ZERO=new b(0,0),b.ONE=new b(1,0),b.I=new b(0,1),b.PI=new b(Math.PI,0),b.E=new b(Math.E,0),b.INFINITY=new b(1/0,1/0),b.NAN=new b(NaN,NaN),b.EPSILON=1e-15;var fs=oe("Complex",[],()=>(Object.defineProperty(b,"name",{value:"Complex"}),b.prototype.constructor=b,b.prototype.type="Complex",b.prototype.isComplex=!0,b.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},b.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},b.prototype.format=function(e){var r=this.im,n=this.re,t=Gt(this.re,e),i=Gt(this.im,e),u=Ae(e)?e:e?e.precision:null;if(u!==null){var o=Math.pow(10,-u);Math.abs(n/r)<o&&(n=0),Math.abs(r/n)<o&&(r=0)}return r===0?t:n===0?r===1?"i":r===-1?"-i":i+"i":r<0?r===-1?t+" - i":t+" - "+i.substring(1)+"i":r===1?t+" + i":t+" + "+i+"i"},b.fromPolar=function(e){switch(arguments.length){case 1:var r=arguments[0];if(typeof r=="object")return b(r);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],t=arguments[1];if(Ae(n)){if(xu(t)&&t.hasBase("ANGLE")&&(t=t.toNumber("rad")),Ae(t))return new b({r:n,phi:t});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},b.prototype.valueOf=b.prototype.toString,b.fromJSON=function(e){return new b(e)},b.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},b),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const ee=BigInt(0),se=BigInt(1),Qn=BigInt(2),ei=BigInt(5),fr=BigInt(10),U={s:se,n:ee,d:se};function qr(e,r){try{e=BigInt(e)}catch{throw Yr()}return e*r}function Cr(e){return typeof e=="bigint"?e:Math.floor(e)}function Be(e,r){if(r===ee)throw ai();const n=Object.create(Fr.prototype);n.s=e<ee?-se:se;const t=ln(e=e<ee?-e:e,r);return n.n=e/t,n.d=r/t,n}function $n(e){const r={};let n=e,t=Qn,i=ei-se;for(;i<=n;){for(;n%t===ee;)n/=t,r[t]=(r[t]||ee)+se;i+=se+Qn*t++}return n!==e?n>1&&(r[n]=(r[n]||ee)+se):r[e]=(r[e]||ee)+se,r}const Re=function(e,r){let n=ee,t=se,i=se;if(e!=null)if(r!==void 0){if(typeof e=="bigint")n=e;else{if(isNaN(e))throw Yr();if(e%1!=0)throw Wi();n=BigInt(e)}if(typeof r=="bigint")t=r;else{if(isNaN(r))throw Yr();if(r%1!=0)throw Wi();t=BigInt(r)}i=n*t}else if(typeof e=="object"){if("d"in e&&"n"in e)n=BigInt(e.n),t=BigInt(e.d),"s"in e&&(n*=BigInt(e.s));else if(0 in e)n=BigInt(e[0]),1 in e&&(t=BigInt(e[1]));else{if(typeof e!="bigint")throw Yr();n=e}i=n*t}else if(typeof e=="number"){if(isNaN(e))throw Yr();if(e<0&&(i=-se,e=-e),e%1==0)n=BigInt(e);else{let u=1,o=0,h=1,c=1,f=1,a=1e7;for(e>=1&&(u=10**Math.floor(1+Math.log10(e)),e/=u);h<=a&&f<=a;){let s=(o+c)/(h+f);if(e===s){h+f<=a?(n=o+c,t=h+f):f>h?(n=c,t=f):(n=o,t=h);break}e>s?(o+=c,h+=f):(c+=o,f+=h),h>a?(n=c,t=f):(n=o,t=h)}n=BigInt(n)*BigInt(u),t=BigInt(t)}}else if(typeof e=="string"){let u=0,o=ee,h=ee,c=ee,f=se,a=se,s=e.replace(/_/g,"").match(/\d+|./g);if(s===null||(s[u]==="-"?(i=-se,u++):s[u]==="+"&&u++,s.length===u+1?h=qr(s[u++],i):s[u+1]==="."||s[u]==="."?(s[u]!=="."&&(o=qr(s[u++],i)),u++,(u+1===s.length||s[u+1]==="("&&s[u+3]===")"||s[u+1]==="'"&&s[u+3]==="'")&&(h=qr(s[u],i),f=fr**BigInt(s[u].length),u++),(s[u]==="("&&s[u+2]===")"||s[u]==="'"&&s[u+2]==="'")&&(c=qr(s[u+1],i),a=fr**BigInt(s[u+1].length)-se,u+=3)):s[u+1]==="/"||s[u+1]===":"?(h=qr(s[u],i),f=qr(s[u+2],se),u+=3):s[u+3]==="/"&&s[u+1]===" "&&(o=qr(s[u],i),h=qr(s[u+2],i),f=qr(s[u+4],se),u+=5),!(s.length<=u)))throw Yr();t=f*a,i=n=c+t*o+a*h}else{if(typeof e!="bigint")throw Yr();n=e,i=e,t=se}if(t===ee)throw ai();U.s=i<ee?-se:se,U.n=n<ee?-n:n,U.d=t<ee?-t:t};function hs(e,r,n){let t=se,i=function(u,o,h){let c=se;for(;o>ee;u=u*u%h,o>>=se)o&se&&(c=c*u%h);return c}(fr,n,r);for(let u=0;u<300;u++){if(t===i)return BigInt(u);t=t*fr%r,i=i*fr%r}return 0}function ln(e,r){if(!e)return r;if(!r)return e;for(;;){if(!(e%=r))return r;if(!(r%=e))return e}}function Fr(e,r){if(Re(e,r),!(this instanceof Fr))return Be(U.s*U.n,U.d);e=ln(U.d,U.n),this.s=U.s,this.n=U.n/e,this.d=U.d/e}var ai=function(){return new Error("Division by Zero")},Yr=function(){return new Error("Invalid argument")},Wi=function(){return new Error("Parameters must be integer")};Fr.prototype={s:se,n:ee,d:se,abs:function(){return Be(this.n,this.d)},neg:function(){return Be(-this.s*this.n,this.d)},add:function(e,r){return Re(e,r),Be(this.s*this.n*U.d+U.s*this.d*U.n,this.d*U.d)},sub:function(e,r){return Re(e,r),Be(this.s*this.n*U.d-U.s*this.d*U.n,this.d*U.d)},mul:function(e,r){return Re(e,r),Be(this.s*U.s*this.n*U.n,this.d*U.d)},div:function(e,r){return Re(e,r),Be(this.s*U.s*this.n*U.d,this.d*U.n)},clone:function(){return Be(this.s*this.n,this.d)},mod:function(e,r){if(e===void 0)return Be(this.s*this.n%this.d,se);if(Re(e,r),ee===U.n*this.d)throw ai();return Be(this.s*(U.d*this.n)%(U.n*this.d),U.d*this.d)},gcd:function(e,r){return Re(e,r),Be(ln(U.n,this.n)*ln(U.d,this.d),U.d*this.d)},lcm:function(e,r){return Re(e,r),U.n===ee&&this.n===ee?Be(ee,se):Be(U.n*this.n,ln(U.n,this.n)*ln(U.d,this.d))},inverse:function(){return Be(this.s*this.d,this.n)},pow:function(e,r){if(Re(e,r),U.d===se)return U.s<ee?Be((this.s*this.d)**U.n,this.n**U.n):Be((this.s*this.n)**U.n,this.d**U.n);if(this.s<ee)return null;let n=$n(this.n),t=$n(this.d),i=se,u=se;for(let o in n)if(o!=="1"){if(o==="0"){i=ee;break}if(n[o]*=U.n,n[o]%U.d!==ee)return null;n[o]/=U.d,i*=BigInt(o)**n[o]}for(let o in t)if(o!=="1"){if(t[o]*=U.n,t[o]%U.d!==ee)return null;t[o]/=U.d,u*=BigInt(o)**t[o]}return U.s<ee?Be(u,i):Be(i,u)},log:function(e,r){if(Re(e,r),this.s<=ee||U.s<=ee)return null;const n={},t=$n(U.n),i=$n(U.d),u=$n(this.n),o=$n(this.d);for(const f in i)t[f]=(t[f]||ee)-i[f];for(const f in o)u[f]=(u[f]||ee)-o[f];for(const f in t)f!=="1"&&(n[f]=!0);for(const f in u)f!=="1"&&(n[f]=!0);let h=null,c=null;for(const f in n){const a=t[f]||ee,s=u[f]||ee;if(a===ee){if(s!==ee)return null;continue}let p=s,l=a;const D=ln(p,l);if(p/=D,l/=D,h===null&&c===null)h=p,c=l;else if(p*c!=h*l)return null}return h!==null&&c!==null?Be(h,c):null},equals:function(e,r){return Re(e,r),this.s*this.n*U.d==U.s*U.n*this.d},lt:function(e,r){return Re(e,r),this.s*this.n*U.d<U.s*U.n*this.d},lte:function(e,r){return Re(e,r),this.s*this.n*U.d<=U.s*U.n*this.d},gt:function(e,r){return Re(e,r),this.s*this.n*U.d>U.s*U.n*this.d},gte:function(e,r){return Re(e,r),this.s*this.n*U.d>=U.s*U.n*this.d},compare:function(e,r){Re(e,r);let n=this.s*this.n*U.d-U.s*U.n*this.d;return(ee<n)-(n<ee)},ceil:function(e){return e=fr**BigInt(e||0),Be(Cr(this.s*e*this.n/this.d)+(e*this.n%this.d>ee&&this.s>=ee?se:ee),e)},floor:function(e){return e=fr**BigInt(e||0),Be(Cr(this.s*e*this.n/this.d)-(e*this.n%this.d>ee&&this.s<ee?se:ee),e)},round:function(e){return e=fr**BigInt(e||0),Be(Cr(this.s*e*this.n/this.d)+this.s*((this.s>=ee?se:ee)+Qn*(e*this.n%this.d)>this.d?se:ee),e)},roundTo:function(e,r){Re(e,r);const n=this.n*U.d,t=this.d*U.n,i=n%t;let u=Cr(n/t);return i+i>=t&&u++,Be(this.s*u*U.n,U.d)},divisible:function(e,r){return Re(e,r),!(!(U.n*this.d)||this.n*U.d%(U.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let r=this.n,n=this.d;e=e||15;let t=function(o,h){for(;h%Qn===ee;h/=Qn);for(;h%ei===ee;h/=ei);if(h===se)return ee;let c=fr%h,f=1;for(;c!==se;f++)if(c=c*fr%h,f>2e3)return ee;return BigInt(f)}(0,n),i=hs(0,n,t),u=this.s<ee?"-":"";if(u+=Cr(r/n),r%=n,r*=fr,r&&(u+="."),t){for(let o=i;o--;)u+=Cr(r/n),r%=n,r*=fr;u+="(";for(let o=t;o--;)u+=Cr(r/n),r%=n,r*=fr;u+=")"}else for(let o=e;r&&o--;)u+=Cr(r/n),r%=n,r*=fr;return u},toFraction:function(e){let r=this.n,n=this.d,t=this.s<ee?"-":"";if(n===se)t+=r;else{let i=Cr(r/n);e&&i>ee&&(t+=i,t+=" ",r%=n),t+=r,t+="/",t+=n}return t},toLatex:function(e){let r=this.n,n=this.d,t=this.s<ee?"-":"";if(n===se)t+=r;else{let i=Cr(r/n);e&&i>ee&&(t+=i,r%=n),t+="\\frac{",t+=r,t+="}{",t+=n,t+="}"}return t},toContinued:function(){let e=this.n,r=this.d,n=[];do{n.push(Cr(e/r));let t=e%r;e=r,r=t}while(e!==se);return n},simplify:function(e){const r=BigInt(1/(e||.001)|0),n=this.abs(),t=n.toContinued();for(let i=1;i<t.length;i++){let u=Be(t[i-1],se);for(let h=i-2;h>=0;h--)u=u.inverse().add(t[h]);let o=u.sub(n);if(o.n*r<o.d)return u.mul(this.s)}return this}};var ls=oe("Fraction",[],()=>(Object.defineProperty(Fr,"name",{value:"Fraction"}),Fr.prototype.constructor=Fr,Fr.prototype.type="Fraction",Fr.prototype.isFraction=!0,Fr.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Fr.fromJSON=function(e){return new Fr(e)},Fr),{isClass:!0}),ps=oe("Matrix",[],()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,n,t){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,n,t){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Jt(e,r,n){var t=new e.constructor(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Me(n))throw new Error("size must be an integer");if(e.greaterThan(t.pow(n-1).sub(1))||e.lessThan(t.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(t.pow(n))),i="i".concat(n)}switch(r){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(r," not supported "))}}function Ds(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:t,wordSize:i}=bu(r);switch(n){case"fixed":return function(f,a){return f.toFixed(a)}(e,t);case"exponential":return Hi(e,t);case"engineering":return function(f,a){var s=f.e,p=s%3==0?s:s<0?s-3-s%3:s-s%3,l=f.mul(Math.pow(10,-p)),D=l.toPrecision(a);return D.includes("e")&&(D=new f.constructor(D).toFixed()),D+"e"+(s>=0?"+":"")+p.toString()}(e,t);case"bin":return Jt(e,2,i);case"oct":return Jt(e,8,i);case"hex":return Jt(e,16,i);case"auto":var u=Ji(r==null?void 0:r.lowerExp,-3),o=Ji(r==null?void 0:r.upperExp,5);if(e.isZero())return"0";var h=e.toSignificantDigits(t),c=h.e;return(c>=u&&c<o?h.toFixed():Hi(e,t)).replace(/((\.\d*?)(0+))($|e)/,function(){var f=arguments[2],a=arguments[4];return f!=="."?f+a:a});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Hi(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function Ji(e,r){return Ae(e)?e:Oe(e)?e.toNumber():r}function Ie(e,r){var n=function(t,i){return typeof t=="number"?Gt(t,i):Oe(t)?Ds(t,i):function(u){return u&&typeof u=="object"&&typeof u.s=="bigint"&&typeof u.n=="bigint"&&typeof u.d=="bigint"||!1}(t)?i&&i.fraction==="decimal"?t.toString():"".concat(t.s*t.n,"/").concat(t.d):Array.isArray(t)?Iu(t,i):zr(t)?Yi(t):typeof t=="function"?t.syntax?String(t.syntax):"function":t&&typeof t=="object"?typeof t.format=="function"?t.format(i):t&&t.toString(i)!=={}.toString()?t.toString(i):"{"+Object.keys(t).map(u=>Yi(u)+": "+Ie(t[u],i)).join(", ")+"}":String(t)}(e,r);return r&&typeof r=="object"&&"truncate"in r&&n.length>r.truncate?n.substring(0,r.truncate-3)+"...":n}function Yi(e){for(var r=String(e),n="",t=0;t<r.length;){var i=r.charAt(t);n+=i in Gi?Gi[i]:i,t++}return'"'+n+'"'}var Gi={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Iu(e,r){if(Array.isArray(e)){for(var n="[",t=e.length,i=0;i<t;i++)i!==0&&(n+=", "),n+=Iu(e[i],r);return n+="]"}return Ie(e,r)}function ye(e,r,n){if(!(this instanceof ye))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}function pn(e,r,n){if(!(this instanceof pn))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}function tr(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function qu(e,r,n){var t,i=e.length;if(i!==r[n])throw new ye(i,r[n]);if(n<r.length-1){var u=n+1;for(t=0;t<i;t++){var o=e[t];if(!Array.isArray(o))throw new ye(r.length-1,r.length,"<");qu(e[t],r,u)}}else for(t=0;t<i;t++)if(Array.isArray(e[t]))throw new ye(r.length+1,r.length,">")}function Xi(e,r){if(r.length===0){if(Array.isArray(e))throw new ye(e.length,0)}else qu(e,r,0)}function Ne(e,r){if(e!==void 0){if(!Ae(e)||!Me(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new pn(e,r)}}function ri(e,r,n){if(!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");return r.forEach(function(t){if(!Ae(t)||!Me(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ie(r)+")")}),(Ae(e)||Oe(e))&&(e=[e]),ni(e,r,0,n!==void 0?n:0),e}function ni(e,r,n,t){var i,u,o=e.length,h=r[n],c=Math.min(o,h);if(e.length=h,n<r.length-1){var f=n+1;for(i=0;i<c;i++)u=e[i],Array.isArray(u)||(u=[u],e[i]=u),ni(u,r,f,t);for(i=c;i<h;i++)u=[],e[i]=u,ni(u,r,f,t)}else{for(i=0;i<c;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=c;i<h;i++)e[i]=t}}function ju(e,r){var n=function(u){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!Array.isArray(u))return u;if(typeof o!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var h=[];return o?f(u):c(u),h;function c(a){for(var s=0;s<a.length;s++){var p=a[s];Array.isArray(p)?c(p):h.push(p)}}function f(a){if(Array.isArray(a[0]))for(var s=0;s<a.length;s++)f(a[s]);else for(var p=0;p<a.length;p++)h.push(a[p])}}(e,!0),t=n.length;if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new ye(0,t,"!=");var i=ku(r=si(r,t));if(t!==i)throw new ye(i,t,"!=");try{return function(u,o){for(var h,c=u,f=o.length-1;f>0;f--){var a=o[f];h=[];for(var s=c.length/a,p=0;p<s;p++)h.push(c.slice(p*a,(p+1)*a));c=h}return c}(n,r)}catch(u){throw u instanceof ye?new ye(i,t,"!="):u}}function si(e,r){var n=ku(e),t=e.slice(),i=e.indexOf(-1);if(e.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(r%n!=0)throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-n);t[i]=-r/n}return t}function ku(e){return e.reduce((r,n)=>r*n,1)}function Pu(e,r,n,t){var i=t||tr(e);if(n)for(var u=0;u<n;u++)e=[e],i.unshift(1);for(e=Ru(e,r,0);i.length<r;)i.push(1);return e}function Ru(e,r,n){var t,i;if(Array.isArray(e)){var u=n+1;for(t=0,i=e.length;t<i;t++)e[t]=Ru(e[t],r,u)}else for(var o=n;o<r;o++)e=[e];return e}function ci(e,r){for(var n,t=0,i=0;i<e.length;i++){var u=e[i],o=Array.isArray(u);if(i===0&&o&&(t=u.length),o&&u.length!==t)return;var h=o?ci(u,r):r(u);if(n===void 0)n=h;else if(n!==h)return"mixed"}return n}function Uu(e,r,n,t){if(t<n){if(e.length!==r.length)throw new ye(e.length,r.length);for(var i=[],u=0;u<e.length;u++)i[u]=Uu(e[u],r[u],n,t+1);return i}return e.concat(r)}function Lu(){var e=Array.prototype.slice.call(arguments,0,-1),r=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(n,t){return Uu(n,t,r,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Zu(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var t=r.map(p=>p.length),i=Math.max(...t),u=new Array(i).fill(null),o=0;o<r.length;o++)for(var h=r[o],c=t[o],f=0;f<c;f++){var a=i-c+f;h[f]>u[a]&&(u[a]=h[f])}for(var s=0;s<r.length;s++)Vu(r[s],u);return u}function Vu(e,r){for(var n=r.length,t=e.length,i=0;i<t;i++){var u=n-t+i;if(e[i]<r[u]&&e[i]>1||e[i]>r[u])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(t," with size ").concat(e[i]," to size ").concat(r[u]))}}function ti(e,r){var n=tr(e);if(tn(n,r))return e;Vu(n,r);var t,i,u,o=Zu(n,r),h=o.length,c=[...Array(h-n.length).fill(1),...n],f=function(s){return _t([],s)}(e);n.length<h&&(n=tr(f=ju(f,c)));for(var a=0;a<h;a++)n[a]<o[a]&&(t=f,i=o[a],u=a,n=tr(f=Lu(...Array(i).fill(t),u)));return f}function Wu(e,r){if(!Array.isArray(e))throw new Error("Array expected");var n=tr(e);if(r.length!==n.length)throw new ye(r.length,n.length);for(var t=0;t<r.length;t++)Ne(r[t],n[t]);return r.reduce((i,u)=>i[u],e)}function Ki(e,r){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(e.length===0)return[];if(n)return function i(u){if(Array.isArray(u)){for(var o=u.length,h=Array(o),c=0;c<o;c++)h[c]=i(u[c]);return h}return r(u)}(e);var t=[];return function i(u,o){if(Array.isArray(u)){for(var h=u.length,c=Array(h),f=0;f<h;f++)t[o]=f,c[f]=i(u[f],o+1);return c}return r(u,t.slice(0,o),e)}(e,0)}function $t(e,r,n){var t=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(Nt.isTypedFunction(e)){var i,u;if(t)i=1;else{var o=(r.isMatrix?r.size():tr(r)).map(()=>0),h=r.isMatrix?r.get(o):Wu(r,o);i=function(f,a,s,p){for(var l=[a,s,p],D=3;D>0;D--){var d=l.slice(0,D);if(Nt.resolve(f,d)!==null)return D}}(e,h,o,r)}if(r.isMatrix&&r.dataType!=="mixed"&&r.dataType!==void 0){var c=function(f,a){var s=[];if(Object.entries(f.signatures).forEach(p=>{var[l,D]=p;l.split(",").length===a&&s.push(D)}),s.length===1)return s[0]}(e,i);u=c!==void 0?c:e}else u=e;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var f=arguments.length,a=new Array(f),s=0;s<f;s++)a[s]=arguments[s];return Qi(u,a.slice(0,i),n,e.name)}}:{isUnary:!1,fn:function(){for(var f=arguments.length,a=new Array(f),s=0;s<f;s++)a[s]=arguments[s];return Qi(u,a,n,e.name)}}}return t===void 0?{isUnary:ds(e),fn:e}:{isUnary:t,fn:e}}function ds(e){if(e.length!==1)return!1;var r=e.toString();if(/arguments/.test(r))return!1;var n=r.match(/\(.*?\)/);return!/\.\.\./.test(n)}function Qi(e,r,n,t){try{return e(...r)}catch(i){(function(u,o,h,c){var f;if(u instanceof TypeError&&((f=u.data)===null||f===void 0?void 0:f.category)==="wrongType"){var a=[];throw a.push("value: ".concat(en(o[0]))),o.length>=2&&a.push("index: ".concat(en(o[1]))),o.length>=3&&a.push("array: ".concat(en(o[2]))),new TypeError("Function ".concat(h," cannot apply callback arguments ")+"".concat(c,"(").concat(a.join(", "),") at index ").concat(JSON.stringify(o[1])))}throw new TypeError("Function ".concat(h," cannot apply callback arguments ")+"to function ".concat(c,": ").concat(u.message))})(i,r,n,t)}}ye.prototype=new RangeError,ye.prototype.constructor=RangeError,ye.prototype.name="DimensionError",ye.prototype.isDimensionError=!0,pn.prototype=new RangeError,pn.prototype.constructor=RangeError,pn.prototype.name="IndexError",pn.prototype.isIndexError=!0;var ms=oe("DenseMatrix",["Matrix"],e=>{var{Matrix:r}=e;function n(c,f){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!zr(f))throw new Error("Invalid datatype: "+f);if(Te(c))c.type==="DenseMatrix"?(this._data=Se(c._data),this._size=Se(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&je(c.data)&&je(c.size))this._data=c.data,this._size=c.size,Xi(this._data,this._size),this._datatype=f||c.datatype;else if(je(c))this._data=h(c),this._size=tr(this._data),Xi(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+en(c)+")");this._data=[],this._size=[0],this._datatype=f}}function t(c,f,a,s){var p=s===a-1,l=f.dimension(s);return p?l.map(function(D){return Ne(D,c.length),c[D]}).valueOf():l.map(function(D){return Ne(D,c.length),t(c[D],f,a,s+1)}).valueOf()}function i(c,f,a,s,p){var l=p===s-1,D=f.dimension(p);l?D.forEach(function(d,m){Ne(d),c[d]=a[m[0]]}):D.forEach(function(d,m){Ne(d),i(c[d],f,a[m[0]],s,p+1)})}function u(c,f,a){if(f.length===0){for(var s=c._data;je(s);)s=s[0];return s}return c._size=f.slice(0),c._data=ri(c._data,c._size,a),c}function o(c,f,a){for(var s=c._size.slice(0),p=!1;s.length<f.length;)s.push(0),p=!0;for(var l=0,D=f.length;l<D;l++)f[l]>s[l]&&(s[l]=f[l],p=!0);p&&u(c,s,a)}function h(c){return Te(c)?h(c.valueOf()):je(c)?c.map(h):c}return n.prototype=new r,n.prototype.createDenseMatrix=function(c,f){return new n(c,f)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return ci(this._data,en)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(c,f){return new n(c,f)},n.prototype.subset=function(c,f,a){switch(arguments.length){case 1:return function(s,p){if(!ui(p))throw new TypeError("Invalid index");var l=p.isScalar();if(l)return s.get(p.min());var D=p.size();if(D.length!==s._size.length)throw new ye(D.length,s._size.length);for(var d=p.min(),m=p.max(),y=0,g=s._size.length;y<g;y++)Ne(d[y],s._size[y]),Ne(m[y],s._size[y]);return new n(t(s._data,p,D.length,0),s._datatype)}(this,c);case 2:case 3:return function(s,p,l,D){if(!p||p.isIndex!==!0)throw new TypeError("Invalid index");var d,m=p.size(),y=p.isScalar();if(Te(l)?(d=l.size(),l=l.valueOf()):d=tr(l),y){if(d.length!==0)throw new TypeError("Scalar expected");s.set(p.min(),l,D)}else{if(!tn(d,m))try{d=tr(l=d.length===0?ti([l],m):ti(l,m))}catch{}if(m.length<s._size.length)throw new ye(m.length,s._size.length,"<");if(d.length<m.length){for(var g=0,v=0;m[g]===1&&d[g]===1;)g++;for(;m[g]===1;)v++,g++;l=Pu(l,m.length,v,d)}if(!tn(m,d))throw new ye(m,d,">");var A=p.max().map(function(M){return M+1});o(s,A,D);var B=m.length,x=0;i(s._data,p,l,B,x)}return s}(this,c,f,a);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(c){return Wu(this._data,c)},n.prototype.set=function(c,f,a){if(!je(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new ye(c.length,this._size.length,"<");var s,p,l,D=c.map(function(m){return m+1});o(this,D,a);var d=this._data;for(s=0,p=c.length-1;s<p;s++)Ne(l=c[s],d.length),d=d[l];return Ne(l=c[c.length-1],d.length),d[l]=f,this},n.prototype.resize=function(c,f,a){if(!Mt(c))throw new TypeError("Array or Matrix expected");var s=c.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p);return u(a?this.clone():this,s,f)},n.prototype.reshape=function(c,f){var a=f?this.clone():this;a._data=ju(a._data,c);var s=a._size.reduce((p,l)=>p*l);return a._size=si(c,s),a},n.prototype.clone=function(){return new n({data:Se(this._data),size:Se(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype._forEach=function(c){var f=c.length===2,a=this._size.length-1;if(!(a<0))if(f)(function l(D){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(d<a)for(var m=0;m<D.length;m++)l(D[m],d+1);else for(var y=0;y<D.length;y++)c(D,y)})(this._data);else if(a!==0){var s=new Array(a+1);(function l(D){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(d<a)for(var m=0;m<D.length;m++)s[d]=m,l(D[m],d+1);else for(var y=0;y<D.length;y++)s[d]=y,c(D,y,s.slice())})(this._data)}else for(var p=0;p<this._data.length;p++)c(this._data,p,[p])},n.prototype.map=function(c){var f=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=this,s=new n(a),p=$t(c,a._data,"map",f),l=f||p.isUnary?(D,d)=>{D[d]=p.fn(D[d])}:(D,d,m)=>{D[d]=p.fn(D[d],m,a)};return s._forEach(l),s},n.prototype.forEach=function(c){var f=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=this,s=$t(c,a._data,"map",f),p=f||s.isUnary?(l,D)=>{s.fn(l[D])}:(l,D,d)=>{s.fn(l[D],d,a)};a._forEach(p)},n.prototype[Symbol.iterator]=function*(){var c=this._size.length-1;if(!(c<0))if(c!==0){var f=[],a=function*(p,l){if(l<c)for(var D=0;D<p.length;D++)f[l]=D,yield*a(p[D],l+1);else for(var d=0;d<p.length;d++)f[l]=d,yield{value:p[d],index:f.slice()}};yield*a(this._data,0)}else for(var s=0;s<this._data.length;s++)yield{value:this._data[s],index:[s]}},n.prototype.rows=function(){var c=[];if(this.size().length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var a of f)c.push(new n([a],this._datatype));return c},n.prototype.columns=function(){var c=this,f=[],a=this.size();if(a.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var s=this._data,p=function(D){var d=s.map(m=>[m[D]]);f.push(new n(d,c._datatype))},l=0;l<a[1];l++)p(l);return f},n.prototype.toArray=function(){return Se(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(c){return Ie(this._data,c)},n.prototype.toString=function(){return Ie(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(c){if(c){if(Oe(c)&&(c=c.toNumber()),!Ae(c)||!Me(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,a=c<0?-c:0,s=this._size[0],p=this._size[1],l=Math.min(s-a,p-f),D=[],d=0;d<l;d++)D[d]=this._data[d+a][d+f];return new n({data:D,size:[l],datatype:this._datatype})},n.diagonal=function(c,f,a,s){if(!je(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(B){if(Oe(B)&&(B=B.toNumber()),!Ae(B)||!Me(B)||B<1)throw new Error("Size values must be positive integers");return B}),a){if(Oe(a)&&(a=a.toNumber()),!Ae(a)||!Me(a))throw new TypeError("The parameter k must be an integer number")}else a=0;var p,l=a>0?a:0,D=a<0?-a:0,d=c[0],m=c[1],y=Math.min(d-D,m-l);if(je(f)){if(f.length!==y)throw new Error("Invalid value array length");p=function(B){return f[B]}}else if(Te(f)){var g=f.size();if(g.length!==1||g[0]!==y)throw new Error("Invalid matrix length");p=function(B){return f.get([B])}}else p=function(){return f};s||(s=Oe(p(0))?p(0).mul(0):0);var v=[];if(c.length>0){v=ri(v,c,s);for(var A=0;A<y;A++)v[A+D][A+l]=p(A)}return new n({data:v,size:[d,m]})},n.fromJSON=function(c){return new n(c)},n.prototype.swapRows=function(c,f){if(!(Ae(c)&&Me(c)&&Ae(f)&&Me(f)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ne(c,this._size[0]),Ne(f,this._size[0]),n._swapRows(c,f,this._data),this},n._swapRows=function(c,f,a){var s=a[c];a[c]=a[f],a[f]=s},n},{isClass:!0});function kr(e,r,n){if(!n)return Te(e)?e.map(i=>r(i),!1,!0):Ki(e,r,!0);var t=i=>i===0?i:r(i);return Te(e)?e.map(i=>t(i),!1,!0):Ki(e,t,!0)}var eu="isInteger",gs=oe(eu,["typed"],e=>{var{typed:r}=e;return r(eu,{number:Me,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":r.referToSelf(n=>t=>kr(t,n))})}),ru="number",gt="number, number";function Hu(e){return Math.abs(e)}function Ju(e,r){return e+r}function Yu(e,r){return e-r}function Gu(e,r){return e*r}function Xu(e){return-e}function Ku(e,r){return e*e<1&&r===1/0||e*e>1&&r===-1/0?0:Math.pow(e,r)}Hu.signature=ru,Ju.signature=gt,Yu.signature=gt,Gu.signature=gt,Xu.signature=ru,Ku.signature=gt;var nu="isZero",ws=oe(nu,["typed","equalScalar"],e=>{var{typed:r,equalScalar:n}=e;return r(nu,{"number | BigNumber | Complex | Fraction":t=>n(t,0),bigint:t=>t===0n,Unit:r.referToSelf(t=>i=>r.find(t,i.valueType())(i.value)),"Array | Matrix":r.referToSelf(t=>i=>kr(i,t))})}),ys=oe("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(n=>(t,i)=>{if(!t.equalBase(i))throw new Error("Cannot compare units with different base");return r.find(n,[t.valueType(),i.valueType()])(t.value,i.value)})}}),Ot="equalScalar",vs=oe(Ot,["typed","config"],e=>{var{typed:r,config:n}=e,t=ys({typed:r});return r(Ot,{"boolean, boolean":function(i,u){return i===u},"number, number":function(i,u){return Et(i,u,n.relTol,n.absTol)},"BigNumber, BigNumber":function(i,u){return i.eq(u)||function(o,h){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(c<=0)throw new Error("Relative tolerance must be greater than 0");if(f<0)throw new Error("Absolute tolerance must be at least 0");return!o.isNaN()&&!h.isNaN()&&(o.isFinite()&&h.isFinite()?!!o.eq(h)||o.minus(h).abs().lte(o.constructor.max(o.constructor.max(o.abs(),h.abs()).mul(c),f)):o.eq(h))}(i,u,n.relTol,n.absTol)},"bigint, bigint":function(i,u){return i===u},"Fraction, Fraction":function(i,u){return i.equals(u)},"Complex, Complex":function(i,u){return function(o,h,c,f){return Et(o.re,h.re,c,f)&&Et(o.im,h.im,c,f)}(i,u,n.relTol,n.absTol)}},t)});oe(Ot,["typed","config"],e=>{var{typed:r,config:n}=e;return r(Ot,{"number, number":function(t,i){return Et(t,i,n.relTol,n.absTol)}})});var Fs=oe("SparseMatrix",["typed","equalScalar","Matrix"],e=>{var{typed:r,equalScalar:n,Matrix:t}=e;function i(a,s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!zr(s))throw new Error("Invalid datatype: "+s);if(Te(a))(function(p,l,D){l.type==="SparseMatrix"?(p._values=l._values?Se(l._values):void 0,p._index=Se(l._index),p._ptr=Se(l._ptr),p._size=Se(l._size),p._datatype=D||l._datatype):u(p,l.valueOf(),D||l._datatype)})(this,a,s);else if(a&&je(a.index)&&je(a.ptr)&&je(a.size))this._values=a.values,this._index=a.index,this._ptr=a.ptr,this._size=a.size,this._datatype=s||a.datatype;else if(je(a))u(this,a,s);else{if(a)throw new TypeError("Unsupported type of data ("+en(a)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=s}}function u(a,s,p){a._values=[],a._index=[],a._ptr=[],a._datatype=p;var l=s.length,D=0,d=n,m=0;if(zr(p)&&(d=r.find(n,[p,p])||n,m=r.convert(0,p)),l>0){var y=0;do{a._ptr.push(a._index.length);for(var g=0;g<l;g++){var v=s[g];if(je(v)){if(y===0&&D<v.length&&(D=v.length),y<v.length){var A=v[y];d(A,m)||(a._values.push(A),a._index.push(g))}}else y===0&&D<1&&(D=1),d(v,m)||(a._values.push(v),a._index.push(g))}y++}while(y<D)}a._ptr.push(a._index.length),a._size=[l,D]}function o(a,s,p,l){if(p-s==0)return p;for(var D=s;D<p;D++)if(l[D]===a)return D;return s}function h(a,s,p,l,D,d,m){D.splice(a,0,l),d.splice(a,0,s);for(var y=p+1;y<m.length;y++)m[y]++}function c(a,s,p,l){var D=l||0,d=n,m=0;zr(a._datatype)&&(d=r.find(n,[a._datatype,a._datatype])||n,m=r.convert(0,a._datatype),D=r.convert(D,a._datatype));var y,g,v,A=!d(D,m),B=a._size[0],x=a._size[1];if(p>x){for(g=x;g<p;g++)if(a._ptr[g]=a._values.length,A)for(y=0;y<B;y++)a._values.push(D),a._index.push(y);a._ptr[p]=a._values.length}else p<x&&(a._ptr.splice(p+1,x-p),a._values.splice(a._ptr[p],a._values.length),a._index.splice(a._ptr[p],a._index.length));if(x=p,s>B){if(A){var M=0;for(g=0;g<x;g++){a._ptr[g]=a._ptr[g]+M,v=a._ptr[g+1]+M;var T=0;for(y=B;y<s;y++,T++)a._values.splice(v+T,0,D),a._index.splice(v+T,0,y),M++}a._ptr[x]=a._values.length}}else if(s<B){var j=0;for(g=0;g<x;g++){a._ptr[g]=a._ptr[g]-j;var P=a._ptr[g],L=a._ptr[g+1]-j;for(v=P;v<L;v++)(y=a._index[v])>s-1&&(a._values.splice(v,1),a._index.splice(v,1),j++)}a._ptr[g]=a._values.length}return a._size[0]=s,a._size[1]=p,a}function f(a,s,p,l,D){var d,m,y=l[0],g=l[1],v=[];for(d=0;d<y;d++)for(v[d]=[],m=0;m<g;m++)v[d][m]=0;for(m=0;m<g;m++)for(var A=p[m],B=p[m+1],x=A;x<B;x++)v[d=s[x]][m]=a?D?Se(a[x]):a[x]:1;return v}return i.prototype=new t,i.prototype.createSparseMatrix=function(a,s){return new i(a,s)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return ci(this._values,en)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(a,s){return new i(a,s)},i.prototype.density=function(){var a=this._size[0],s=this._size[1];return a!==0&&s!==0?this._index.length/(a*s):0},i.prototype.subset=function(a,s,p){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(l,D){if(!ui(D))throw new TypeError("Invalid index");if(D.isScalar())return l.get(D.min());var d,m,y,g,v=D.size();if(v.length!==l._size.length)throw new ye(v.length,l._size.length);var A=D.min(),B=D.max();for(d=0,m=l._size.length;d<m;d++)Ne(A[d],l._size[d]),Ne(B[d],l._size[d]);var x=l._values,M=l._index,T=l._ptr,j=D.dimension(0),P=D.dimension(1),L=[],H=[];j.forEach(function(V,le){H[V]=le[0],L[V]=!0});var Y=x?[]:void 0,J=[],G=[];return P.forEach(function(V){for(G.push(J.length),y=T[V],g=T[V+1];y<g;y++)d=M[y],L[d]===!0&&(J.push(H[d]),Y&&Y.push(x[y]))}),G.push(J.length),new i({values:Y,index:J,ptr:G,size:v,datatype:l._datatype})}(this,a);case 2:case 3:return function(l,D,d,m){if(!D||D.isIndex!==!0)throw new TypeError("Invalid index");var y,g=D.size(),v=D.isScalar();if(Te(d)?(y=d.size(),d=d.toArray()):y=tr(d),v){if(y.length!==0)throw new TypeError("Scalar expected");l.set(D.min(),d,m)}else{if(g.length!==1&&g.length!==2)throw new ye(g.length,l._size.length,"<");if(y.length<g.length){for(var A=0,B=0;g[A]===1&&y[A]===1;)A++;for(;g[A]===1;)B++,A++;d=Pu(d,g.length,B,y)}if(!tn(g,y))throw new ye(g,y,">");if(g.length===1)D.dimension(0).forEach(function(T,j){Ne(T),l.set([T,0],d[j[0]],m)});else{var x=D.dimension(0),M=D.dimension(1);x.forEach(function(T,j){Ne(T),M.forEach(function(P,L){Ne(P),l.set([T,P],d[j[0]][L[0]],m)})})}}return l}(this,a,s,p);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(a){if(!je(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new ye(a.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var s=a[0],p=a[1];Ne(s,this._size[0]),Ne(p,this._size[1]);var l=o(s,this._ptr[p],this._ptr[p+1],this._index);return l<this._ptr[p+1]&&this._index[l]===s?this._values[l]:0},i.prototype.set=function(a,s,p){if(!je(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new ye(a.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var l=a[0],D=a[1],d=this._size[0],m=this._size[1],y=n,g=0;zr(this._datatype)&&(y=r.find(n,[this._datatype,this._datatype])||n,g=r.convert(0,this._datatype)),(l>d-1||D>m-1)&&(c(this,Math.max(l+1,d),Math.max(D+1,m),p),d=this._size[0],m=this._size[1]),Ne(l,d),Ne(D,m);var v=o(l,this._ptr[D],this._ptr[D+1],this._index);return v<this._ptr[D+1]&&this._index[v]===l?y(s,g)?function(A,B,x,M,T){x.splice(A,1),M.splice(A,1);for(var j=B+1;j<T.length;j++)T[j]--}(v,D,this._values,this._index,this._ptr):this._values[v]=s:y(s,g)||h(v,l,D,s,this._values,this._index,this._ptr),this},i.prototype.resize=function(a,s,p){if(!Mt(a))throw new TypeError("Array or Matrix expected");var l=a.valueOf().map(D=>Array.isArray(D)&&D.length===1?D[0]:D);if(l.length!==2)throw new Error("Only two dimensions matrix are supported");return l.forEach(function(D){if(!Ae(D)||!Me(D)||D<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ie(l)+")")}),c(p?this.clone():this,l[0],l[1],s)},i.prototype.reshape=function(a,s){if(!je(a))throw new TypeError("Array expected");if(a.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");a.forEach(function(H){if(!Ae(H)||!Me(H)||H<=-2||H===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ie(a)+")")});var p=this._size[0]*this._size[1];if(p!==(a=si(a,p))[0]*a[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var l=s?this.clone():this;if(this._size[0]===a[0]&&this._size[1]===a[1])return l;for(var D=[],d=0;d<l._ptr.length;d++)for(var m=0;m<l._ptr[d+1]-l._ptr[d];m++)D.push(d);for(var y=l._values.slice(),g=l._index.slice(),v=0;v<l._index.length;v++){var A=g[v],B=D[v],x=A*l._size[1]+B;D[v]=x%a[1],g[v]=Math.floor(x/a[1])}l._values.length=0,l._index.length=0,l._ptr.length=a[1]+1,l._size=a.slice();for(var M=0;M<l._ptr.length;M++)l._ptr[M]=0;for(var T=0;T<y.length;T++){var j=g[T],P=D[T],L=y[T];h(o(j,l._ptr[P],l._ptr[P+1],l._index),j,P,L,l._values,l._index,l._ptr)}return l},i.prototype.clone=function(){return new i({values:this._values?Se(this._values):void 0,index:Se(this._index),ptr:Se(this._ptr),size:Se(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(a,s){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var p=this,l=this._size[0],D=this._size[1],d=$t(a,p,"map");return function(m,y,g,v,A,B,x){var M=[],T=[],j=[],P=n,L=0;zr(m._datatype)&&(P=r.find(n,[m._datatype,m._datatype])||n,L=r.convert(0,m._datatype));for(var H=function(ve,fe,ze){var ge=B(ve,fe,ze);P(ge,L)||(M.push(ge),T.push(fe))},Y=v;Y<=A;Y++){j.push(M.length);var J=m._ptr[Y],G=m._ptr[Y+1];if(x)for(var V=J;V<G;V++){var le=m._index[V];le>=y&&le<=g&&H(m._values[V],le-y,Y-v)}else{for(var De={},ce=J;ce<G;ce++)De[m._index[ce]]=m._values[ce];for(var Ce=y;Ce<=g;Ce++)H(Ce in De?De[Ce]:0,Ce-y,Y-v)}}return j.push(M.length),new i({values:M,index:T,ptr:j,size:[g-y+1,A-v+1]})}(this,0,l-1,0,D-1,function(m,y,g){return d.fn(m,[y,g],p)},s)},i.prototype.forEach=function(a,s){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var p=this,l=this._size[0],D=this._size[1],d=$t(a,p,"forEach"),m=0;m<D;m++){var y=this._ptr[m],g=this._ptr[m+1];if(s)for(var v=y;v<g;v++){var A=this._index[v];d.fn(this._values[v],[A,m],p)}else{for(var B={},x=y;x<g;x++)B[this._index[x]]=this._values[x];for(var M=0;M<l;M++){var T=M in B?B[M]:0;d.fn(T,[M,m],p)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var a=this._size[1],s=0;s<a;s++)for(var p=this._ptr[s],l=this._ptr[s+1],D=p;D<l;D++){var d=this._index[D];yield{value:this._values[D],index:[d,s]}}},i.prototype.toArray=function(){return f(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return f(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(a){for(var s=this._size[0],p=this._size[1],l=this.density(),D="Sparse Matrix ["+Ie(s,a)+" x "+Ie(p,a)+"] density: "+Ie(l,a)+`
`,d=0;d<p;d++)for(var m=this._ptr[d],y=this._ptr[d+1],g=m;g<y;g++)D+=`
    (`+Ie(this._index[g],a)+", "+Ie(d,a)+") ==> "+(this._values?Ie(this._values[g],a):"X");return D},i.prototype.toString=function(){return Ie(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(a){if(a){if(Oe(a)&&(a=a.toNumber()),!Ae(a)||!Me(a))throw new TypeError("The parameter k must be an integer number")}else a=0;var s=a>0?a:0,p=a<0?-a:0,l=this._size[0],D=this._size[1],d=Math.min(l-p,D-s),m=[],y=[],g=[];g[0]=0;for(var v=s;v<D&&m.length<d;v++)for(var A=this._ptr[v],B=this._ptr[v+1],x=A;x<B;x++){var M=this._index[x];if(M===v-s+p){m.push(this._values[x]),y[m.length-1]=M-p;break}}return g.push(m.length),new i({values:m,index:y,ptr:g,size:[d,1]})},i.fromJSON=function(a){return new i(a)},i.diagonal=function(a,s,p,l,D){if(!je(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(J){if(Oe(J)&&(J=J.toNumber()),!Ae(J)||!Me(J)||J<1)throw new Error("Size values must be positive integers");return J}),p){if(Oe(p)&&(p=p.toNumber()),!Ae(p)||!Me(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var d=n,m=0;zr(D)&&(d=r.find(n,[D,D])||n,m=r.convert(0,D));var y,g=p>0?p:0,v=p<0?-p:0,A=a[0],B=a[1],x=Math.min(A-v,B-g);if(je(s)){if(s.length!==x)throw new Error("Invalid value array length");y=function(J){return s[J]}}else if(Te(s)){var M=s.size();if(M.length!==1||M[0]!==x)throw new Error("Invalid matrix length");y=function(J){return s.get([J])}}else y=function(){return s};for(var T=[],j=[],P=[],L=0;L<B;L++){P.push(T.length);var H=L-g;if(H>=0&&H<x){var Y=y(H);d(Y,m)||(j.push(H+v),T.push(Y))}}return P.push(T.length),new i({values:T,index:j,ptr:P,size:[A,B]})},i.prototype.swapRows=function(a,s){if(!(Ae(a)&&Me(a)&&Ae(s)&&Me(s)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ne(a,this._size[0]),Ne(s,this._size[0]),i._swapRows(a,s,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(a,s,p,l,D){for(var d=l[a],m=l[a+1],y=d;y<m;y++)D(p[y],s[y])},i._swapRows=function(a,s,p,l,D,d){for(var m=0;m<p;m++){var y=d[m],g=d[m+1],v=o(a,y,g,D),A=o(s,y,g,D);if(v<g&&A<g&&D[v]===a&&D[A]===s){if(l){var B=l[v];l[v]=l[A],l[A]=B}}else if(v<g&&D[v]===a&&(A>=g||D[A]!==s)){var x=l?l[v]:void 0;D.splice(A,0,s),l&&l.splice(A,0,x),D.splice(A<=v?v+1:v,1),l&&l.splice(A<=v?v+1:v,1)}else if(A<g&&D[A]===s&&(v>=g||D[v]!==a)){var M=l?l[A]:void 0;D.splice(v,0,a),l&&l.splice(v,0,M),D.splice(v<=A?A+1:A,1),l&&l.splice(v<=A?A+1:A,1)}}},i},{isClass:!0}),Es=oe("number",["typed"],e=>{var{typed:r}=e,n=r("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var i,u,o=(u=(i=t).match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/))?{input:i,radix:{"0b":2,"0o":8,"0x":16}[u[1]],integerPart:u[2],fractionalPart:u[3]}:null;if(o)return function(a){for(var s=parseInt(a.integerPart,a.radix),p=0,l=0;l<a.fractionalPart.length;l++)p+=parseInt(a.fractionalPart[l],a.radix)/Math.pow(a.radix,l+1);var D=s+p;if(isNaN(D))throw new SyntaxError('String "'+a.input+'" is not a valid number');return D}(o);var h=0,c=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);c&&(h=Number(c[2]),t=c[1]);var f=Number(t);if(isNaN(f))throw new SyntaxError('String "'+t+'" is not a valid number');if(c){if(f>2**h-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));f>=2**(h-1)&&(f-=2**h)}return f},BigNumber:function(t){return t.toNumber()},bigint:function(t){return Number(t)},Fraction:function(t){return t.valueOf()},Unit:r.referToSelf(t=>i=>{var u=i.clone();return u.value=t(i.value),u}),null:function(t){return 0},"Unit, string | Unit":function(t,i){return t.toNumber(i)},"Array | Matrix":r.referToSelf(t=>i=>kr(i,t))});return n.fromJSON=function(t){return parseFloat(t.value)},n}),As=oe("bignumber",["typed","BigNumber"],e=>{var{typed:r,BigNumber:n}=e;return r("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var i=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var u=i[2],o=n(i[1]),h=new n(2).pow(Number(u));if(o.gt(h.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var c=new n(2).pow(Number(u)-1);return o.gte(c)?o.sub(h):o}return new n(t)},BigNumber:function(t){return t},bigint:function(t){return new n(t.toString())},Unit:r.referToSelf(t=>i=>{var u=i.clone();return u.value=t(i.value),u}),Fraction:function(t){return new n(String(t.n)).div(String(t.d)).times(String(t.s))},null:function(t){return new n(0)},"Array | Matrix":r.referToSelf(t=>i=>kr(i,t))})}),Cs=oe("complex",["typed","Complex"],e=>{var{typed:r,Complex:n}=e;return r("complex",{"":function(){return n.ZERO},number:function(t){return new n(t,0)},"number, number":function(t,i){return new n(t,i)},"BigNumber, BigNumber":function(t,i){return new n(t.toNumber(),i.toNumber())},Fraction:function(t){return new n(t.valueOf(),0)},Complex:function(t){return t.clone()},string:function(t){return n(t)},null:function(t){return n(0)},Object:function(t){if("re"in t&&"im"in t)return new n(t.re,t.im);if("r"in t&&"phi"in t||"abs"in t&&"arg"in t)return new n(t);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":r.referToSelf(t=>i=>kr(i,t))})}),xs=oe("fraction",["typed","Fraction"],e=>{var{typed:r,Fraction:n}=e;return r("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,i){return new n(t,i)},"bigint, bigint":function(t,i){return new n(t,i)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},bigint:function(t){return new n(t.toString())},Fraction:function(t){return t},Unit:r.referToSelf(t=>i=>{var u=i.clone();return u.value=t(i.value),u}),Object:function(t){return new n(t)},"Array | Matrix":r.referToSelf(t=>i=>kr(i,t))})}),tu="matrix",bs=oe(tu,["typed","Matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:r,Matrix:n,DenseMatrix:t,SparseMatrix:i}=e;return r(tu,{"":function(){return u([])},string:function(o){return u([],o)},"string, string":function(o,h){return u([],o,h)},Array:function(o){return u(o)},Matrix:function(o){return u(o,o.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(o,h,c){if(h==="dense"||h==="default"||h===void 0)return new t(o,c);if(h==="sparse")return new i(o,c);throw new TypeError("Unknown matrix type "+JSON.stringify(h)+".")}}),iu="unaryMinus",Bs=oe(iu,["typed"],e=>{var{typed:r}=e;return r(iu,{number:Xu,"Complex | BigNumber | Fraction":n=>n.neg(),bigint:n=>-n,Unit:r.referToSelf(n=>t=>{var i=t.clone();return i.value=r.find(n,i.valueType())(t.value),i}),"Array | Matrix":r.referToSelf(n=>t=>kr(t,n,!0))})}),_s=oe("abs",["typed"],e=>{var{typed:r}=e;return r("abs",{number:Hu,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),bigint:n=>n<0n?-n:n,"Array | Matrix":r.referToSelf(n=>t=>kr(t,n,!0))})}),uu="addScalar",Ms=oe(uu,["typed"],e=>{var{typed:r}=e;return r(uu,{"number, number":Ju,"Complex, Complex":function(n,t){return n.add(t)},"BigNumber, BigNumber":function(n,t){return n.plus(t)},"bigint, bigint":function(n,t){return n+t},"Fraction, Fraction":function(n,t){return n.add(t)},"Unit, Unit":r.referToSelf(n=>(t,i)=>{if(t.value===null||t.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(i))throw new Error("Units do not match");var u=t.clone();return u.value=r.find(n,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),ou="subtractScalar",Ns=oe(ou,["typed"],e=>{var{typed:r}=e;return r(ou,{"number, number":Yu,"Complex, Complex":function(n,t){return n.sub(t)},"BigNumber, BigNumber":function(n,t){return n.minus(t)},"bigint, bigint":function(n,t){return n-t},"Fraction, Fraction":function(n,t){return n.sub(t)},"Unit, Unit":r.referToSelf(n=>(t,i)=>{if(t.value===null||t.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(i))throw new Error("Units do not match");var u=t.clone();return u.value=r.find(n,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),Ss=oe("matAlgo11xS0s",["typed","equalScalar"],e=>{var{typed:r,equalScalar:n}=e;return function(t,i,u,o){var h=t._values,c=t._index,f=t._ptr,a=t._size,s=t._datatype;if(!h)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,l=a[0],D=a[1],d=n,m=0,y=u;typeof s=="string"&&(p=s,d=r.find(n,[p,p]),m=r.convert(0,p),i=r.convert(i,p),y=r.find(u,[p,p]));for(var g=[],v=[],A=[],B=0;B<D;B++){A[B]=v.length;for(var x=f[B],M=f[B+1],T=x;T<M;T++){var j=c[T],P=o?y(i,h[T]):y(h[T],i);d(P,m)||(v.push(j),g.push(P))}}return A[D]=v.length,t.createSparseMatrix({values:g,index:v,ptr:A,size:[l,D],datatype:p})}}),Qu=oe("matAlgo14xDs",["typed"],e=>{var{typed:r}=e;return function(t,i,u,o){var h,c=t._data,f=t._size,a=t._datatype,s=u;typeof a=="string"&&(h=a,i=r.convert(i,h),s=r.find(u,[h,h]));var p=f.length>0?n(s,0,f,f[0],c,i,o):[];return t.createDenseMatrix({data:p,size:Se(f),datatype:h})};function n(t,i,u,o,h,c,f){var a=[];if(i===u.length-1)for(var s=0;s<o;s++)a[s]=f?t(c,h[s]):t(h[s],c);else for(var p=0;p<o;p++)a[p]=n(t,i+1,u,u[i+1],h[p],c,f);return a}}),Ts=oe("matAlgo13xDD",["typed"],e=>{var{typed:r}=e;return function(t,i,u){var o,h=t._data,c=t._size,f=t._datatype,a=i._data,s=i._size,p=i._datatype,l=[];if(c.length!==s.length)throw new ye(c.length,s.length);for(var D=0;D<c.length;D++){if(c[D]!==s[D])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+s+")");l[D]=c[D]}var d=u;typeof f=="string"&&f===p&&(o=f,d=r.find(u,[o,o]));var m=l.length>0?n(d,0,l,l[0],h,a):[];return t.createDenseMatrix({data:m,size:l,datatype:o})};function n(t,i,u,o,h,c){var f=[];if(i===u.length-1)for(var a=0;a<o;a++)f[a]=t(h[a],c[a]);else for(var s=0;s<o;s++)f[s]=n(t,i+1,u,u[i+1],h[s],c[s]);return f}});function Pe(e,r){if(tn(e.size(),r.size()))return[e,r];var n=Zu(e.size(),r.size());return[e,r].map(t=>function(i,u){return tn(i.size(),u)?i:i.create(ti(i.valueOf(),u),i.datatype())}(t,n))}var zs=oe("matrixAlgorithmSuite",["typed","matrix"],e=>{var{typed:r,matrix:n}=e,t=Ts({typed:r}),i=Qu({typed:r});return function(u){var o,h=u.elop,c=u.SD||u.DS;h?(o={"DenseMatrix, DenseMatrix":(s,p)=>t(...Pe(s,p),h),"Array, Array":(s,p)=>t(...Pe(n(s),n(p)),h).valueOf(),"Array, DenseMatrix":(s,p)=>t(...Pe(n(s),p),h),"DenseMatrix, Array":(s,p)=>t(...Pe(s,n(p)),h)},u.SS&&(o["SparseMatrix, SparseMatrix"]=(s,p)=>u.SS(...Pe(s,p),h,!1)),u.DS&&(o["DenseMatrix, SparseMatrix"]=(s,p)=>u.DS(...Pe(s,p),h,!1),o["Array, SparseMatrix"]=(s,p)=>u.DS(...Pe(n(s),p),h,!1)),c&&(o["SparseMatrix, DenseMatrix"]=(s,p)=>c(...Pe(p,s),h,!0),o["SparseMatrix, Array"]=(s,p)=>c(...Pe(n(p),s),h,!0))):(o={"DenseMatrix, DenseMatrix":r.referToSelf(s=>(p,l)=>t(...Pe(p,l),s)),"Array, Array":r.referToSelf(s=>(p,l)=>t(...Pe(n(p),n(l)),s).valueOf()),"Array, DenseMatrix":r.referToSelf(s=>(p,l)=>t(...Pe(n(p),l),s)),"DenseMatrix, Array":r.referToSelf(s=>(p,l)=>t(...Pe(p,n(l)),s))},u.SS&&(o["SparseMatrix, SparseMatrix"]=r.referToSelf(s=>(p,l)=>u.SS(...Pe(p,l),s,!1))),u.DS&&(o["DenseMatrix, SparseMatrix"]=r.referToSelf(s=>(p,l)=>u.DS(...Pe(p,l),s,!1)),o["Array, SparseMatrix"]=r.referToSelf(s=>(p,l)=>u.DS(...Pe(n(p),l),s,!1))),c&&(o["SparseMatrix, DenseMatrix"]=r.referToSelf(s=>(p,l)=>c(...Pe(l,p),s,!0)),o["SparseMatrix, Array"]=r.referToSelf(s=>(p,l)=>c(...Pe(n(l),p),s,!0))));var f=u.scalar||"any";(u.Ds||u.Ss)&&(h?(o["DenseMatrix,"+f]=(s,p)=>i(s,p,h,!1),o[f+", DenseMatrix"]=(s,p)=>i(p,s,h,!0),o["Array,"+f]=(s,p)=>i(n(s),p,h,!1).valueOf(),o[f+", Array"]=(s,p)=>i(n(p),s,h,!0).valueOf()):(o["DenseMatrix,"+f]=r.referToSelf(s=>(p,l)=>i(p,l,s,!1)),o[f+", DenseMatrix"]=r.referToSelf(s=>(p,l)=>i(l,p,s,!0)),o["Array,"+f]=r.referToSelf(s=>(p,l)=>i(n(p),l,s,!1).valueOf()),o[f+", Array"]=r.referToSelf(s=>(p,l)=>i(n(l),p,s,!0).valueOf())));var a=u.sS!==void 0?u.sS:u.Ss;return h?(u.Ss&&(o["SparseMatrix,"+f]=(s,p)=>u.Ss(s,p,h,!1)),a&&(o[f+", SparseMatrix"]=(s,p)=>a(p,s,h,!0))):(u.Ss&&(o["SparseMatrix,"+f]=r.referToSelf(s=>(p,l)=>u.Ss(p,l,s,!1))),a&&(o[f+", SparseMatrix"]=r.referToSelf(s=>(p,l)=>a(l,p,s,!0)))),h&&h.signatures&&function(s,p){for(var l in p)et(p,l)&&(s[l]=p[l])}(o,h.signatures),o}}),$s=oe("matAlgo01xDSid",["typed"],e=>{var{typed:r}=e;return function(n,t,i,u){var o=n._data,h=n._size,c=n._datatype||n.getDataType(),f=t._values,a=t._index,s=t._ptr,p=t._size,l=t._datatype||t._data===void 0?t._datatype:t.getDataType();if(h.length!==p.length)throw new ye(h.length,p.length);if(h[0]!==p[0]||h[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+h+") must match Matrix B ("+p+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var D,d,m=h[0],y=h[1],g=typeof c=="string"&&c!=="mixed"&&c===l?c:void 0,v=g?r.find(i,[g,g]):i,A=[];for(D=0;D<m;D++)A[D]=[];var B=[],x=[];for(d=0;d<y;d++){for(var M=d+1,T=s[d],j=s[d+1],P=T;P<j;P++)B[D=a[P]]=u?v(f[P],o[D][d]):v(o[D][d],f[P]),x[D]=M;for(D=0;D<m;D++)x[D]===M?A[D][d]=B[D]:A[D][d]=o[D][d]}return n.createDenseMatrix({data:A,size:[m,y],datatype:c===n._datatype&&l===t._datatype?g:void 0})}}),Os=oe("matAlgo04xSidSid",["typed","equalScalar"],e=>{var{typed:r,equalScalar:n}=e;return function(t,i,u){var o=t._values,h=t._index,c=t._ptr,f=t._size,a=t._datatype||t._data===void 0?t._datatype:t.getDataType(),s=i._values,p=i._index,l=i._ptr,D=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(f.length!==D.length)throw new ye(f.length,D.length);if(f[0]!==D[0]||f[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+D+")");var m,y=f[0],g=f[1],v=n,A=0,B=u;typeof a=="string"&&a===d&&a!=="mixed"&&(m=a,v=r.find(n,[m,m]),A=r.convert(0,m),B=r.find(u,[m,m]));var x,M,T,j,P,L=o&&s?[]:void 0,H=[],Y=[],J=o&&s?[]:void 0,G=o&&s?[]:void 0,V=[],le=[];for(M=0;M<g;M++){Y[M]=H.length;var De=M+1;for(j=c[M],P=c[M+1],T=j;T<P;T++)x=h[T],H.push(x),V[x]=De,J&&(J[x]=o[T]);for(j=l[M],P=l[M+1],T=j;T<P;T++)if(V[x=p[T]]===De){if(J){var ce=B(J[x],s[T]);v(ce,A)?V[x]=null:J[x]=ce}}else H.push(x),le[x]=De,G&&(G[x]=s[T]);if(J&&G)for(T=Y[M];T<H.length;)V[x=H[T]]===De?(L[T]=J[x],T++):le[x]===De?(L[T]=G[x],T++):H.splice(T,1)}return Y[g]=H.length,t.createSparseMatrix({values:L,index:H,ptr:Y,size:[y,g],datatype:a===t._datatype&&d===i._datatype?m:void 0})}}),Is=oe("matAlgo10xSids",["typed","DenseMatrix"],e=>{var{typed:r,DenseMatrix:n}=e;return function(t,i,u,o){var h=t._values,c=t._index,f=t._ptr,a=t._size,s=t._datatype;if(!h)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,l=a[0],D=a[1],d=u;typeof s=="string"&&(p=s,i=r.convert(i,p),d=r.find(u,[p,p]));for(var m=[],y=[],g=[],v=0;v<D;v++){for(var A=v+1,B=f[v],x=f[v+1],M=B;M<x;M++){var T=c[M];y[T]=h[M],g[T]=A}for(var j=0;j<l;j++)v===0&&(m[j]=[]),g[j]===A?m[j][v]=o?d(i,y[j]):d(y[j],i):m[j][v]=i}return new n({data:m,size:[l,D],datatype:p})}}),qs=oe("multiplyScalar",["typed"],e=>{var{typed:r}=e;return r("multiplyScalar",{"number, number":Gu,"Complex, Complex":function(n,t){return n.mul(t)},"BigNumber, BigNumber":function(n,t){return n.times(t)},"bigint, bigint":function(n,t){return n*t},"Fraction, Fraction":function(n,t){return n.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(n,t)=>t.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,t)=>n.multiply(t)})}),au="multiply",js=oe(au,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],e=>{var{typed:r,matrix:n,addScalar:t,multiplyScalar:i,equalScalar:u,dot:o}=e,h=Ss({typed:r,equalScalar:u}),c=Qu({typed:r});function f(l,D){switch(l.length){case 1:switch(D.length){case 1:if(l[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(l[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+l[0]+") must match Matrix rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;case 2:switch(D.length){case 1:if(l[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+l[1]+") must match Vector length ("+D[0]+")");break;case 2:if(l[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+l[1]+") must match Matrix B rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+l.length+" dimensions)")}}function a(l,D){if(D.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return function(d,m){var y,g=d._data,v=d._size,A=d._datatype||d.getDataType(),B=m._data,x=m._size,M=m._datatype||m.getDataType(),T=v[0],j=x[1],P=t,L=i;A&&M&&A===M&&typeof A=="string"&&A!=="mixed"&&(y=A,P=r.find(t,[y,y]),L=r.find(i,[y,y]));for(var H=[],Y=0;Y<j;Y++){for(var J=L(g[0],B[0][Y]),G=1;G<T;G++)J=P(J,L(g[G],B[G][Y]));H[Y]=J}return d.createDenseMatrix({data:H,size:[j],datatype:A===d._datatype&&M===m._datatype?y:void 0})}(l,D)}var s=r("_multiplyMatrixVector",{"DenseMatrix, any":function(l,D){var d,m=l._data,y=l._size,g=l._datatype||l.getDataType(),v=D._data,A=D._datatype||D.getDataType(),B=y[0],x=y[1],M=t,T=i;g&&A&&g===A&&typeof g=="string"&&g!=="mixed"&&(d=g,M=r.find(t,[d,d]),T=r.find(i,[d,d]));for(var j=[],P=0;P<B;P++){for(var L=m[P],H=T(L[0],v[0]),Y=1;Y<x;Y++)H=M(H,T(L[Y],v[Y]));j[P]=H}return l.createDenseMatrix({data:j,size:[B],datatype:g===l._datatype&&A===D._datatype?d:void 0})},"SparseMatrix, any":function(l,D){var d=l._values,m=l._index,y=l._ptr,g=l._datatype||l._data===void 0?l._datatype:l.getDataType();if(!d)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var v,A=D._data,B=D._datatype||D.getDataType(),x=l._size[0],M=D._size[0],T=[],j=[],P=[],L=t,H=i,Y=u,J=0;g&&B&&g===B&&typeof g=="string"&&g!=="mixed"&&(v=g,L=r.find(t,[v,v]),H=r.find(i,[v,v]),Y=r.find(u,[v,v]),J=r.convert(0,v));var G=[],V=[];P[0]=0;for(var le=0;le<M;le++){var De=A[le];if(!Y(De,J))for(var ce=y[le],Ce=y[le+1],ve=ce;ve<Ce;ve++){var fe=m[ve];V[fe]?G[fe]=L(G[fe],H(De,d[ve])):(V[fe]=!0,j.push(fe),G[fe]=H(De,d[ve]))}}for(var ze=j.length,ge=0;ge<ze;ge++){var we=j[ge];T[ge]=G[we]}return P[1]=j.length,l.createSparseMatrix({values:T,index:j,ptr:P,size:[x,1],datatype:g===l._datatype&&B===D._datatype?v:void 0})}}),p=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(l,D){var d,m=l._data,y=l._size,g=l._datatype||l.getDataType(),v=D._data,A=D._size,B=D._datatype||D.getDataType(),x=y[0],M=y[1],T=A[1],j=t,P=i;g&&B&&g===B&&typeof g=="string"&&g!=="mixed"&&g!=="mixed"&&(d=g,j=r.find(t,[d,d]),P=r.find(i,[d,d]));for(var L=[],H=0;H<x;H++){var Y=m[H];L[H]=[];for(var J=0;J<T;J++){for(var G=P(Y[0],v[0][J]),V=1;V<M;V++)G=j(G,P(Y[V],v[V][J]));L[H][J]=G}}return l.createDenseMatrix({data:L,size:[x,T],datatype:g===l._datatype&&B===D._datatype?d:void 0})},"DenseMatrix, SparseMatrix":function(l,D){var d=l._data,m=l._size,y=l._datatype||l.getDataType(),g=D._values,v=D._index,A=D._ptr,B=D._size,x=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!g)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var M,T=m[0],j=B[1],P=t,L=i,H=u,Y=0;y&&x&&y===x&&typeof y=="string"&&y!=="mixed"&&(M=y,P=r.find(t,[M,M]),L=r.find(i,[M,M]),H=r.find(u,[M,M]),Y=r.convert(0,M));for(var J=[],G=[],V=[],le=D.createSparseMatrix({values:J,index:G,ptr:V,size:[T,j],datatype:y===l._datatype&&x===D._datatype?M:void 0}),De=0;De<j;De++){V[De]=G.length;var ce=A[De],Ce=A[De+1];if(Ce>ce)for(var ve=0,fe=0;fe<T;fe++){for(var ze=fe+1,ge=void 0,we=ce;we<Ce;we++){var $e=v[we];ve!==ze?(ge=L(d[fe][$e],g[we]),ve=ze):ge=P(ge,L(d[fe][$e],g[we]))}ve!==ze||H(ge,Y)||(G.push(fe),J.push(ge))}}return V[j]=G.length,le},"SparseMatrix, DenseMatrix":function(l,D){var d=l._values,m=l._index,y=l._ptr,g=l._datatype||l._data===void 0?l._datatype:l.getDataType();if(!d)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var v,A=D._data,B=D._datatype||D.getDataType(),x=l._size[0],M=D._size[0],T=D._size[1],j=t,P=i,L=u,H=0;g&&B&&g===B&&typeof g=="string"&&g!=="mixed"&&(v=g,j=r.find(t,[v,v]),P=r.find(i,[v,v]),L=r.find(u,[v,v]),H=r.convert(0,v));for(var Y=[],J=[],G=[],V=l.createSparseMatrix({values:Y,index:J,ptr:G,size:[x,T],datatype:g===l._datatype&&B===D._datatype?v:void 0}),le=[],De=[],ce=0;ce<T;ce++){G[ce]=J.length;for(var Ce=ce+1,ve=0;ve<M;ve++){var fe=A[ve][ce];if(!L(fe,H))for(var ze=y[ve],ge=y[ve+1],we=ze;we<ge;we++){var $e=m[we];De[$e]!==Ce?(De[$e]=Ce,J.push($e),le[$e]=P(fe,d[we])):le[$e]=j(le[$e],P(fe,d[we]))}}for(var Ze=G[ce],qe=J.length,Ve=Ze;Ve<qe;Ve++){var br=J[Ve];Y[Ve]=le[br]}}return G[T]=J.length,V},"SparseMatrix, SparseMatrix":function(l,D){var d,m=l._values,y=l._index,g=l._ptr,v=l._datatype||l._data===void 0?l._datatype:l.getDataType(),A=D._values,B=D._index,x=D._ptr,M=D._datatype||D._data===void 0?D._datatype:D.getDataType(),T=l._size[0],j=D._size[1],P=m&&A,L=t,H=i;v&&M&&v===M&&typeof v=="string"&&v!=="mixed"&&(d=v,L=r.find(t,[d,d]),H=r.find(i,[d,d]));for(var Y,J,G,V,le,De,ce,Ce,ve=P?[]:void 0,fe=[],ze=[],ge=l.createSparseMatrix({values:ve,index:fe,ptr:ze,size:[T,j],datatype:v===l._datatype&&M===D._datatype?d:void 0}),we=P?[]:void 0,$e=[],Ze=0;Ze<j;Ze++){ze[Ze]=fe.length;var qe=Ze+1;for(le=x[Ze],De=x[Ze+1],V=le;V<De;V++)if(Ce=B[V],P)for(J=g[Ce],G=g[Ce+1],Y=J;Y<G;Y++)$e[ce=y[Y]]!==qe?($e[ce]=qe,fe.push(ce),we[ce]=H(A[V],m[Y])):we[ce]=L(we[ce],H(A[V],m[Y]));else for(J=g[Ce],G=g[Ce+1],Y=J;Y<G;Y++)$e[ce=y[Y]]!==qe&&($e[ce]=qe,fe.push(ce));if(P)for(var Ve=ze[Ze],br=fe.length,ar=Ve;ar<br;ar++){var Pr=fe[ar];ve[ar]=we[Pr]}}return ze[j]=fe.length,ge}});return r(au,i,{"Array, Array":r.referTo("Matrix, Matrix",l=>(D,d)=>{f(tr(D),tr(d));var m=l(n(D),n(d));return Te(m)?m.valueOf():m}),"Matrix, Matrix":function(l,D){var d=l.size(),m=D.size();return f(d,m),d.length===1?m.length===1?function(y,g,v){if(v===0)throw new Error("Cannot multiply two empty vectors");return o(y,g)}(l,D,d[0]):a(l,D):m.length===1?s(l,D):p(l,D)},"Matrix, Array":r.referTo("Matrix,Matrix",l=>(D,d)=>l(D,n(d))),"Array, Matrix":r.referToSelf(l=>(D,d)=>l(n(D,d.storage()),d)),"SparseMatrix, any":function(l,D){return h(l,D,i,!1)},"DenseMatrix, any":function(l,D){return c(l,D,i,!1)},"any, SparseMatrix":function(l,D){return h(D,l,i,!0)},"any, DenseMatrix":function(l,D){return c(D,l,i,!0)},"Array, any":function(l,D){return c(n(l),D,i,!1).valueOf()},"any, Array":function(l,D){return c(n(D),l,i,!0).valueOf()},"any, any":i,"any, any, ...any":r.referToSelf(l=>(D,d,m)=>{for(var y=l(D,d),g=0;g<m.length;g++)y=l(y,m[g]);return y})})}),su="conj",ks=oe(su,["typed"],e=>{var{typed:r}=e;return r(su,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":r.referToSelf(n=>t=>kr(t,n))})}),cu="concat",Ps=oe(cu,["typed","matrix","isInteger"],e=>{var{typed:r,matrix:n,isInteger:t}=e;return r(cu,{"...Array | Matrix | number | BigNumber":function(i){var u,o,h=i.length,c=-1,f=!1,a=[];for(u=0;u<h;u++){var s=i[u];if(Te(s)&&(f=!0),Ae(s)||Oe(s)){if(u!==h-1)throw new Error("Dimension must be specified as last argument");if(o=c,c=s.valueOf(),!t(c))throw new TypeError("Integer number expected for dimension");if(c<0||u>0&&c>o)throw new pn(c,o+1)}else{var p=Se(s).valueOf(),l=tr(p);if(a[u]=p,o=c,c=l.length-1,u>0&&c!==o)throw new ye(o+1,c+1)}}if(a.length===0)throw new SyntaxError("At least one matrix expected");for(var D=a.shift();a.length;)D=Lu(D,a.shift(),c);return f?n(D):D},"...string":function(i){return i.join("")}})}),fu="identity",Rs=oe(fu,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],e=>{var{typed:r,config:n,matrix:t,BigNumber:i,DenseMatrix:u,SparseMatrix:o}=e;return r(fu,{"":function(){return n.matrix==="Matrix"?t([]):[]},string:function(f){return t(f)},"number | BigNumber":function(f){return c(f,f,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(f,a){return c(f,f,a)},"number | BigNumber, number | BigNumber":function(f,a){return c(f,a,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(f,a,s){return c(f,a,s)},Array:function(f){return h(f)},"Array, string":function(f,a){return h(f,a)},Matrix:function(f){return h(f.valueOf(),f.storage())},"Matrix, string":function(f,a){return h(f.valueOf(),a)}});function h(f,a){switch(f.length){case 0:return a?t(a):[];case 1:return c(f[0],f[0],a);case 2:return c(f[0],f[1],a);default:throw new Error("Vector containing two values expected")}}function c(f,a,s){var p=Oe(f)||Oe(a)?i:null;if(Oe(f)&&(f=f.toNumber()),Oe(a)&&(a=a.toNumber()),!Me(f)||f<1)throw new Error("Parameters in function identity must be positive integers");if(!Me(a)||a<1)throw new Error("Parameters in function identity must be positive integers");var l=p?new i(1):1,D=p?new p(0):0,d=[f,a];if(s){if(s==="sparse")return o.diagonal(d,l,0,D);if(s==="dense")return u.diagonal(d,l,0,D);throw new TypeError('Unknown matrix type "'.concat(s,'"'))}for(var m=ri([],d,D),y=f<a?f:a,g=0;g<y;g++)m[g][g]=l;return m}});function Us(){throw new Error('No "bignumber" implementation available')}function Ls(){throw new Error('No "fraction" implementation available')}var hu="size",Zs=oe(hu,["typed","config","?matrix"],e=>{var{typed:r,config:n,matrix:t}=e;return r(hu,{Matrix:function(i){return i.create(i.size(),"number")},Array:tr,string:function(i){return n.matrix==="Array"?[i.length]:t([i.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(i){return n.matrix==="Array"?[]:t?t([],"dense","number"):function(){throw new Error('No "matrix" implementation available')}()}})}),Vs=oe("numeric",["number","?bignumber","?fraction"],e=>{var{number:r,bignumber:n,fraction:t}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:o=>r(o),BigNumber:n?o=>n(o):Us,bigint:o=>BigInt(o),Fraction:t?o=>t(o):Ls};return function(o){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number";if((arguments.length>2?arguments[2]:void 0)!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=en(o);if(!(c in i))throw new TypeError("Cannot convert "+o+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(h in u))throw new TypeError("Cannot convert "+o+' to type "'+h+'"; valid output types are '+Object.keys(u).join(", "));return h===c?o:u[h](o)}}),lu="divideScalar",Ws=oe(lu,["typed","numeric"],e=>{var{typed:r,numeric:n}=e;return r(lu,{"number, number":function(t,i){return t/i},"Complex, Complex":function(t,i){return t.div(i)},"BigNumber, BigNumber":function(t,i){return t.div(i)},"bigint, bigint":function(t,i){return t/i},"Fraction, Fraction":function(t,i){return t.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(t,i)=>t.divide(i),"number | Fraction | Complex | BigNumber, Unit":(t,i)=>i.divideInto(t)})}),Hs=oe("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],e=>{var{typed:r,config:n,identity:t,multiply:i,matrix:u,inv:o,number:h,fraction:c,Complex:f}=e;return r("pow",{"number, number":a,"Complex, Complex":function(l,D){return l.pow(D)},"BigNumber, BigNumber":function(l,D){return D.isInteger()||l>=0||n.predictable?l.pow(D):new f(l.toNumber(),0).pow(D.toNumber(),0)},"bigint, bigint":(l,D)=>l**D,"Fraction, Fraction":function(l,D){var d=l.pow(D);if(d!=null)return d;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return a(l.valueOf(),D.valueOf())},"Array, number":s,"Array, BigNumber":function(l,D){return s(l,D.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(l,D){return p(l,D.toNumber())},"Unit, number | BigNumber":function(l,D){return l.pow(D)}});function a(l,D){if(n.predictable&&!Me(D)&&l<0)try{var d=c(D),m=h(d);if((D===m||Math.abs((D-m)/D)<1e-14)&&d.d%2n===1n)return(d.n%2n===0n?1:-1)*Math.pow(-l,D)}catch{}return n.predictable&&(l<-1&&D===1/0||l>-1&&l<0&&D===-1/0)?NaN:Me(D)||l>=0||n.predictable?Ku(l,D):l*l<1&&D===1/0||l*l>1&&D===-1/0?0:new f(l,0).pow(D,0)}function s(l,D){if(!Me(D))throw new TypeError("For A^b, b must be an integer (value is "+D+")");var d=tr(l);if(d.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(D<0)try{return s(o(l),-D)}catch(g){throw g.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+D+")"):g}for(var m=t(d[0]).valueOf(),y=l;D>=1;)1&~D||(m=i(y,m)),D>>=1,y=i(y,y);return m}function p(l,D){return u(s(l.valueOf(),D))}}),eo=oe("trigUnit",["typed"],e=>{var{typed:r}=e;return{Unit:r.referToSelf(n=>t=>{if(!t.hasBase(t.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return r.find(n,t.valueType())(t.value)})}}),Js=oe("cos",["typed"],e=>{var{typed:r}=e,n=eo({typed:r});return r("cos",{number:Math.cos,"Complex | BigNumber":t=>t.cos()},n)}),Ys=oe("sin",["typed"],e=>{var{typed:r}=e,n=eo({typed:r});return r("sin",{number:Math.sin,"Complex | BigNumber":t=>t.sin()},n)}),Gs=oe("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],e=>{var{typed:r,matrix:n,addScalar:t,equalScalar:i,DenseMatrix:u,SparseMatrix:o,concat:h}=e,c=$s({typed:r}),f=Os({typed:r,equalScalar:i}),a=Is({typed:r,DenseMatrix:u}),s=zs({typed:r,matrix:n,concat:h});return r("add",{"any, any":t,"any, any, ...any":r.referToSelf(p=>(l,D,d)=>{for(var m=p(l,D),y=0;y<d.length;y++)m=p(m,d[y]);return m})},s({elop:t,DS:c,SS:f,Ss:a}))}),Xs=oe("dot",["typed","addScalar","multiplyScalar","conj","size"],e=>{var{typed:r,addScalar:n,multiplyScalar:t,conj:i,size:u}=e;return r("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(c,f){var a=o(c,f),s=Te(c)?c._data:c,p=Te(c)?c._datatype||c.getDataType():void 0,l=Te(f)?f._data:f,D=Te(f)?f._datatype||f.getDataType():void 0,d=h(c).length===2,m=h(f).length===2,y=n,g=t;if(p&&D&&p===D&&typeof p=="string"&&p!=="mixed"){var v=p;y=r.find(n,[v,v]),g=r.find(t,[v,v])}if(!d&&!m){for(var A=g(i(s[0]),l[0]),B=1;B<a;B++)A=y(A,g(i(s[B]),l[B]));return A}if(!d&&m){for(var x=g(i(s[0]),l[0][0]),M=1;M<a;M++)x=y(x,g(i(s[M]),l[M][0]));return x}if(d&&!m){for(var T=g(i(s[0][0]),l[0]),j=1;j<a;j++)T=y(T,g(i(s[j][0]),l[j]));return T}if(d&&m){for(var P=g(i(s[0][0]),l[0][0]),L=1;L<a;L++)P=y(P,g(i(s[L][0]),l[L][0]));return P}},"SparseMatrix, SparseMatrix":function(c,f){o(c,f);for(var a=c._index,s=c._values,p=f._index,l=f._values,D=0,d=n,m=t,y=0,g=0;y<a.length&&g<p.length;){var v=a[y],A=p[g];v<A?y++:v>A?g++:v===A&&(D=d(D,m(s[y],l[g])),y++,g++)}return D}});function o(c,f){var a,s,p=h(c),l=h(f);if(p.length===1)a=p[0];else{if(p.length!==2||p[1]!==1)throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");a=p[0]}if(l.length===1)s=l[0];else{if(l.length!==2||l[1]!==1)throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");s=l[0]}if(a!==s)throw new RangeError("Vectors must have equal length ("+a+" != "+s+")");if(a===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return a}function h(c){return Te(c)?c.size():u(c)}}),Ks=oe("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],e=>{var{typed:r,matrix:n,subtractScalar:t,multiply:i,divideScalar:u,isZero:o,unaryMinus:h}=e;return r("det",{any:function(c){return Se(c)},"Array | Matrix":function(c){var f;switch((f=Te(c)?c.size():Array.isArray(c)?(c=n(c)).size():[]).length){case 0:return Se(c);case 1:if(f[0]===1)return Se(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ie(f)+")");case 2:var a=f[0],s=f[1];if(a===s)return function(p,l){if(l===1)return Se(p[0][0]);if(l===2)return t(i(p[0][0],p[1][1]),i(p[1][0],p[0][1]));for(var D=!1,d=new Array(l).fill(0).map((j,P)=>P),m=0;m<l;m++){var y=d[m];if(o(p[y][m])){var g=void 0;for(g=m+1;g<l;g++)if(!o(p[d[g]][m])){y=d[g],d[g]=d[m],d[m]=y,D=!D;break}if(g===l)return p[y][m]}for(var v=p[y][m],A=m===0?1:p[d[m-1]][m-1],B=m+1;B<l;B++)for(var x=d[B],M=m+1;M<l;M++)p[x][M]=u(t(i(p[x][M],v),i(p[x][m],p[y][M])),A)}var T=p[d[l-1]][l-1];return D?h(T):T}(c.clone().valueOf(),a);if(s===0)return 1;throw new RangeError("Matrix must be square (size: "+Ie(f)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Ie(f)+")")}}})}),Qs=oe("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],e=>{var{typed:r,matrix:n,divideScalar:t,addScalar:i,multiply:u,unaryMinus:o,det:h,identity:c,abs:f}=e;return r("inv",{"Array | Matrix":function(s){var p=Te(s)?s.size():tr(s);switch(p.length){case 1:if(p[0]===1)return Te(s)?n([t(1,s.valueOf()[0])]):[t(1,s[0])];throw new RangeError("Matrix must be square (size: "+Ie(p)+")");case 2:var l=p[0],D=p[1];if(l===D)return Te(s)?n(a(s.valueOf(),l,D),s.storage()):a(s,l,D);throw new RangeError("Matrix must be square (size: "+Ie(p)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Ie(p)+")")}},any:function(s){return t(1,s)}});function a(s,p,l){var D,d,m,y,g;if(p===1){if((y=s[0][0])===0)throw Error("Cannot calculate inverse, determinant is zero");return[[t(1,y)]]}if(p===2){var v=h(s);if(v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[t(s[1][1],v),t(o(s[0][1]),v)],[t(o(s[1][0]),v),t(s[0][0],v)]]}var A=s.concat();for(D=0;D<p;D++)A[D]=A[D].concat();for(var B=c(p).valueOf(),x=0;x<l;x++){var M=f(A[x][x]),T=x;for(D=x+1;D<p;)f(A[D][x])>M&&(M=f(A[D][x]),T=D),D++;if(M===0)throw Error("Cannot calculate inverse, determinant is zero");(D=T)!==x&&(g=A[x],A[x]=A[D],A[D]=g,g=B[x],B[x]=B[D],B[D]=g);var j=A[x],P=B[x];for(D=0;D<p;D++){var L=A[D],H=B[D];if(D!==x){if(L[x]!==0){for(m=t(o(L[x]),j[x]),d=x;d<l;d++)L[d]=i(L[d],u(m,j[d]));for(d=0;d<l;d++)H[d]=i(H[d],u(m,P[d]))}}else{for(m=j[x],d=x;d<l;d++)L[d]=t(L[d],m);for(d=0;d<l;d++)H[d]=t(H[d],m)}}}return B}}),fi=ss({config:Rn}),hi=fs({}),ro=ls({}),li=ps({}),jt=ms({Matrix:li}),Ee=ga({BigNumber:fi,Complex:hi,DenseMatrix:jt,Fraction:ro}),e0=_s({typed:Ee}),It=Ms({typed:Ee}),On=Cs({Complex:hi,typed:Ee}),r0=ks({typed:Ee}),n0=Js({typed:Ee}),kt=vs({config:Rn,typed:Ee}),t0=gs({typed:Ee}),i0=ws({equalScalar:kt,typed:Ee}),pu=qs({typed:Ee}),no=Es({typed:Ee}),u0=Ys({typed:Ee}),pi=Fs({Matrix:li,equalScalar:kt,typed:Ee}),o0=Ns({typed:Ee}),a0=As({BigNumber:fi,typed:Ee}),nn=bs({DenseMatrix:jt,Matrix:li,SparseMatrix:pi,typed:Ee}),s0=Ps({isInteger:t0,matrix:nn,typed:Ee}),to=xs({Fraction:ro,typed:Ee}),Du=Rs({BigNumber:fi,DenseMatrix:jt,SparseMatrix:pi,config:Rn,matrix:nn,typed:Ee}),c0=Vs({bignumber:a0,fraction:to,number:no}),f0=Zs({matrix:nn,config:Rn,typed:Ee}),du=Bs({typed:Ee}),h0=Gs({DenseMatrix:jt,SparseMatrix:pi,addScalar:It,concat:s0,equalScalar:kt,matrix:nn,typed:Ee}),mu=Ws({numeric:c0,typed:Ee}),bt=js({addScalar:It,dot:Xs({addScalar:It,conj:r0,multiplyScalar:pu,size:f0,typed:Ee}),equalScalar:kt,matrix:nn,multiplyScalar:pu,typed:Ee}),l0=Hs({Complex:hi,config:Rn,fraction:to,identity:Du,inv:Qs({abs:e0,addScalar:It,det:Ks({divideScalar:mu,isZero:i0,matrix:nn,multiply:bt,subtractScalar:o0,typed:Ee,unaryMinus:du}),divideScalar:mu,identity:Du,matrix:nn,multiply:bt,typed:Ee,unaryMinus:du}),matrix:nn,multiply:bt,number:no,typed:Ee});function Yt(e,r,n){const t=(r-e)/(n-1);return Array.from({length:n},(i,u)=>e+u*t)}function Xn(e){return 1/Math.cos(e-Math.floor((4*e+Math.PI)/(2*Math.PI))*Math.PI/2)}const Dr={lin:Yt,zip:function(e,r){return e.map((n,t)=>[e[t],r[t]])},cos:Math.cos,sin:Math.sin,Rng:{circ:e=>Yt(0,2*Math.PI,e),ones:e=>Yt(0,1,e)},Cplx:{cos:n0,sin:u0,prod:(e,r)=>{const n=bt(On(e[0],e[1]),On(r[0],r[1]));return[n.re,n.im]},sum:(e,r)=>{const n=h0(On(e[0],e[1]),On(r[0],r[1]));return[n.re,n.im]},pow:(e,r)=>{const n=l0(On(e[0],e[1]),On(r[0],r[1]));return[n.re,n.im]}},Map:{ucirc:function(e){return[Math.cos(e),Math.sin(e)]},rcirc:function(e,r){return[r*Math.cos(e),r*Math.sin(e)]},usq:function(e){return[Math.cos(e)*Xn(e)/2,Math.sin(e)*Xn(e)/2]},rsq:function(e,r){return[r*Math.cos(e)*Xn(e)/2,r*Math.sin(e)*Xn(e)/2]},sq_prefix:Xn},"2Pi":2*Math.PI},p0=e=>({}),gu=e=>({}),D0=e=>({}),wu=e=>({});function d0(e){let r,n,t,i,u;const o=e[2].l,h=Ti(o,e,e[1],wu),c=e[2].r,f=Ti(c,e,e[1],gu);return{c(){r=ie("div"),n=ie("div"),h&&h.c(),t=xe(),i=ie("div"),f&&f.c(),this.h()},l(a){r=ue(a,"DIV",{class:!0});var s=ne(r);n=ue(s,"DIV",{style:!0});var p=ne(n);h&&h.l(p),p.forEach(q),t=be(s),i=ue(s,"DIV",{style:!0});var l=ne(i);f&&f.l(l),l.forEach(q),s.forEach(q),this.h()},h(){Or(n,"flex",e[0][0]),Or(i,"flex",e[0][1]),$(r,"class","f")},m(a,s){re(a,r,s),k(r,n),h&&h.m(n,null),k(r,t),k(r,i),f&&f.m(i,null),u=!0},p(a,[s]){h&&h.p&&(!u||2&s)&&zi(h,o,a,a[1],u?Oi(o,a[1],s,D0):$i(a[1]),wu),(!u||1&s)&&Or(n,"flex",a[0][0]),f&&f.p&&(!u||2&s)&&zi(f,c,a,a[1],u?Oi(c,a[1],s,p0):$i(a[1]),gu),(!u||1&s)&&Or(i,"flex",a[0][1])},i(a){u||(Ue(h,a),Ue(f,a),u=!0)},o(a){Le(h,a),Le(f,a),u=!1},d(a){a&&q(r),h&&h.d(a),f&&f.d(a)}}}function m0(e,r,n){let{$$slots:t={},$$scope:i}=r,{ratio:u="1:1"}=r;return u=function(o){const[h,c]=o.split(":").map(Number),f=h+c;return[h/f,c/f]}(u),e.$$set=o=>{"ratio"in o&&n(0,u=o.ratio),"$$scope"in o&&n(1,i=o.$$scope)},[u,i,t]}class wt extends rt{constructor(r){super(),nt(this,r,m0,d0,tt,{ratio:0})}}function g0(e){let r,n;return r=new Kr({props:{slot:"l",data:[pe("circle",e[5].map(e[2].ucirc)),pe("square",e[5].map(e[2].usq)),pe("circle + square",e[5].map(e[9]))]}}),{c(){Qe(r.$$.fragment)},l(t){er(r.$$.fragment,t)},m(t,i){rr(r,t,i),n=!0},p(t,i){const u={};1&i&&(u.data=[pe("circle",t[5].map(t[2].ucirc)),pe("square",t[5].map(t[2].usq)),pe("circle + square",t[5].map(t[9]))]),r.$set(u)},i(t){n||(Ue(r.$$.fragment,t),n=!0)},o(t){Le(r.$$.fragment,t),n=!1},d(t){nr(r,t)}}}function w0(e){let r,n,t,i,u,o,h,c,f,a=kn(`r_1 e^{i \\theta} + r_2 e^{i \\theta}
        \\newline\\quad\\quad
        \\rightarrow (z_1 + z_2 e^{${e[0][0]}})  e^{i \\theta}`)+"";return{c(){r=ie("div"),n=new Ge(!1),t=xe(),i=ie("p"),u=X(`Offset: 0
      `),o=ie("input"),h=X(" 8"),this.h()},l(s){r=ue(s,"DIV",{class:!0,slot:!0});var p=ne(r);n=Xe(p,!1),t=be(p),i=ue(p,"P",{style:!0});var l=ne(i);u=K(l,`Offset: 0
      `),o=ue(l,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),h=K(l," 8"),l.forEach(q),p.forEach(q),this.h()},h(){n.a=t,$(o,"type","range"),$(o,"min","0"),$(o,"max","8"),$(o,"step","0.5"),$(o,"class","svelte-qea4xm"),Or(i,"margin","0 2rem"),$(r,"class","f-col j-ar h-100"),$(r,"slot","r")},m(s,p){re(s,r,p),n.m(a,r),k(r,t),k(r,i),k(i,u),k(i,o),hr(o,e[0][0]),k(i,h),c||(f=[or(o,"change",e[8]),or(o,"input",e[8])],c=!0)},p(s,p){1&p&&a!==(a=kn(`r_1 e^{i \\theta} + r_2 e^{i \\theta}
        \\newline\\quad\\quad
        \\rightarrow (z_1 + z_2 e^{${s[0][0]}})  e^{i \\theta}`)+"")&&n.p(a),1&p&&hr(o,s[0][0])},d(s){s&&q(r),c=!1,it(f)}}}function y0(e){let r,n,t,i,u,o;return{c(){r=ie("div"),n=X(`Offset: 0
      `),t=ie("input"),i=X(`
      31.41`),this.h()},l(h){r=ue(h,"DIV",{slot:!0,class:!0});var c=ne(r);n=K(c,`Offset: 0
      `),t=ue(c,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),i=K(c,`
      31.41`),c.forEach(q),this.h()},h(){$(t,"type","range"),$(t,"min","0"),$(t,"max","31.41"),$(t,"step","0.25"),$(t,"class","svelte-qea4xm"),$(r,"slot","caption"),$(r,"class","svelte-qea4xm")},m(h,c){re(h,r,c),k(r,n),k(r,t),hr(t,e[0][0]),k(r,i),u||(o=[or(t,"change",e[11]),or(t,"input",e[11])],u=!0)},p(h,c){1&c&&hr(t,h[0][0])},d(h){h&&q(r),u=!1,it(o)}}}function v0(e){let r,n;return r=new Kr({props:{slot:"l",data:[pe("circle",e[5].map(e[2].ucirc)),pe("square",e[5].map(e[2].usq)),pe("circle * square",e[5].map(e[12]))],$$slots:{caption:[y0]},$$scope:{ctx:e}}}),{c(){Qe(r.$$.fragment)},l(t){er(r.$$.fragment,t)},m(t,i){rr(r,t,i),n=!0},p(t,i){const u={};1&i&&(u.data=[pe("circle",t[5].map(t[2].ucirc)),pe("square",t[5].map(t[2].usq)),pe("circle * square",t[5].map(t[12]))]),4194305&i&&(u.$$scope={dirty:i,ctx:t}),r.$set(u)},i(t){n||(Ue(r.$$.fragment,t),n=!0)},o(t){Le(r.$$.fragment,t),n=!1},d(t){nr(r,t)}}}function F0(e){let r,n,t,i,u,o,h,c,f,a=kn(`r_1 e^{i \\theta} * r_2 e^{i \\theta} \\newline\\quad\\quad
        \\rightarrow (r_1 * r_2) e^{i 2\\theta+${e[0][0]}}`)+"";return{c(){r=ie("div"),n=new Ge(!1),t=xe(),i=ie("p"),u=X(`Offset: 0
      `),o=ie("input"),h=X(`
      31.41`),this.h()},l(s){r=ue(s,"DIV",{class:!0,slot:!0});var p=ne(r);n=Xe(p,!1),t=be(p),i=ue(p,"P",{style:!0});var l=ne(i);u=K(l,`Offset: 0
      `),o=ue(l,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),h=K(l,`
      31.41`),l.forEach(q),p.forEach(q),this.h()},h(){n.a=t,$(o,"type","range"),$(o,"min","0"),$(o,"max","31.41"),$(o,"step","0.25"),$(o,"class","svelte-qea4xm"),Or(i,"margin","0 2rem"),$(r,"class","f-col j-ar h-100"),$(r,"slot","r")},m(s,p){re(s,r,p),n.m(a,r),k(r,t),k(r,i),k(i,u),k(i,o),hr(o,e[0][0]),k(i,h),c||(f=[or(o,"change",e[10]),or(o,"input",e[10])],c=!0)},p(s,p){1&p&&a!==(a=kn(`r_1 e^{i \\theta} * r_2 e^{i \\theta} \\newline\\quad\\quad
        \\rightarrow (r_1 * r_2) e^{i 2\\theta+${s[0][0]}}`)+"")&&n.p(a),1&p&&hr(o,s[0][0])},d(s){s&&q(r),c=!1,it(f)}}}function E0(e){let r,n;return r=new Kr({props:{slot:"l",data:[pe("circle",e[5].map(e[2].ucirc)),pe("circle (offset)",Dr.lin(e[4],Dr["2Pi"]+e[4],Qr).map(e[2].ucirc)),pe("circle ^ circle (offset)",e[5].map(e[15]))]}}),{c(){Qe(r.$$.fragment)},l(t){er(r.$$.fragment,t)},m(t,i){rr(r,t,i),n=!0},p(t,i){const u={};1&i&&(u.data=[pe("circle",t[5].map(t[2].ucirc)),pe("circle (offset)",Dr.lin(t[4],Dr["2Pi"]+t[4],Qr).map(t[2].ucirc)),pe("circle ^ circle (offset)",t[5].map(t[15]))]),r.$set(u)},i(t){n||(Ue(r.$$.fragment,t),n=!0)},o(t){Le(r.$$.fragment,t),n=!1},d(t){nr(r,t)}}}function A0(e){let r,n,t,i,u,o,h,c,f,a,s,p,l,D,d=kn(`r_1 e^{i \\theta_1 r_2 e^{i \\theta_2}}
      \\newline\\quad\\quad
      e^{i[(\\theta + ${e[0][0]})\\cos\\theta + ${e[0][1]}]} e^{ (\\theta + ${e[0][0]})\\sin\\theta}`)+"";return{c(){r=ie("div"),n=new Ge(!1),t=xe(),i=ie("div"),u=X(`Offset 1: 0
      `),o=ie("input"),h=X(`
      8`),c=xe(),f=ie("div"),a=X(`Offset 2: 0
      `),s=ie("input"),p=X(`
      8`),this.h()},l(m){r=ue(m,"DIV",{class:!0,slot:!0,style:!0});var y=ne(r);n=Xe(y,!1),t=be(y),i=ue(y,"DIV",{});var g=ne(i);u=K(g,`Offset 1: 0
      `),o=ue(g,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),h=K(g,`
      8`),g.forEach(q),c=be(y),f=ue(y,"DIV",{});var v=ne(f);a=K(v,`Offset 2: 0
      `),s=ue(v,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),p=K(v,`
      8`),v.forEach(q),y.forEach(q),this.h()},h(){n.a=t,$(o,"type","range"),$(o,"min","0"),$(o,"max","8"),$(o,"step","0.5"),$(o,"class","svelte-qea4xm"),$(s,"type","range"),$(s,"min","0"),$(s,"max","8"),$(s,"step","0.5"),$(s,"class","svelte-qea4xm"),$(r,"class","f-col j-ar h-100"),$(r,"slot","r"),Or(r,"margin","0 2rem")},m(m,y){re(m,r,y),n.m(d,r),k(r,t),k(r,i),k(i,u),k(i,o),hr(o,e[0][0]),k(i,h),k(r,c),k(r,f),k(f,a),k(f,s),hr(s,e[0][1]),k(f,p),l||(D=[or(o,"change",e[13]),or(o,"input",e[13]),or(s,"change",e[14]),or(s,"input",e[14])],l=!0)},p(m,y){1&y&&d!==(d=kn(`r_1 e^{i \\theta_1 r_2 e^{i \\theta_2}}
      \\newline\\quad\\quad
      e^{i[(\\theta + ${m[0][0]})\\cos\\theta + ${m[0][1]}]} e^{ (\\theta + ${m[0][0]})\\sin\\theta}`)+"")&&n.p(d),1&y&&hr(o,m[0][0]),1&y&&hr(s,m[0][1])},d(m){m&&q(r),l=!1,it(D)}}}function C0(e){let r,n;return r=new Kr({props:{slot:"l",data:[...e[1][0]?[pe("square",e[5].map(e[2].usq)),pe("circle",e[5].map(e[2].ucirc))]:[],pe("square ^ circle (offset)",e[5].map(e[19]))]}}),{c(){Qe(r.$$.fragment)},l(t){er(r.$$.fragment,t)},m(t,i){rr(r,t,i),n=!0},p(t,i){const u={};3&i&&(u.data=[...t[1][0]?[pe("square",t[5].map(t[2].usq)),pe("circle",t[5].map(t[2].ucirc))]:[],pe("square ^ circle (offset)",t[5].map(t[19]))]),r.$set(u)},i(t){n||(Ue(r.$$.fragment,t),n=!0)},o(t){Le(r.$$.fragment,t),n=!1},d(t){nr(r,t)}}}function x0(e){let r,n,t,i,u,o,h,c,f,a,s,p,l,D,d,m;return{c(){r=ie("div"),n=ie("label"),t=X(`Show base circle and square
      `),i=ie("input"),u=xe(),o=ie("div"),h=X(`Offset 1: 0
      `),c=ie("input"),f=X(`
      8`),a=xe(),s=ie("div"),p=X(`Offset 2: 0
      `),l=ie("input"),D=X(`
      8`),this.h()},l(y){r=ue(y,"DIV",{class:!0,slot:!0,style:!0});var g=ne(r);n=ue(g,"LABEL",{class:!0,for:!0});var v=ne(n);t=K(v,`Show base circle and square
      `),i=ue(v,"INPUT",{type:!0,id:!0}),v.forEach(q),u=be(g),o=ue(g,"DIV",{});var A=ne(o);h=K(A,`Offset 1: 0
      `),c=ue(A,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),f=K(A,`
      8`),A.forEach(q),a=be(g),s=ue(g,"DIV",{});var B=ne(s);p=K(B,`Offset 2: 0
      `),l=ue(B,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),D=K(B,`
      8`),B.forEach(q),g.forEach(q),this.h()},h(){$(i,"type","checkbox"),$(i,"id","show-base"),$(n,"class","f al-ct"),$(n,"for","show-base"),$(c,"type","range"),$(c,"min","0"),$(c,"max","8"),$(c,"step","0.5"),$(c,"class","svelte-qea4xm"),$(l,"type","range"),$(l,"min","0"),$(l,"max","8"),$(l,"step","0.5"),$(l,"class","svelte-qea4xm"),$(r,"class","f-col j-ar h-100"),$(r,"slot","r"),Or(r,"margin","0 2rem")},m(y,g){re(y,r,g),k(r,n),k(n,t),k(n,i),i.checked=e[1][0],k(r,u),k(r,o),k(o,h),k(o,c),hr(c,e[0][0]),k(o,f),k(r,a),k(r,s),k(s,p),k(s,l),hr(l,e[0][1]),k(s,D),d||(m=[or(i,"change",e[16]),or(c,"change",e[17]),or(c,"input",e[17]),or(l,"change",e[18]),or(l,"input",e[18])],d=!0)},p(y,g){2&g&&(i.checked=y[1][0]),1&g&&hr(c,y[0][0]),1&g&&hr(l,y[0][1])},d(y){y&&q(r),d=!1,it(m)}}}function b0(e){let r;return{c(){r=X("Using shapes as exponents (video)")},l(n){r=K(n,"Using shapes as exponents (video)")},m(n,t){re(n,r,t)},d(n){n&&q(r)}}}function B0(e){let r,n,t,i,u,o,h,c,f,a,s,p,l,D,d,m,y,g,v,A,B,x,M,T,j,P,L,H,Y,J,G,V,le,De,ce,Ce,ve,fe,ze,ge,we,$e,Ze,qe,Ve,br,ar,Pr,Rr,Dn,w,E,C,_,S,N,R,I,Z,O,he,de,me,_e,Je,ir,lr,dr,Ur,Un,Br,_r,Pt,dn,Mr,mn,sr,Ln,gn,wn,yn,vn,Fn,En,An,Lr,Zn,Cn,un,on,an,sn,Zr,Vn,xn,Nr,bn,Er,ae,We,Ir,mr,Ar,Sr,ut,Bn,Rt,ot,cn,at,_n,Ut,st,Mn,Wn,Vr,ct,io=pr("z = a + bi = |z| e^{i\\ \\text{arg}(z)} = r e^{i\\theta}")+"",uo=pr("i = \\sqrt{-1}")+"",oo=pr("z = r e^{i \\theta}")+"",ao=pr("z_1 + z_2 = r_1 e^{i \\theta} + r_2 e^{i \\theta} = (r_1 + r_2) e^{i 2\\theta+k}")+"",so=pr("k")+"",co=pr("z(\\theta) = \\sec(\\theta- \\frac \\pi2 \\lfloor \\frac {4\\theta + \\pi}{2\\pi}\\rfloor )e^{i \\theta}")+"",fo=pr("z(\\theta) = e^{i \\theta}")+"",ho=pr("z(\\theta+k) = \\sec(\\theta - \\frac{\\pi}{2} \\lfloor \\frac{4\\theta + \\pi}{2\\pi} \\rfloor) e^{i 2\\theta + k}")+"",lo=pr("f(\\alpha) = \\sec(\\alpha- \\frac \\pi2 \\lfloor \\frac {4\\alpha + \\pi}{2\\pi}\\rfloor )")+"",po=pr("(\\cos(\\alpha) f(\\alpha) \\frac X2 +x_0, \\sin(\\alpha) f(\\alpha) \\frac Y2 + y_0) ")+"",Do=pr("r_1=r_2=1")+"",mo=pr("e^{ (\\theta + k_1)\\sin\\theta}")+"",go=pr("e^{i[(\\theta + k_1)\\cos\\theta + k_2]}")+"";return r=new bo({props:{title:"The square root of a Square",sub:"Seeing Numbers #001",desc:"Algebra and 'Arithmetic' on Shapes",date:"18 April 2025"}}),le=new Kr({props:{data:pe("circle",e[5].map(e[2].ucirc))}}),Ve=new Kr({props:{data:[pe("circle",e[5].map(e[2].ucirc)),pe("circle (offset)",Dr.lin(e[4],Dr["2Pi"]+e[4],Qr).map(e[2].ucirc)),pe("circle + circle (offset)",e[5].map(e[6]))]}}),ar=new Kr({props:{data:[pe("square",e[5].map(e[2].usq)),pe("square (offset)",Dr.lin(e[4],Dr["2Pi"]+e[4],Qr).map(e[2].usq)),pe("square + square (offset)",e[5].map(e[7]))]}}),he=new wt({props:{$$slots:{r:[w0],l:[g0]},$$scope:{ctx:e}}}),Mr=new wt({props:{$$slots:{r:[F0],l:[v0]},$$scope:{ctx:e}}}),Nr=new wt({props:{$$slots:{r:[A0],l:[E0]},$$scope:{ctx:e}}}),Sr=new wt({props:{$$slots:{r:[x0],l:[C0]},$$scope:{ctx:e}}}),cn=new Kr({props:{data:[pe("square",Dr.lin(0,Dr["2Pi"],2*Qr).map(e[2].usq)),pe("square ^ 0.5",Dr.lin(0,Dr["2Pi"],2*Qr).map(e[20]))]}}),Vr=new Bo({props:{href:"https://www.youtube.com/watch?v=iLkOBkWUDkM",$$slots:{default:[b0]},$$scope:{ctx:e}}}),{c(){Qe(r.$$.fragment),n=X(`

I had some time one evening, so I decided to play around with the idea of doing
algebra but with shapes. What does it mean to add two shapes? Some results are
intuitive; a square of side 5 + a square of side 10 should be a square of side
15. But what happens when we add a square and a circle? Or raise a circle to the
power of a circle.

`),t=ie("h4"),i=X("Complex Numbers"),u=X(`
We start by using complex numbers as our base. It should be trivial to see we'll
run into issues very fast if we try to manipulate equations directly. We can ease
our workload by working with complex numbers, with which, each point in 2D space,
is still just a number. And once something is a number it can be added, multiplied,
and divided.

`),o=gr("svg"),h=gr("path"),c=gr("path"),f=gr("text"),a=X("Re(z)"),s=gr("text"),p=X("Im(z)"),l=gr("path"),D=gr("text"),d=X("|z|"),m=gr("text"),y=X(`arg(z)
  `),g=gr("path"),v=gr("text"),A=X("a"),B=gr("text"),x=X("b"),M=gr("text"),T=X("z = a + b i"),j=xe(),P=ie("p"),L=X("Each number is of the form "),H=new Ge(!1),Y=X(", where "),J=new Ge(!1),G=X(`. Then just use a bunch of points for
  each shape. For example, a a circle can just be a 100 complex points`),V=xe(),Qe(le.$$.fragment),De=xe(),ce=ie("p"),Ce=X(`So, if a shape is just a collection of points, and each point is just a
  complex number, then we can add, subtract, and multiply points.`),ve=xe(),fe=ie("h4"),ze=X("Adding and Multiplying Shapes"),ge=xe(),we=ie("p"),$e=X(`We can add shapes by adding the points that make them up. So a circle of
  radius 1 + another and a square + another square have some obvious results.`),Ze=xe(),qe=ie("div"),Qe(Ve.$$.fragment),br=xe(),Qe(ar.$$.fragment),Pr=xe(),Rr=ie("p"),Dn=X(`Naturally a two unit circles added should give a circle of radius 2. It may be
  one's primary instinct to try to add their areas first. But that is not how
  we're defining addition here. Addition can be an abstract operation defined
  however we want to for fun.`),w=xe(),E=ie("p"),C=X("Since "),_=new Ge(!1),S=X(", "),N=new Ge(!1),R=X(", with an offset parameter "),I=new Ge(!1),Z=X(`, since we can choose which angle
  we want the two squares to meet at (this will be important later). And, a
  square added to a square should give a square of side 2 (the edges look choppy
  because computers are finite precision).`),O=xe(),Qe(he.$$.fragment),de=xe(),me=ie("div"),_e=ie("div"),Je=ie("p"),ir=X(`We get a twisting squircle. Sweep the offset from 0 to 8 and watch the
      squircle twist around 45. This can be imagined as a ring that twists
      around the cylinder as it goes down in 3d. just like this building. With
      the additional change of also getting slimmer in its waist as it goes.`),lr=xe(),dr=ie("p"),Ur=X(`So if we can add shapes, we can also multiply them. So a circle times a
      circle`),Un=xe(),Br=ie("a"),_r=ie("img"),dn=xe(),Qe(Mr.$$.fragment),mn=xe(),sr=ie("p"),Ln=X("The parametrised form of a square is "),gn=new Ge(!1),wn=X(", and that of a circle is "),yn=new Ge(!1),vn=X(`. So, the
  product of a circle and a square is
  `),Fn=new Ge(!1),En=X(". I have no idea what is going on here or why it's periodicity is 10."),An=xe(),Lr=ie("p"),Zn=X(`Obviously, here, there is one catch. What output we get depends HEAVILY upon
  what parametrisation we select for our shape. Since all parametrisations only
  promise that they can complete the shape, they all have different ways of
  going about it.`),Cn=X(`

I have chosen a continuous parametrisation, of the square, with `),un=new Ge(!1),on=X(", to then give "),an=new Ge(!1),sn=X(`, whereas people may often go for a piecewise linear parametrisation of the
square, which will trace the shape out differently, leading to a different
outcome.

`),Zr=ie("h4"),Vn=X("The Power of a Circle"),xn=X(`
We can also raise a circle to the power of a circle, or anything to a circle's power,
or a circle to anything's power.

`),Qe(Nr.$$.fragment),bn=X(`

We're looking at the yellow lines as they vary, the blue and red is just a
reference to our original circles. Even taking `),Er=new Ge(!1),ae=X(`, it seems
when a circle is raised to a circle, we still lose out on normalisation. The 2nd
term `),We=new Ge(!1),Ir=X(` is a damping term, and the first
term `),mr=new Ge(!1),Ar=X(` is a rotation term. Now,
what happens if I take a square and raise it to a circle

`),Qe(Sr.$$.fragment),ut=xe(),Bn=ie("h4"),Rt=X("Mixing numbers and shapes"),ot=X(`
Now that we can add and multiply shapes, we can also mix them with numbers. So we
can take the square root of a square

`),Qe(cn.$$.fragment),at=X(`

Now that is certainly cool. The square root of a square is a half-octagon with
curved edges. With some effort, it is, in fact, possible to raise a matrix to
the power of a matrix or even a matrix to a shape. There is no reason we should
limit ourselves to the conventional patterns that happen to be useful to
physicists and engineers.

`),_n=ie("h4"),Ut=X("References"),st=xe(),Mn=ie("ul"),Wn=ie("li"),Qe(Vr.$$.fragment),this.h()},l(F){er(r.$$.fragment,F),n=K(F,`

I had some time one evening, so I decided to play around with the idea of doing
algebra but with shapes. What does it mean to add two shapes? Some results are
intuitive; a square of side 5 + a square of side 10 should be a square of side
15. But what happens when we add a square and a circle? Or raise a circle to the
power of a circle.

`),t=ue(F,"H4",{});var W=ne(t);i=K(W,"Complex Numbers"),W.forEach(q),u=K(F,`
We start by using complex numbers as our base. It should be trivial to see we'll
run into issues very fast if we try to manipulate equations directly. We can ease
our workload by working with complex numbers, with which, each point in 2D space,
is still just a number. And once something is a number it can be added, multiplied,
and divided.

`),o=wr(F,"svg",{class:!0,"font-family":!0,"font-weight":!0,"font-size":!0,width:!0,height:!0,viewBox:!0,stroke:!0});var ur=ne(o);h=wr(ur,"path",{fill:!0,d:!0,transform:!0}),ne(h).forEach(q),c=wr(ur,"path",{fill:!0,d:!0,transform:!0}),ne(c).forEach(q),f=wr(ur,"text",{x:!0,y:!0,transform:!0,class:!0});var Hn=ne(f);a=K(Hn,"Re(z)"),Hn.forEach(q),s=wr(ur,"text",{x:!0,y:!0,transform:!0,class:!0});var Jn=ne(s);p=K(Jn,"Im(z)"),Jn.forEach(q),l=wr(ur,"path",{fill:!0,d:!0}),ne(l).forEach(q),D=wr(ur,"text",{x:!0,y:!0,transform:!0,class:!0});var Yn=ne(D);d=K(Yn,"|z|"),Yn.forEach(q),m=wr(ur,"text",{x:!0,y:!0,"font-size":!0,transform:!0,class:!0});var Gn=ne(m);y=K(Gn,`arg(z)
  `),Gn.forEach(q),g=wr(ur,"path",{fill:!0,"stroke-dasharray":!0,d:!0}),ne(g).forEach(q),v=wr(ur,"text",{x:!0,y:!0,transform:!0,class:!0});var Di=ne(v);A=K(Di,"a"),Di.forEach(q),B=wr(ur,"text",{x:!0,y:!0,transform:!0,class:!0});var di=ne(B);x=K(di,"b"),di.forEach(q),M=wr(ur,"text",{x:!0,y:!0,transform:!0,class:!0});var mi=ne(M);T=K(mi,"z = a + b i"),mi.forEach(q),ur.forEach(q),j=be(F),P=ue(F,"P",{});var Nn=ne(P);L=K(Nn,"Each number is of the form "),H=Xe(Nn,!1),Y=K(Nn,", where "),J=Xe(Nn,!1),G=K(Nn,`. Then just use a bunch of points for
  each shape. For example, a a circle can just be a 100 complex points`),Nn.forEach(q),V=be(F),er(le.$$.fragment,F),De=be(F),ce=ue(F,"P",{});var gi=ne(ce);Ce=K(gi,`So, if a shape is just a collection of points, and each point is just a
  complex number, then we can add, subtract, and multiply points.`),gi.forEach(q),ve=be(F),fe=ue(F,"H4",{});var wi=ne(fe);ze=K(wi,"Adding and Multiplying Shapes"),wi.forEach(q),ge=be(F),we=ue(F,"P",{});var yi=ne(we);$e=K(yi,`We can add shapes by adding the points that make them up. So a circle of
  radius 1 + another and a square + another square have some obvious results.`),yi.forEach(q),Ze=be(F),qe=ue(F,"DIV",{class:!0});var ft=ne(qe);er(Ve.$$.fragment,ft),br=be(ft),er(ar.$$.fragment,ft),ft.forEach(q),Pr=be(F),Rr=ue(F,"P",{});var vi=ne(Rr);Dn=K(vi,`Naturally a two unit circles added should give a circle of radius 2. It may be
  one's primary instinct to try to add their areas first. But that is not how
  we're defining addition here. Addition can be an abstract operation defined
  however we want to for fun.`),vi.forEach(q),w=be(F),E=ue(F,"P",{});var Wr=ne(E);C=K(Wr,"Since "),_=Xe(Wr,!1),S=K(Wr,", "),N=Xe(Wr,!1),R=K(Wr,", with an offset parameter "),I=Xe(Wr,!1),Z=K(Wr,`, since we can choose which angle
  we want the two squares to meet at (this will be important later). And, a
  square added to a square should give a square of side 2 (the edges look choppy
  because computers are finite precision).`),Wr.forEach(q),O=be(F),er(he.$$.fragment,F),de=be(F),me=ue(F,"DIV",{class:!0});var ht=ne(me);_e=ue(ht,"DIV",{});var lt=ne(_e);Je=ue(lt,"P",{});var Fi=ne(Je);ir=K(Fi,`We get a twisting squircle. Sweep the offset from 0 to 8 and watch the
      squircle twist around 45. This can be imagined as a ring that twists
      around the cylinder as it goes down in 3d. just like this building. With
      the additional change of also getting slimmer in its waist as it goes.`),Fi.forEach(q),lr=be(lt),dr=ue(lt,"P",{});var Ei=ne(dr);Ur=K(Ei,`So if we can add shapes, we can also multiply them. So a circle times a
      circle`),Ei.forEach(q),lt.forEach(q),Un=be(ht),Br=ue(ht,"A",{href:!0,target:!0,rel:!0});var Ai=ne(Br);_r=ue(Ai,"IMG",{src:!0,alt:!0,style:!0}),Ai.forEach(q),ht.forEach(q),dn=be(F),er(Mr.$$.fragment,F),mn=be(F),sr=ue(F,"P",{});var Hr=ne(sr);Ln=K(Hr,"The parametrised form of a square is "),gn=Xe(Hr,!1),wn=K(Hr,", and that of a circle is "),yn=Xe(Hr,!1),vn=K(Hr,`. So, the
  product of a circle and a square is
  `),Fn=Xe(Hr,!1),En=K(Hr,". I have no idea what is going on here or why it's periodicity is 10."),Hr.forEach(q),An=be(F),Lr=ue(F,"P",{});var Ci=ne(Lr);Zn=K(Ci,`Obviously, here, there is one catch. What output we get depends HEAVILY upon
  what parametrisation we select for our shape. Since all parametrisations only
  promise that they can complete the shape, they all have different ways of
  going about it.`),Ci.forEach(q),Cn=K(F,`

I have chosen a continuous parametrisation, of the square, with `),un=Xe(F,!1),on=K(F,", to then give "),an=Xe(F,!1),sn=K(F,`, whereas people may often go for a piecewise linear parametrisation of the
square, which will trace the shape out differently, leading to a different
outcome.

`),Zr=ue(F,"H4",{});var xi=ne(Zr);Vn=K(xi,"The Power of a Circle"),xi.forEach(q),xn=K(F,`
We can also raise a circle to the power of a circle, or anything to a circle's power,
or a circle to anything's power.

`),er(Nr.$$.fragment,F),bn=K(F,`

We're looking at the yellow lines as they vary, the blue and red is just a
reference to our original circles. Even taking `),Er=Xe(F,!1),ae=K(F,`, it seems
when a circle is raised to a circle, we still lose out on normalisation. The 2nd
term `),We=Xe(F,!1),Ir=K(F,` is a damping term, and the first
term `),mr=Xe(F,!1),Ar=K(F,` is a rotation term. Now,
what happens if I take a square and raise it to a circle

`),er(Sr.$$.fragment,F),ut=be(F),Bn=ue(F,"H4",{});var bi=ne(Bn);Rt=K(bi,"Mixing numbers and shapes"),bi.forEach(q),ot=K(F,`
Now that we can add and multiply shapes, we can also mix them with numbers. So we
can take the square root of a square

`),er(cn.$$.fragment,F),at=K(F,`

Now that is certainly cool. The square root of a square is a half-octagon with
curved edges. With some effort, it is, in fact, possible to raise a matrix to
the power of a matrix or even a matrix to a shape. There is no reason we should
limit ourselves to the conventional patterns that happen to be useful to
physicists and engineers.

`),_n=ue(F,"H4",{});var Bi=ne(_n);Ut=K(Bi,"References"),Bi.forEach(q),st=be(F),Mn=ue(F,"UL",{});var _i=ne(Mn);Wn=ue(_i,"LI",{});var Mi=ne(Wn);er(Vr.$$.fragment,Mi),Mi.forEach(q),_i.forEach(q),this.h()},h(){$(h,"fill","none"),$(h,"d","m38.8 27.2-.5 85"),$(h,"transform","translate(-18 1.8)"),$(c,"fill","none"),$(c,"d","M164.6 111.8H37.8"),$(c,"transform","translate(-18 1.8)"),$(f,"x","153.4"),$(f,"y","124.1"),$(f,"transform","translate(-18 1.8)"),$(f,"class","svelte-qea4xm"),$(s,"x","23.1"),$(s,"y","22.3"),$(s,"transform","translate(-18 1.8)"),$(s,"class","svelte-qea4xm"),$(l,"fill","none"),$(l,"d","M21 112.7 73 77"),$(D,"x","52.3"),$(D,"y","92.9"),$(D,"transform","translate(-18 1.8)"),$(D,"class","svelte-qea4xm"),$(m,"x","53.2"),$(m,"y","108.3"),$(m,"font-size","8.5"),$(m,"transform","translate(-18 1.8)"),$(m,"class","svelte-qea4xm"),$(g,"fill","none"),$(g,"stroke-dasharray","3 3"),$(g,"d","M73.4 76.8v36.6m.5-36.5h-53"),$(v,"x","62.7"),$(v,"y","122"),$(v,"transform","translate(-18 2)"),$(v,"class","svelte-qea4xm"),$(B,"x","27.9"),$(B,"y","92.8"),$(B,"transform","translate(-18 2)"),$(B,"class","svelte-qea4xm"),$(M,"x","95.7"),$(M,"y","77"),$(M,"transform","translate(-18 2)"),$(M,"class","svelte-qea4xm"),$(o,"class","mx-a d-b tc"),$(o,"font-family","sans-serif"),$(o,"font-weight","300"),$(o,"font-size","10"),$(o,"width","350"),$(o,"height","350"),$(o,"viewBox","0 -12 160 160"),$(o,"stroke","#000"),H.a=Y,J.a=G,$(qe,"class","f j-bw"),_.a=S,N.a=R,I.a=Z,Co(_r.src,Pt="https://upload.wikimedia.org/wikipedia/en/thumb/8/8a/Cayan_Tower.jpg/330px-Cayan_Tower.jpg")||$(_r,"src","https://upload.wikimedia.org/wikipedia/en/thumb/8/8a/Cayan_Tower.jpg/330px-Cayan_Tower.jpg"),$(_r,"alt","Cayan Tower China"),Or(_r,"max-height","min(100vh, 300px)"),Or(_r,"max-width","100vw"),$(Br,"href","https://en.wikipedia.org/wiki/Cayan_Tower"),$(Br,"target","_blank"),$(Br,"rel","noreferrer"),$(me,"class","f j-ar"),gn.a=wn,yn.a=vn,Fn.a=En,un.a=on,an.a=sn,Er.a=ae,We.a=Ir,mr.a=Ar},m(F,W){rr(r,F,W),re(F,n,W),re(F,t,W),k(t,i),re(F,u,W),re(F,o,W),k(o,h),k(o,c),k(o,f),k(f,a),k(o,s),k(s,p),k(o,l),k(o,D),k(D,d),k(o,m),k(m,y),k(o,g),k(o,v),k(v,A),k(o,B),k(B,x),k(o,M),k(M,T),re(F,j,W),re(F,P,W),k(P,L),H.m(io,P),k(P,Y),J.m(uo,P),k(P,G),re(F,V,W),rr(le,F,W),re(F,De,W),re(F,ce,W),k(ce,Ce),re(F,ve,W),re(F,fe,W),k(fe,ze),re(F,ge,W),re(F,we,W),k(we,$e),re(F,Ze,W),re(F,qe,W),rr(Ve,qe,null),k(qe,br),rr(ar,qe,null),re(F,Pr,W),re(F,Rr,W),k(Rr,Dn),re(F,w,W),re(F,E,W),k(E,C),_.m(oo,E),k(E,S),N.m(ao,E),k(E,R),I.m(so,E),k(E,Z),re(F,O,W),rr(he,F,W),re(F,de,W),re(F,me,W),k(me,_e),k(_e,Je),k(Je,ir),k(_e,lr),k(_e,dr),k(dr,Ur),k(me,Un),k(me,Br),k(Br,_r),re(F,dn,W),rr(Mr,F,W),re(F,mn,W),re(F,sr,W),k(sr,Ln),gn.m(co,sr),k(sr,wn),yn.m(fo,sr),k(sr,vn),Fn.m(ho,sr),k(sr,En),re(F,An,W),re(F,Lr,W),k(Lr,Zn),re(F,Cn,W),un.m(lo,F,W),re(F,on,W),an.m(po,F,W),re(F,sn,W),re(F,Zr,W),k(Zr,Vn),re(F,xn,W),rr(Nr,F,W),re(F,bn,W),Er.m(Do,F,W),re(F,ae,W),We.m(mo,F,W),re(F,Ir,W),mr.m(go,F,W),re(F,Ar,W),rr(Sr,F,W),re(F,ut,W),re(F,Bn,W),k(Bn,Rt),re(F,ot,W),rr(cn,F,W),re(F,at,W),re(F,_n,W),k(_n,Ut),re(F,st,W),re(F,Mn,W),k(Mn,Wn),rr(Vr,Wn,null),ct=!0},p(F,[W]){const ur={};4194305&W&&(ur.$$scope={dirty:W,ctx:F}),he.$set(ur);const Hn={};4194305&W&&(Hn.$$scope={dirty:W,ctx:F}),Mr.$set(Hn);const Jn={};4194305&W&&(Jn.$$scope={dirty:W,ctx:F}),Nr.$set(Jn);const Yn={};4194307&W&&(Yn.$$scope={dirty:W,ctx:F}),Sr.$set(Yn);const Gn={};4194304&W&&(Gn.$$scope={dirty:W,ctx:F}),Vr.$set(Gn)},i(F){ct||(Ue(r.$$.fragment,F),Ue(le.$$.fragment,F),Ue(Ve.$$.fragment,F),Ue(ar.$$.fragment,F),Ue(he.$$.fragment,F),Ue(Mr.$$.fragment,F),Ue(Nr.$$.fragment,F),Ue(Sr.$$.fragment,F),Ue(cn.$$.fragment,F),Ue(Vr.$$.fragment,F),ct=!0)},o(F){Le(r.$$.fragment,F),Le(le.$$.fragment,F),Le(Ve.$$.fragment,F),Le(ar.$$.fragment,F),Le(he.$$.fragment,F),Le(Mr.$$.fragment,F),Le(Nr.$$.fragment,F),Le(Sr.$$.fragment,F),Le(cn.$$.fragment,F),Le(Vr.$$.fragment,F),ct=!1},d(F){nr(r,F),F&&q(n),F&&q(t),F&&q(u),F&&q(o),F&&q(j),F&&q(P),F&&q(V),nr(le,F),F&&q(De),F&&q(ce),F&&q(ve),F&&q(fe),F&&q(ge),F&&q(we),F&&q(Ze),F&&q(qe),nr(Ve),nr(ar),F&&q(Pr),F&&q(Rr),F&&q(w),F&&q(E),F&&q(O),nr(he,F),F&&q(de),F&&q(me),F&&q(dn),nr(Mr,F),F&&q(mn),F&&q(sr),F&&q(An),F&&q(Lr),F&&q(Cn),F&&un.d(),F&&q(on),F&&an.d(),F&&q(sn),F&&q(Zr),F&&q(xn),nr(Nr,F),F&&q(bn),F&&Er.d(),F&&q(ae),F&&We.d(),F&&q(Ir),F&&mr.d(),F&&q(Ar),nr(Sr,F),F&&q(ut),F&&q(Bn),F&&q(ot),nr(cn,F),F&&q(at),F&&q(_n),F&&q(st),F&&q(Mn),nr(Vr)}}}let Qr=50;function _0(e,r,n){const{Map:t,Rng:i,Cplx:u}=Dr;let o=Qr/50*.2,h=i.circ(Qr),c=[0,0],f=[!0,!0];return[c,f,t,u,o,h,a=>u.sum(t.ucirc(a),t.ucirc(a+o)),a=>u.sum(t.usq(a),t.usq(a+o)),function(){c[0]=fn(this.value),n(0,c)},a=>u.sum(t.ucirc(a),t.usq(a+o*c[0])),function(){c[0]=fn(this.value),n(0,c)},function(){c[0]=fn(this.value),n(0,c)},a=>u.prod(t.ucirc(a),t.usq(a+o*c[0])),function(){c[0]=fn(this.value),n(0,c)},function(){c[1]=fn(this.value),n(0,c)},a=>u.pow(t.ucirc(a+o*c[0]),t.ucirc(a+o*c[1])),function(){f[0]=this.checked,n(1,f)},function(){c[0]=fn(this.value),n(0,c)},function(){c[1]=fn(this.value),n(0,c)},a=>u.pow(t.usq(a+o*c[0]),t.ucirc(a+o*c[1])),a=>u.pow(t.usq(a),[.5,0])]}class S0 extends rt{constructor(r){super(),nt(this,r,_0,B0,tt,{})}}export{S0 as default};
