import{S as J,i as X,s as Y,e as P,r as B,d as G,G as U,I as Z,f as T,h as I,k as g,v as N,j as V,J as A,C as q,l as C,n as O,m as k,L as D,o as W,p as K,P as Q,D as $,w as ee,E as te}from"../../../chunks/index-214b3cef.js";function ae(i,o){i&&(o=o?function(t){if((t=(t=t.replace(/[^a-zA-Z0-9]/g,"")).split("").sort(()=>Math.random()-.5).join("")).length>10)t=t.substring(0,10);else for(;t.length<10;)t+=Math.random().toString(36).substring(2,3);return t}(o):Math.random().toString(36).substring(2,15),i.elt.toBlob(t=>{const s=URL.createObjectURL(t),e=document.createElement("a");e.href=s,e.download=o+".png",e.click()}))}const ne=(i,o,t)=>{let s=o/i.height*i.TWO_PI;return 100*i.noise(100*t,Math.cos(s)*i.height/2e3+1e3,Math.sin(s)*i.height/200+1e3)},oe=(i,o,t)=>{let s=o/i.width*i.TWO_PI;return 100*i.noise(100*t,Math.cos(s)*i.width/2e3+1e3,Math.sin(s)*i.width/200+1e3)},se=(i,o,t,s,e)=>{i.image(o,t,s,e.width,1,0,s,e.width,1),i.image(o,t-e.width,s,e.width,1,0,s,e.width,1)},ie=(i,o,t,s,e)=>{i.image(o,s,t,1,e.height,s,0,1,e.height),i.image(o,s,t-e.height,1,e.height,s,0,1,e.height)},he=(i,o,t,s)=>{for(let e=0;e<t.height;e++)se(i,o,ne(t,e,s),e,t);t.image(i,0,0)},re=(i,o,t,s)=>{for(let e=0;e<t.width;e++)ie(i,o,oe(t,e,s),e,t);t.image(i,0,0)},z=48;function H(i,o,t){const s=i.slice();return s[13]=o[t],s[15]=t,s}function F(i){let o,t,s=i[13].title+"";return{c(){o=P("option"),t=G(s),this.h()},l(e){o=T(e,"OPTION",{});var v=I(o);t=V(v,s),v.forEach(g),this.h()},h(){o.__value=i[15],o.value=o.__value},m(e,v){k(e,o,v),O(o,t)},p(e,v){8&v&&s!==(s=e[13].title+"")&&ee(t,s)},d(e){e&&g(o)}}}function le(i){let o,t,s,e,v,b,u,d,M,E,x,f,S,l,n,p=i[3],r=[];for(let a=0;a<p.length;a+=1)r[a]=F(H(i,p,a));return{c(){o=P("script"),s=B(),e=P("div"),v=B(),b=P("div"),u=P("select"),d=P("option"),M=G("Select Post");for(let a=0;a<r.length;a+=1)r[a].c();E=B(),x=P("button"),f=U("svg"),S=U("path"),this.h()},l(a){const c=Z("svelte-rmozv",document.head);o=T(c,"SCRIPT",{src:!0}),I(o).forEach(g),c.forEach(g),s=N(a),e=T(a,"DIV",{class:!0}),I(e).forEach(g),v=N(a),b=T(a,"DIV",{class:!0});var h=I(b);u=T(h,"SELECT",{class:!0});var w=I(u);d=T(w,"OPTION",{});var m=I(d);M=V(m,"Select Post"),m.forEach(g);for(let j=0;j<r.length;j+=1)r[j].l(w);w.forEach(g),E=N(h),x=T(h,"BUTTON",{class:!0});var _=I(x);f=A(_,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var y=I(f);S=A(y,"path",{d:!0}),I(S).forEach(g),y.forEach(g),_.forEach(g),h.forEach(g),this.h()},h(){q(o.src,t="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js")||C(o,"src","https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"),C(e,"class","canvasCont"),d.disabled=!0,d.selected=!0,d.__value="-1",d.value=d.__value,C(u,"class","b0 p10 rx10 svelte-89cbaz"),C(S,"d","M9 22 C0 23 1 12 9 13 6 2 23 2 22 10 32 7 32 23 23 22 M11 26 L16 30 21 26 M16 16 L16 30"),C(f,"class","d-b svelte-89cbaz"),C(f,"viewBox","0 0 32 32"),C(f,"width","28"),C(f,"height","28"),C(x,"class","ptr f j-ct al-ct rx10 p10 b0"),C(b,"class","dock blur f j-ar rx20 p10 p-abs svelte-89cbaz")},m(a,c){O(document.head,o),k(a,s,c),k(a,e,c),i[5](e),k(a,v,c),k(a,b,c),O(b,u),O(u,d),O(d,M);for(let h=0;h<r.length;h+=1)r[h].m(u,null);O(b,E),O(b,x),O(x,f),O(f,S),l||(n=[D(u,"change",i[4]),D(x,"click",i[6])],l=!0)},p(a,[c]){if(8&c){let h;for(p=a[3],h=0;h<p.length;h+=1){const w=H(a,p,h);r[h]?r[h].p(w,c):(r[h]=F(w),r[h].c(),r[h].m(u,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=p.length}},i:W,o:W,d(a){g(o),a&&g(s),a&&g(e),i[5](null),a&&g(v),a&&g(b),K(r,a),l=!1,Q(n)}}}function ce(i,o,t){let s="/assets/meta.png",e="sample text";const[v,b]=[1024,576];let u,d,M,E=100,x=[];return $(async()=>{const f=new URL(window.location.href),S=parseInt(f.searchParams.get("index")||"0");t(3,x=await fetch("/data/posts.json").then(l=>l.json())),t(0,e=x[S].title),new p5(l=>{l.setup=()=>{t(2,d=l.createCanvas(v,b)),l.smooth(),d.parent(u),M=l.createGraphics(l.width,l.height),l.colorMode(l.HSB,1,1,1),M.colorMode(l.HSB,1,1,1),async function(n){E=0,n.noiseSeed(1),function(r,a,c){for(let h=0;h<a;h++){let w=h/a*3+.5;w=Math.sin(w%1*Math.PI),r.stroke(h/a,1,r.lerp(.7,1,w)),r.line(h,0,h,c)}r.noStroke()}(n,n.width,n.height);let p=await async function(r){const a=new TextEncoder().encode(r),c=await crypto.subtle.digest("SHA-256",a);return Array.from(new Uint8Array(c)).map(h=>h/255)}(e);p=new Array(110).fill(0).map((r,a)=>p[a%p.length]),function(r,a,c,h,w){for(let m=0;m<100;m++)m%5==0?r.fill("white"):r.fill(a[m+0],a[m+1],a[m+2],.66),r.circle(a[m+0]*c,a[m+1]*h,a[m+2]*w)}(n,p,n.width,n.height,330)}(l)},l.loadImage(s,n=>s=n),l.draw=()=>{E<100&&(l.image(M,0,0),he(M,d,l,E),re(M,d,l,E),E++),E==100&&(function(n,p){const r=function(c,h,w,m){const _=h.split(" "),y=[];let j="";c.textSize(m);for(let L=0;L<_.length;L++){const R=j+_[L]+" ";c.textWidth(R)>w&&j!==""?(y.push(j.trim()),j=_[L]+" "):j=R}return y.push(j.trim()),y}(n,p=p.toUpperCase(),.9*n.width,z);n.push(),n.drawingContext.shadowOffsetX=0,n.drawingContext.shadowOffsetY=0,n.drawingContext.shadowBlur=1.5,n.drawingContext.shadowColor="rgba(0, 0, 0, 1)",n.textAlign(n.CENTER,n.CENTER),n.textFont("serif"),n.textStyle(n.BOLD),n.fill(1);let a=n.height/2-(r.length-1)*z/2;n.textSize(z);for(const c of r)n.text(c,n.width/2,a),a+=z;n.pop(),n.push(),n.noFill(),n.stroke(1),n.strokeWeight(n.width/100|0),n.rect(0,0,n.width,n.height),n.pop()}(l,e),s&&l.image(s,l.width-75-75/4,l.height-75-75/4,75,75),E++)}})}),[e,u,d,x,function(f){const S=parseInt(f.target.value);if(!isNaN(S)&&x[S]){const l=new URL(window.location.href);l.searchParams.set("index",S.toString()),window.location.href=l.toString()}},function(f){te[f?"unshift":"push"](()=>{u=f,t(1,u)})},async()=>ae(d,e)]}class fe extends J{constructor(o){super(),X(this,o,ce,le,Y,{})}}export{fe as default};
