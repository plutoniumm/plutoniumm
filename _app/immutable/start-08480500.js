import{S as re,i as ne,s as ae,f as oe,v as M,m as se,o as Y,_ as ct,b as F,$ as ut,t as J,l as H,N as ie,H as Nt,e as le,h as ce,j as ue,n as Lt,F as nt,d as de,k as fe,w as pe,a0 as Z,x as tt,y as yt,z as et,A as rt,a1 as _t}from"./chunks/index-c3f5ff3e.js";import{S as ee,I as at,g as Gt,f as Ht,a as At,b as bt,s as st,i as Kt,c as Et,P as zt,d as me,e as he,h as ge}from"./chunks/singletons-64e8d418.js";function ye(c){for(const t in c)c[t]=decodeURIComponent(c[t]);return c}const we=["href","pathname","search","searchParams","toString","toJSON"];function ve(c,t){const r=new URL(c);for(const l of we){let a=r[l];Object.defineProperty(r,l,{get:()=>(t(),a),enumerable:!0,configurable:!0})}return function(l){Object.defineProperty(l,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}(r),r}const St=window.fetch;window.fetch=(c,t)=>((c instanceof Request?c.method:(t==null?void 0:t.method)||"GET")!=="GET"&&ht.delete(Dt(c)),St(c,t));const ht=new Map;function Dt(c,t){let r=`script[data-sveltekit-fetched][data-url=${JSON.stringify(c instanceof Request?c.url:c)}]`;return t!=null&&t.body&&(typeof t.body=="string"||ArrayBuffer.isView(t.body))&&(r+=`[data-hash="${function(l){let a=5381;if(typeof l=="string"){let f=l.length;for(;f;)a=33*a^l.charCodeAt(--f)}else{if(!ArrayBuffer.isView(l))throw new TypeError("value must be a string or TypedArray");{const f=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);let e=f.length;for(;e;)a=33*a^f[--e]}}return(a>>>0).toString(36)}(t.body)}"]`),r}const $e=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function _e(c){const t=[];var r;return{pattern:c==="/"?/^\/$/:new RegExp(`^${(r=c,r.slice(1).split("/").filter(be)).map(l=>{const a=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(l);if(a)return t.push({name:a[1],matcher:a[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const f=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(l);if(f)return t.push({name:f[1],matcher:f[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!l)return;const e=l.split(/\[(.+?)\](?!\])/);return"/"+e.map((n,d)=>{if(d%2){if(n.startsWith("x+"))return Pt(String.fromCharCode(parseInt(n.slice(2),16)));if(n.startsWith("u+"))return Pt(String.fromCharCode(...n.slice(2).split("-").map(b=>parseInt(b,16))));const p=$e.exec(n);if(!p)throw new Error(`Invalid param: ${n}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,h,k,_,x]=p;return t.push({name:_,matcher:x,optional:!!h,rest:!!k,chained:!!k&&d===1&&e[0]===""}),k?"(.*?)":h?"([^/]*)?":"([^/]+?)"}return Pt(n)}).join("")}).join("")}/?$`),params:t}}function be(c){return!/^\([^)]+\)$/.test(c)}function Pt(c){return c.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Ee(c){let t,r,l;var a=c[0][0];function f(e){return{props:{data:e[2],form:e[1]}}}return a&&(t=Z(a,f(c))),{c(){t&&tt(t.$$.fragment),r=M()},l(e){t&&yt(t.$$.fragment,e),r=M()},m(e,n){t&&et(t,e,n),Y(e,r,n),l=!0},p(e,n){const d={};if(4&n&&(d.data=e[2]),2&n&&(d.form=e[1]),a!==(a=e[0][0])){if(t){ct();const p=t;F(p.$$.fragment,1,0,()=>{rt(p,1)}),ut()}a?(t=Z(a,f(e)),tt(t.$$.fragment),J(t.$$.fragment,1),et(t,r.parentNode,r)):t=null}else a&&t.$set(d)},i(e){l||(t&&J(t.$$.fragment,e),l=!0)},o(e){t&&F(t.$$.fragment,e),l=!1},d(e){e&&H(r),t&&rt(t,e)}}}function Se(c){let t,r,l;var a=c[0][0];function f(e){return{props:{data:e[2],$$slots:{default:[Le]},$$scope:{ctx:e}}}}return a&&(t=Z(a,f(c))),{c(){t&&tt(t.$$.fragment),r=M()},l(e){t&&yt(t.$$.fragment,e),r=M()},m(e,n){t&&et(t,e,n),Y(e,r,n),l=!0},p(e,n){const d={};if(4&n&&(d.data=e[2]),1051&n&&(d.$$scope={dirty:n,ctx:e}),a!==(a=e[0][0])){if(t){ct();const p=t;F(p.$$.fragment,1,0,()=>{rt(p,1)}),ut()}a?(t=Z(a,f(e)),tt(t.$$.fragment),J(t.$$.fragment,1),et(t,r.parentNode,r)):t=null}else a&&t.$set(d)},i(e){l||(t&&J(t.$$.fragment,e),l=!0)},o(e){t&&F(t.$$.fragment,e),l=!1},d(e){e&&H(r),t&&rt(t,e)}}}function ke(c){let t,r,l;var a=c[0][1];function f(e){return{props:{data:e[3],form:e[1]}}}return a&&(t=Z(a,f(c))),{c(){t&&tt(t.$$.fragment),r=M()},l(e){t&&yt(t.$$.fragment,e),r=M()},m(e,n){t&&et(t,e,n),Y(e,r,n),l=!0},p(e,n){const d={};if(8&n&&(d.data=e[3]),2&n&&(d.form=e[1]),a!==(a=e[0][1])){if(t){ct();const p=t;F(p.$$.fragment,1,0,()=>{rt(p,1)}),ut()}a?(t=Z(a,f(e)),tt(t.$$.fragment),J(t.$$.fragment,1),et(t,r.parentNode,r)):t=null}else a&&t.$set(d)},i(e){l||(t&&J(t.$$.fragment,e),l=!0)},o(e){t&&F(t.$$.fragment,e),l=!1},d(e){e&&H(r),t&&rt(t,e)}}}function xe(c){let t,r,l;var a=c[0][1];function f(e){return{props:{data:e[3],$$slots:{default:[Re]},$$scope:{ctx:e}}}}return a&&(t=Z(a,f(c))),{c(){t&&tt(t.$$.fragment),r=M()},l(e){t&&yt(t.$$.fragment,e),r=M()},m(e,n){t&&et(t,e,n),Y(e,r,n),l=!0},p(e,n){const d={};if(8&n&&(d.data=e[3]),1043&n&&(d.$$scope={dirty:n,ctx:e}),a!==(a=e[0][1])){if(t){ct();const p=t;F(p.$$.fragment,1,0,()=>{rt(p,1)}),ut()}a?(t=Z(a,f(e)),tt(t.$$.fragment),J(t.$$.fragment,1),et(t,r.parentNode,r)):t=null}else a&&t.$set(d)},i(e){l||(t&&J(t.$$.fragment,e),l=!0)},o(e){t&&F(t.$$.fragment,e),l=!1},d(e){e&&H(r),t&&rt(t,e)}}}function Re(c){let t,r,l;var a=c[0][2];function f(e){return{props:{data:e[4],form:e[1]}}}return a&&(t=Z(a,f(c))),{c(){t&&tt(t.$$.fragment),r=M()},l(e){t&&yt(t.$$.fragment,e),r=M()},m(e,n){t&&et(t,e,n),Y(e,r,n),l=!0},p(e,n){const d={};if(16&n&&(d.data=e[4]),2&n&&(d.form=e[1]),a!==(a=e[0][2])){if(t){ct();const p=t;F(p.$$.fragment,1,0,()=>{rt(p,1)}),ut()}a?(t=Z(a,f(e)),tt(t.$$.fragment),J(t.$$.fragment,1),et(t,r.parentNode,r)):t=null}else a&&t.$set(d)},i(e){l||(t&&J(t.$$.fragment,e),l=!0)},o(e){t&&F(t.$$.fragment,e),l=!1},d(e){e&&H(r),t&&rt(t,e)}}}function Le(c){let t,r,l,a;const f=[xe,ke],e=[];function n(d,p){return d[0][2]?0:1}return t=n(c),r=e[t]=f[t](c),{c(){r.c(),l=M()},l(d){r.l(d),l=M()},m(d,p){e[t].m(d,p),Y(d,l,p),a=!0},p(d,p){let h=t;t=n(d),t===h?e[t].p(d,p):(ct(),F(e[h],1,1,()=>{e[h]=null}),ut(),r=e[t],r?r.p(d,p):(r=e[t]=f[t](d),r.c()),J(r,1),r.m(l.parentNode,l))},i(d){a||(J(r),a=!0)},o(d){F(r),a=!1},d(d){e[t].d(d),d&&H(l)}}}function Qt(c){let t,r=c[6]&&Xt(c);return{c(){t=le("div"),r&&r.c(),this.h()},l(l){t=ce(l,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var a=ue(t);r&&r.l(a),a.forEach(H),this.h()},h(){Lt(t,"id","svelte-announcer"),Lt(t,"aria-live","assertive"),Lt(t,"aria-atomic","true"),nt(t,"position","absolute"),nt(t,"left","0"),nt(t,"top","0"),nt(t,"clip","rect(0 0 0 0)"),nt(t,"clip-path","inset(50%)"),nt(t,"overflow","hidden"),nt(t,"white-space","nowrap"),nt(t,"width","1px"),nt(t,"height","1px")},m(l,a){Y(l,t,a),r&&r.m(t,null)},p(l,a){l[6]?r?r.p(l,a):(r=Xt(l),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(l){l&&H(t),r&&r.d()}}}function Xt(c){let t;return{c(){t=de(c[7])},l(r){t=fe(r,c[7])},m(r,l){Y(r,t,l)},p(r,l){128&l&&pe(t,r[7])},d(r){r&&H(t)}}}function Ae(c){let t,r,l,a,f;const e=[Se,Ee],n=[];function d(h,k){return h[0][1]?0:1}t=d(c),r=n[t]=e[t](c);let p=c[5]&&Qt(c);return{c(){r.c(),l=oe(),p&&p.c(),a=M()},l(h){r.l(h),l=se(h),p&&p.l(h),a=M()},m(h,k){n[t].m(h,k),Y(h,l,k),p&&p.m(h,k),Y(h,a,k),f=!0},p(h,[k]){let _=t;t=d(h),t===_?n[t].p(h,k):(ct(),F(n[_],1,1,()=>{n[_]=null}),ut(),r=n[t],r?r.p(h,k):(r=n[t]=e[t](h),r.c()),J(r,1),r.m(l.parentNode,l)),h[5]?p?p.p(h,k):(p=Qt(h),p.c(),p.m(a.parentNode,a)):p&&(p.d(1),p=null)},i(h){f||(J(r),f=!0)},o(h){F(r),f=!1},d(h){n[t].d(h),h&&H(l),p&&p.d(h),h&&H(a)}}}function Pe(c,t,r){let{stores:l}=t,{page:a}=t,{components:f}=t,{form:e}=t,{data_0:n=null}=t,{data_1:d=null}=t,{data_2:p=null}=t;ie(l.page.notify);let h=!1,k=!1,_=null;return Nt(()=>{const x=l.page.subscribe(()=>{h&&(r(6,k=!0),r(7,_=document.title||"untitled page"))});return r(5,h=!0),x}),c.$$set=x=>{"stores"in x&&r(8,l=x.stores),"page"in x&&r(9,a=x.page),"components"in x&&r(0,f=x.components),"form"in x&&r(1,e=x.form),"data_0"in x&&r(2,n=x.data_0),"data_1"in x&&r(3,d=x.data_1),"data_2"in x&&r(4,p=x.data_2)},c.$$.update=()=>{768&c.$$.dirty&&l.page.set(a)},[f,e,n,d,p,h,k,_,l,a]}class Oe extends re{constructor(t){super(),ne(this,t,Pe,Ae,ae,{stores:8,page:9,components:0,form:1,data_0:2,data_1:3,data_2:4})}}const Yt={},lt=function(c,t,r){if(!t||t.length===0)return c();const l=document.getElementsByTagName("link");return Promise.all(t.map(a=>{if(a=function(d,p){return new URL(d,p).href}(a,r),a in Yt)return;Yt[a]=!0;const f=a.endsWith(".css"),e=f?'[rel="stylesheet"]':"";if(r)for(let d=l.length-1;d>=0;d--){const p=l[d];if(p.href===a&&(!f||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${e}`))return;const n=document.createElement("link");return n.rel=f?"stylesheet":"modulepreload",f||(n.as="script",n.crossOrigin=""),n.href=a,document.head.appendChild(n),f?new Promise((d,p)=>{n.addEventListener("load",d),n.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))}):void 0})).then(()=>c())},kt=[()=>lt(()=>import("./chunks/0-f5c0ebce.js"),["./chunks/0-f5c0ebce.js","./chunks/_layout-8b3d678d.js","./components/layout.svelte-262ac9d8.js","./chunks/index-c3f5ff3e.js"],import.meta.url),()=>lt(()=>import("./chunks/1-ef6aae35.js"),["./chunks/1-ef6aae35.js","./components/error.svelte-cc19c63c.js","./chunks/index-c3f5ff3e.js","./chunks/singletons-64e8d418.js"],import.meta.url),()=>lt(()=>import("./chunks/2-2793708f.js"),["./chunks/2-2793708f.js","./components/pages/p/_layout.svelte-056e16fe.js","./chunks/index-c3f5ff3e.js","./assets/_layout-7025b489.css"],import.meta.url),()=>lt(()=>import("./chunks/3-c7511943.js"),["./chunks/3-c7511943.js","./components/pages/_page.svelte-c72a74c4.js","./chunks/index-c3f5ff3e.js","./assets/_page-6765c65b.css"],import.meta.url),()=>lt(()=>import("./chunks/4-e38fdba7.js"),["./chunks/4-e38fdba7.js","./chunks/_page-88ba1078.js","./components/pages/p/_page.svelte-3cfb7c96.js","./chunks/index-c3f5ff3e.js"],import.meta.url),()=>lt(()=>import("./chunks/5-b9c3caf2.js"),["./chunks/5-b9c3caf2.js","./components/pages/p/covering-bases/_page.svelte-13a50f76.js","./chunks/index-c3f5ff3e.js","./chunks/math-566c513b.js","./assets/math-934327c8.css"],import.meta.url),()=>lt(()=>import("./chunks/6-274b0047.js"),["./chunks/6-274b0047.js","./components/pages/p/shape-algebra/_page.svelte-657fedb4.js","./chunks/index-c3f5ff3e.js","./chunks/math-566c513b.js","./assets/math-934327c8.css","./assets/_page-b36b9682.css"],import.meta.url)],Ue=({error:c})=>{console.error(c)};let jt=class{constructor(c,t){this.status=c,this.body=typeof t=="string"?{message:t}:t||{message:`Error: ${c}`}}toString(){return JSON.stringify(this.body)}},Zt=class{constructor(c,t){this.status=c,this.location=t}};function Ot(c){const t=new Set(c);return function(r,l){if(r){for(const a in r)if(a[0]!=="_"&&!t.has(a)){const f=c.join(", ");throw new Error(`Invalid export '${a}'${l?` in ${l}`:""} (valid exports are ${f}, or anything with a '_' prefix)`)}}}}Ot(["load","prerender","csr","ssr","trailingSlash"]),Ot(["load","prerender","csr","ssr","actions","trailingSlash"]),Ot(["GET","POST","PATCH","PUT","DELETE","prerender","trailingSlash"]);const Ut=function(c,t,r,l){const a=new Set(t);return Object.entries(r).map(([n,[d,p,h]])=>{const{pattern:k,params:_}=_e(n),x={id:n,exec:b=>{const A=k.exec(b);if(A)return function(V,D,it){const G={},U=V.slice(1);let K="";for(let z=0;z<D.length;z+=1){const B=D[z];let Q=U[z];if(B.chained&&B.rest&&K&&(Q=Q?K+"/"+Q:K),K="",Q===void 0)B.rest&&(G[B.name]="");else{if(B.matcher&&!it[B.matcher](Q)){if(B.optional&&B.chained){let ot=U.indexOf(void 0,z);if(ot===-1){const X=D[z+1];if(!(X!=null&&X.rest)||!X.chained)return;K=Q}for(;ot>=z;)U[ot]=U[ot-1],ot-=1;continue}return}G[B.name]=Q}}if(!K)return G}(A,_,l)},errors:[1,...h||[]].map(b=>c[b]),layouts:[0,...p||[]].map(e),leaf:f(d)};return x.errors.length=x.layouts.length=Math.max(x.errors.length,x.layouts.length),x});function f(n){const d=n<0;return d&&(n=~n),[d,c[n]]}function e(n){return n===void 0?n:[a.has(n),c[n]]}}(kt,[],{"/":[3],"/p":[-5,[2]],"/p/covering-bases":[5,[2]],"/p/shape-algebra":[6,[2]]},{}),Ct=kt[0],Vt=kt[1];Ct(),Vt();let gt={};try{gt=JSON.parse(sessionStorage[ee])}catch{}function Tt(c){gt[c]=Et()}function Te({target:c,base:t}){var Wt;const r=document.documentElement,l=[];let a=null;const f={before_navigate:[],after_navigate:[]};let e,n={branch:[],error:null,url:null},d=!1,p=!1,h=!0,k=!1,_=!1,x=!1,b=!1,A=(Wt=history.state)==null?void 0:Wt[at];A||(A=Date.now(),history.replaceState({...history.state,[at]:A},"",location.href));const V=gt[A];let D,it,G;async function U(){G=G||Promise.resolve(),await G,G=null;const o=new URL(location.href),s=vt(o,!0);a=null,await Q(s,o,[])}async function K(o,{noScroll:s=!1,replaceState:u=!1,keepFocus:i=!1,state:m={},invalidateAll:y=!1},g,$){return typeof o=="string"&&(o=new URL(o,Gt(document))),$t({url:o,scroll:s?Et():null,keepfocus:i,redirect_chain:g,details:{state:m,replaceState:u},nav_token:$,accepted:()=>{y&&(b=!0)},blocked:()=>{},type:"goto"})}async function z(o){const s=vt(o,!1);if(!s)throw new Error(`Attempted to preload a URL that does not belong to this app: ${o}`);return a={id:s.id,promise:Bt(s).then(u=>(u.type==="loaded"&&u.state.error&&(a=null),u))},a.promise}async function B(...o){const s=Ut.filter(u=>o.some(i=>u.exec(i))).map(u=>Promise.all([...u.layouts,u.leaf].map(i=>i==null?void 0:i[1]())));await Promise.all(s)}async function Q(o,s,u,i,m={},y){var $,w;it=m;let g=o&&await Bt(o);if(g||(g=await Jt(s,{id:null},await mt(new Error(`Not found: ${s.pathname}`),{url:s,params:{},route:{id:null}}),404)),s=(o==null?void 0:o.url)||s,it!==m)return!1;if(g.type==="redirect"){if(!(u.length>10||u.includes(s.pathname)))return K(new URL(g.location,s).href,{},[...u,s.pathname],m),!1;g=await wt({status:500,error:await mt(new Error("Redirect loop"),{url:s,params:{},route:{id:null}}),url:s,route:{id:null}})}else((w=($=g.props)==null?void 0:$.page)==null?void 0:w.status)>=400&&await st.updated.check()&&await ft(s);if(l.length=0,b=!1,k=!0,i&&i.details){const{details:v}=i,O=v.replaceState?0:1;v.state[at]=A+=O,history[v.replaceState?"replaceState":"pushState"](v.state,"",s)}if(a=null,p?(n=g.state,g.props.page&&(g.props.page.url=s),e.$set(g.props)):ot(g),i){const{scroll:v,keepfocus:O}=i,{activeElement:T}=document;await _t();const q=document.activeElement!==T&&document.activeElement!==document.body;if(O||q||await It(),h){const j=s.hash&&document.getElementById(s.hash.slice(1));v?scrollTo(v.x,v.y):j?j.scrollIntoView():scrollTo(0,0)}}else await _t();h=!0,g.props.page&&(D=g.props.page),y&&y(),k=!1}function ot(o){var i;n=o.state;const s=document.querySelector("style[data-sveltekit]");s&&s.remove(),D=o.props.page,e=new Oe({target:c,props:{...o.props,stores:st},hydrate:!0});const u={from:null,to:{params:n.params,route:{id:((i=n.route)==null?void 0:i.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter"};f.after_navigate.forEach(m=>m(u)),p=!0}async function X({url:o,params:s,branch:u,status:i,error:m,route:y,form:g}){let $="never";for(const R of u)(R==null?void 0:R.slash)!==void 0&&($=R.slash);var w,v;o.pathname=(w=o.pathname,v=$,w==="/"||v==="ignore"?w:v==="never"?w.endsWith("/")?w.slice(0,-1):w:v!=="always"||w.endsWith("/")?w:w+"/"),o.search=o.search;const O={type:"loaded",state:{url:o,params:s,branch:u,error:m,route:y},props:{components:(T=u,T.filter(R=>R!=null)).map(R=>R.node.component)}};var T;g!==void 0&&(O.props.form=g);let q={},j=!D,E=0;for(let R=0;R<Math.max(u.length,n.branch.length);R+=1){const I=u[R],S=n.branch[R];(I==null?void 0:I.data)!==(S==null?void 0:S.data)&&(j=!0),I&&(q={...q,...I.data},j&&(O.props[`data_${E}`]=q),E+=1)}return(!n.url||o.href!==n.url.href||n.error!==m||g!==void 0&&g!==D.form||j)&&(O.props.page={error:m,params:s,route:{id:(y==null?void 0:y.id)??null},status:i,url:new URL(o),form:g??null,data:j?q:D.data}),O}async function xt({loader:o,parent:s,url:u,params:i,route:m,server_data_node:y}){var v,O,T;let g=null;const $={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},w=await o();if((v=w.universal)!=null&&v.load){let q=function(...E){for(const R of E){const{href:I}=new URL(R,u);$.dependencies.add(I)}};const j={route:{get id(){return $.route=!0,m.id}},params:new Proxy(i,{get:(E,R)=>($.params.add(R),E[R])}),data:(y==null?void 0:y.data)??null,url:ve(u,()=>{$.url=!0}),async fetch(E,R){let I;E instanceof Request?(I=E.url,R={body:E.method==="GET"||E.method==="HEAD"?void 0:await E.blob(),cache:E.cache,credentials:E.credentials,headers:E.headers,integrity:E.integrity,keepalive:E.keepalive,method:E.method,mode:E.mode,redirect:E.redirect,referrer:E.referrer,referrerPolicy:E.referrerPolicy,signal:E.signal,...R}):I=E;const S=new URL(I,u).href;return q(S),p?function(P,N,L){if(ht.size>0){const C=Dt(P,L),W=ht.get(C);if(W){if(performance.now()<W.ttl&&["default","force-cache","only-if-cached",void 0].includes(L==null?void 0:L.cache))return new Response(W.body,W.init);ht.delete(C)}}return St(N,L)}(I,S,R):function(P,N){const L=Dt(P,N),C=document.querySelector(L);if(C!=null&&C.textContent){const{body:W,...pt}=JSON.parse(C.textContent),dt=C.getAttribute("data-ttl");return dt&&ht.set(L,{body:W,init:pt,ttl:1e3*Number(dt)}),Promise.resolve(new Response(W,pt))}return St(P,N)}(I,R)},setHeaders:()=>{},depends:q,parent:()=>($.parent=!0,s())};g=await w.universal.load.call(null,j)??null,g=g?await async function(E){var R;for(const I in E)if(typeof((R=E[I])==null?void 0:R.then)=="function")return Object.fromEntries(await Promise.all(Object.entries(E).map(async([S,P])=>[S,await P])));return E}(g):null}return{node:w,loader:o,server:y,universal:(O=w.universal)!=null&&O.load?{type:"data",data:g,uses:$}:null,data:g??(y==null?void 0:y.data)??null,slash:((T=w.universal)==null?void 0:T.trailingSlash)??(y==null?void 0:y.slash)}}function qt(o,s,u,i,m){if(b)return!0;if(!i)return!1;if(i.parent&&o||i.route&&s||i.url&&u)return!0;for(const y of i.params)if(m[y]!==n.params[y])return!0;for(const y of i.dependencies)if(l.some(g=>g(new URL(y))))return!0;return!1}function Rt(o,s){return(o==null?void 0:o.type)==="data"?{type:"data",data:o.data,uses:{dependencies:new Set(o.uses.dependencies??[]),params:new Set(o.uses.params??[]),parent:!!o.uses.parent,route:!!o.uses.route,url:!!o.uses.url},slash:o.slash}:(o==null?void 0:o.type)==="skip"?s??null:null}async function Bt({id:o,invalidating:s,url:u,params:i,route:m}){if((a==null?void 0:a.id)===o)return a.promise;const{errors:y,layouts:g,leaf:$}=m,w=[...g,$];y.forEach(S=>S==null?void 0:S().catch(()=>{})),w.forEach(S=>S==null?void 0:S[1]().catch(()=>{}));let v=null;const O=!!n.url&&o!==n.url.pathname+n.url.search,T=!!n.route&&m.id!==n.route.id,q=w.reduce((S,P,N)=>{var W;const L=n.branch[N],C=!!(P!=null&&P[0])&&((L==null?void 0:L.loader)!==P[1]||qt(S.some(Boolean),T,O,(W=L.server)==null?void 0:W.uses,i));return S.push(C),S},[]);if(q.some(Boolean)){try{v=await te(u,q)}catch(S){return wt({status:500,error:await mt(S,{url:u,params:i,route:{id:m.id}}),url:u,route:m})}if(v.type==="redirect")return v}const j=v==null?void 0:v.nodes;let E=!1;const R=w.map(async(S,P)=>{var C;if(!S)return;const N=n.branch[P],L=j==null?void 0:j[P];if(!(L&&L.type!=="skip"||S[1]!==(N==null?void 0:N.loader)||qt(E,T,O,(C=N.universal)==null?void 0:C.uses,i)))return N;if(E=!0,(L==null?void 0:L.type)==="error")throw L;return xt({loader:S[1],url:u,params:i,route:m,parent:async()=>{var pt;const W={};for(let dt=0;dt<P;dt+=1)Object.assign(W,(pt=await R[dt])==null?void 0:pt.data);return W},server_data_node:Rt(L===void 0&&S[0]?{type:"skip"}:L??null,N==null?void 0:N.server)})});for(const S of R)S.catch(()=>{});const I=[];for(let S=0;S<w.length;S+=1)if(w[S])try{I.push(await R[S])}catch(P){if(P instanceof Zt)return{type:"redirect",location:P.location};let N,L=500;if(j!=null&&j.includes(P))L=P.status??L,N=P.error;else if(P instanceof jt)L=P.status,N=P.body;else{if(await st.updated.check())return await ft(u);N=await mt(P,{params:i,url:u,route:{id:m.id}})}const C=await Mt(S,I,y);return C?await X({url:u,params:i,branch:I.slice(0,C.idx).concat(C.node),status:L,error:N,route:m}):await Jt(u,{id:m.id},N,L)}else I.push(void 0);return await X({url:u,params:i,branch:I,status:200,error:null,route:m,form:s?void 0:null})}async function Mt(o,s,u){for(;o--;)if(u[o]){let i=o;for(;!s[i];)i-=1;try{return{idx:i+1,node:{node:await u[o](),loader:u[o],data:{},server:null,universal:null}}}catch{continue}}}async function wt({status:o,error:s,url:u,route:i}){const m={};let y=null;if((await Ct()).has_server_load)try{const w=await te(u,[!0]);if(w.type!=="data"||w.nodes[0]&&w.nodes[0].type!=="data")throw 0;y=w.nodes[0]??null}catch{(u.origin!==location.origin||u.pathname!==location.pathname||d)&&await ft(u)}const g=await xt({loader:Ct,url:u,params:m,route:i,parent:()=>Promise.resolve({}),server_data_node:Rt(y)}),$={node:await Vt(),loader:Vt,universal:null,server:null,data:null};return await X({url:u,params:m,branch:[g,$],status:o,error:s,route:null})}function vt(o,s){if(Kt(o,t))return;const u=(o.pathname.slice(t.length)||"/").split("%25").map(decodeURI).join("%25");for(const i of Ut){const m=i.exec(u);if(m)return{id:o.pathname+o.search,invalidating:s,route:i,params:ye(m),url:o}}}function Ft({url:o,type:s,intent:u,delta:i}){var $,w;let m=!1;const y={from:{params:n.params,route:{id:(($=n.route)==null?void 0:$.id)??null},url:n.url},to:{params:(u==null?void 0:u.params)??null,route:{id:((w=u==null?void 0:u.route)==null?void 0:w.id)??null},url:o},willUnload:!u,type:s};i!==void 0&&(y.delta=i);const g={...y,cancel:()=>{m=!0}};return _||f.before_navigate.forEach(v=>v(g)),m?null:y}async function $t({url:o,scroll:s,keepfocus:u,redirect_chain:i,details:m,type:y,delta:g,nav_token:$,accepted:w,blocked:v}){const O=vt(o,!1),T=Ft({url:o,type:y,delta:g,intent:O});T?(Tt(A),w(),_=!0,p&&st.navigating.set(T),await Q(O,o,i,{scroll:s,keepfocus:u,details:m},$,()=>{_=!1,f.after_navigate.forEach(q=>q(T)),st.navigating.set(null)})):v()}async function Jt(o,s,u,i){return o.origin!==location.origin||o.pathname!==location.pathname||d?await ft(o):await wt({status:i,error:u,url:o,route:s})}function ft(o){return location.href=o.href,new Promise(()=>{})}return V&&(history.scrollRestoration="manual",scrollTo(V.x,V.y)),{after_navigate:o=>{Nt(()=>(f.after_navigate.push(o),()=>{const s=f.after_navigate.indexOf(o);f.after_navigate.splice(s,1)}))},before_navigate:o=>{Nt(()=>(f.before_navigate.push(o),()=>{const s=f.before_navigate.indexOf(o);f.before_navigate.splice(s,1)}))},disable_scroll_handling:()=>{!k&&p||(h=!1)},goto:(o,s={})=>K(o,s,[]),invalidate:o=>{if(typeof o=="function")l.push(o);else{const{href:s}=new URL(o,location.href);l.push(u=>u.href===s)}return U()},invalidateAll:()=>(b=!0,U()),preload_data:async o=>{const s=new URL(o,Gt(document));await z(s)},preload_code:B,apply_action:async o=>{if(o.type==="error"){const s=new URL(location.href),{branch:u,route:i}=n;if(!i)return;const m=await Mt(n.branch.length,u,i.errors);if(m){const y=await X({url:s,params:n.params,branch:u.slice(0,m.idx).concat(m.node),status:o.status??500,error:o.error,route:i});n=y.state,e.$set(y.props),_t().then(It)}}else if(o.type==="redirect")K(o.location,{invalidateAll:!0},[]);else{const s={form:o.data,page:{...D,form:o.data,status:o.status}};e.$set(s),o.type==="success"&&_t().then(It)}},_start_router:()=>{var o;history.scrollRestoration="manual",addEventListener("beforeunload",s=>{var i;let u=!1;if(!_){const m={from:{params:n.params,route:{id:((i=n.route)==null?void 0:i.id)??null},url:n.url},to:null,willUnload:!0,type:"leave",cancel:()=>u=!0};f.before_navigate.forEach(y=>y(m))}u?(s.preventDefault(),s.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){Tt(A);try{sessionStorage[ee]=JSON.stringify(gt)}catch{}}}),(o=navigator.connection)!=null&&o.saveData||function(){let s;function u(g){m(g.composedPath()[0],1)}r.addEventListener("mousemove",g=>{const $=g.target;clearTimeout(s),s=setTimeout(()=>{m($,2)},20)}),r.addEventListener("mousedown",u),r.addEventListener("touchstart",u,{passive:!0});const i=new IntersectionObserver(g=>{for(const $ of g)$.isIntersecting&&(B(new URL($.target.href).pathname),i.unobserve($.target))},{threshold:0});function m(g,$){const w=Ht(g,r);if(!w)return;const{url:v,external:O}=At(w,t);if(O)return;const T=bt(w);T.reload||($<=T.preload_data?z(v):$<=T.preload_code&&B(v.pathname))}function y(){i.disconnect();for(const g of r.querySelectorAll("a")){const{url:$,external:w}=At(g,t);if(w)continue;const v=bt(g);v.reload||(v.preload_code===zt.viewport&&i.observe(g),v.preload_code===zt.eager&&B($.pathname))}}f.after_navigate.push(y),y()}(),r.addEventListener("click",s=>{if(s.button||s.which!==1||s.metaKey||s.ctrlKey||s.shiftKey||s.altKey||s.defaultPrevented)return;const u=Ht(s.composedPath()[0],r);if(!u)return;const{url:i,external:m,target:y}=At(u,t);if(!i)return;if(y==="_parent"||y==="_top"){if(window.parent!==window)return}else if(y&&y!=="_self")return;const g=bt(u);if(!(u instanceof SVGAElement)&&i.protocol!==location.protocol&&i.protocol!=="https:"&&i.protocol!=="http:")return;if(m||g.reload)return Ft({url:i,type:"link"})||s.preventDefault(),void(_=!0);const[$,w]=i.href.split("#");if(w!==void 0&&$===location.href.split("#")[0])return x=!0,Tt(A),n.url=i,st.page.set({...D,url:i}),void st.page.notify();$t({url:i,scroll:g.noscroll?Et():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:i.href===location.href},accepted:()=>s.preventDefault(),blocked:()=>s.preventDefault(),type:"link"})}),r.addEventListener("submit",s=>{if(s.defaultPrevented)return;const u=HTMLFormElement.prototype.cloneNode.call(s.target),i=s.submitter;if(((i==null?void 0:i.formMethod)||u.method)!=="get")return;const m=new URL((i==null?void 0:i.hasAttribute("formaction"))&&(i==null?void 0:i.formAction)||u.action);if(Kt(m,t))return;const y=s.target,{noscroll:g,reload:$}=bt(y);if($)return;s.preventDefault(),s.stopPropagation();const w=new FormData(y),v=i==null?void 0:i.getAttribute("name");v&&w.append(v,(i==null?void 0:i.getAttribute("value"))??""),m.search=new URLSearchParams(w).toString(),$t({url:m,scroll:g?Et():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:!1},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"})}),addEventListener("popstate",s=>{var u;if((u=s.state)!=null&&u[at]){if(s.state[at]===A)return;const i=s.state[at]-A;$t({url:new URL(location.href),scroll:gt[s.state[at]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{A=s.state[at]},blocked:()=>{history.go(-i)},type:"popstate",delta:i})}}),addEventListener("hashchange",()=>{x&&(x=!1,history.replaceState({...history.state,[at]:++A},"",location.href))});for(const s of document.querySelectorAll("link"))s.rel==="icon"&&(s.href=s.href);addEventListener("pageshow",s=>{s.persisted&&st.navigating.set(null)})},_hydrate:async({status:o=200,error:s,node_ids:u,params:i,route:m,data:y,form:g})=>{d=!0;const $=new URL(location.href);let w;({params:i={},route:m={id:null}}=vt($,!1)||{});try{const v=u.map(async(O,T)=>{const q=y[T];return xt({loader:kt[O],url:$,params:i,route:m,parent:async()=>{const j={};for(let E=0;E<T;E+=1)Object.assign(j,(await v[E]).data);return j},server_data_node:Rt(q)})});w=await X({url:$,params:i,branch:await Promise.all(v),status:o,error:s,form:g,route:Ut.find(({id:O})=>O===m.id)??null})}catch(v){if(v instanceof Zt)return void await ft(new URL(v.location,location.href));w=await wt({status:v instanceof jt?v.status:500,error:await mt(v,{url:$,params:i,route:m}),url:$,route:m})}ot(w)}}}async function te(c,t){var f;const r=new URL(c);r.pathname=c.pathname.replace(/\/$/,"")+"/__data.json",r.searchParams.append("x-sveltekit-invalidated",t.map(e=>e?"1":"").join("_"));const l=await St(r.href),a=await l.json();if(!l.ok)throw new Error(a);return(f=a.nodes)==null||f.forEach(e=>{(e==null?void 0:e.type)==="data"&&(e.data=function(n,d){if(typeof n=="number")return k(n,!0);if(!Array.isArray(n)||n.length===0)throw new Error("Invalid input");const p=n,h=Array(p.length);function k(_,x=!1){if(_===-1)return;if(_===-3)return NaN;if(_===-4)return 1/0;if(_===-5)return-1/0;if(_===-6)return-0;if(x)throw new Error("Invalid input");if(_ in h)return h[_];const b=p[_];if(b&&typeof b=="object")if(Array.isArray(b))if(typeof b[0]=="string"){const A=b[0],V=d==null?void 0:d[A];if(V)return h[_]=V(k(b[1]));switch(A){case"Date":h[_]=new Date(b[1]);break;case"Set":const D=new Set;h[_]=D;for(let U=1;U<b.length;U+=1)D.add(k(b[U]));break;case"Map":const it=new Map;h[_]=it;for(let U=1;U<b.length;U+=2)it.set(k(b[U]),k(b[U+1]));break;case"RegExp":h[_]=new RegExp(b[1],b[2]);break;case"Object":h[_]=Object(b[1]);break;case"BigInt":h[_]=BigInt(b[1]);break;case"null":const G=Object.create(null);h[_]=G;for(let U=1;U<b.length;U+=2)G[b[U]]=k(b[U+1]);break;default:throw new Error(`Unknown type ${A}`)}}else{const A=new Array(b.length);h[_]=A;for(let V=0;V<b.length;V+=1){const D=b[V];D!==-2&&(A[V]=k(D))}}else{const A={};h[_]=A;for(const V in b){const D=b[V];A[V]=k(D)}}else h[_]=b;return h[_]}return k(0)}(e.data),e.uses={dependencies:new Set(e.uses.dependencies??[]),params:new Set(e.uses.params??[]),parent:!!e.uses.parent,route:!!e.uses.route,url:!!e.uses.url})}),a}function mt(c,t){return c instanceof jt?c.body:Ue({error:c,event:t})??{message:t.route.id!=null?"Internal Error":"Not Found"}}function It(){const c=document.querySelector("[autofocus]");if(!c){const t=document.body,r=t.getAttribute("tabindex");return t.tabIndex=-1,t.focus({preventScroll:!0}),r!==null?t.setAttribute("tabindex",r):t.removeAttribute("tabindex"),new Promise(l=>{setTimeout(()=>{var a;l((a=getSelection())==null?void 0:a.removeAllRanges())})})}c.focus()}async function De({env:c,hydrate:t,paths:r,target:l,version:a}){me(r),ge(a);const f=Te({target:l,base:r.base});he({client:f}),t?await f._hydrate(t):f.goto(location.href,{replaceState:!0}),f._start_router()}export{De as start};
