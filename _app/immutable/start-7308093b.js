import{S as re,i as ne,s as ae,m as oe,z as Y,o as se,g as nt,A as $t,k as Z,B as _t,t as tt,d as et,C as ie,D as Tt,e as le,a as ce,b as ue,f as xt,x as K,l as de,n as fe,q as pe,E as ot,F as st,G as qt,H as it,I as lt,J as yt}from"./chunks/index-df138265.js";import{S as ee,I as z,g as Wt,f as Ht,a as Lt,b as wt,s as X,i as Kt,c as vt,P as zt,d as he,e as me,h as ge}from"./chunks/singletons-0669c3ea.js";function ye(c){for(const t in c)c[t]=decodeURIComponent(c[t]);return c}const we=["href","pathname","search","searchParams","toString","toJSON"];function ve(c,t){const r=new URL(c);for(const u of we){let i=r[u];Object.defineProperty(r,u,{get:()=>(t(),i),enumerable:!0,configurable:!0})}return function(u){Object.defineProperty(u,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}(r),r}const bt=window.fetch;window.fetch=(c,t)=>((c instanceof Request?c.method:(t==null?void 0:t.method)||"GET")!=="GET"&&ft.delete(jt(c)),bt(c,t));const ft=new Map;function jt(c,t){let r=`script[data-sveltekit-fetched][data-url=${JSON.stringify(c instanceof Request?c.url:c)}]`;return t!=null&&t.body&&(typeof t.body=="string"||ArrayBuffer.isView(t.body))&&(r+=`[data-hash="${function(u){let i=5381;if(typeof u=="string"){let p=u.length;for(;p;)i=33*i^u.charCodeAt(--p)}else{if(!ArrayBuffer.isView(u))throw new TypeError("value must be a string or TypedArray");{const p=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);let o=p.length;for(;o;)i=33*i^p[--o]}}return(i>>>0).toString(36)}(t.body)}"]`),r}const be=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function $e(c){const t=[];var r;return{pattern:c==="/"?/^\/$/:new RegExp(`^${(r=c,r.slice(1).split("/").filter(_e)).map(u=>{const i=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(u);if(i)return t.push({name:i[1],matcher:i[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const p=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(u);if(p)return t.push({name:p[1],matcher:p[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!u)return;const o=u.split(/\[(.+?)\](?!\])/);return"/"+o.map((s,$)=>{if($%2){if(s.startsWith("x+"))return Rt(String.fromCharCode(parseInt(s.slice(2),16)));if(s.startsWith("u+"))return Rt(String.fromCharCode(...s.slice(2).split("-").map(_=>parseInt(_,16))));const g=be.exec(s);if(!g)throw new Error(`Invalid param: ${s}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,m,k,y,V]=g;return t.push({name:y,matcher:V,optional:!!m,rest:!!k,chained:!!k&&$===1&&o[0]===""}),k?"(.*?)":m?"([^/]*)?":"([^/]+?)"}return Rt(s)}).join("")}).join("")}/?$`),params:t}}function _e(c){return!/^\([^)]+\)$/.test(c)}function Rt(c){return c.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Ee(c){let t,r,u;var i=c[0][0];function p(o){return{props:{data:o[2],form:o[1]}}}return i&&(t=ot(i,p(c))),{c(){t&&st(t.$$.fragment),r=Y()},l(o){t&&qt(t.$$.fragment,o),r=Y()},m(o,s){t&&it(t,o,s),nt(o,r,s),u=!0},p(o,s){const $={};if(4&s&&($.data=o[2]),2&s&&($.form=o[1]),i!==(i=o[0][0])){if(t){$t();const g=t;Z(g.$$.fragment,1,0,()=>{lt(g,1)}),_t()}i?(t=ot(i,p(o)),st(t.$$.fragment),tt(t.$$.fragment,1),it(t,r.parentNode,r)):t=null}else i&&t.$set($)},i(o){u||(t&&tt(t.$$.fragment,o),u=!0)},o(o){t&&Z(t.$$.fragment,o),u=!1},d(o){o&&et(r),t&&lt(t,o)}}}function Se(c){let t,r,u;var i=c[0][0];function p(o){return{props:{data:o[2],$$slots:{default:[ke]},$$scope:{ctx:o}}}}return i&&(t=ot(i,p(c))),{c(){t&&st(t.$$.fragment),r=Y()},l(o){t&&qt(t.$$.fragment,o),r=Y()},m(o,s){t&&it(t,o,s),nt(o,r,s),u=!0},p(o,s){const $={};if(4&s&&($.data=o[2]),523&s&&($.$$scope={dirty:s,ctx:o}),i!==(i=o[0][0])){if(t){$t();const g=t;Z(g.$$.fragment,1,0,()=>{lt(g,1)}),_t()}i?(t=ot(i,p(o)),st(t.$$.fragment),tt(t.$$.fragment,1),it(t,r.parentNode,r)):t=null}else i&&t.$set($)},i(o){u||(t&&tt(t.$$.fragment,o),u=!0)},o(o){t&&Z(t.$$.fragment,o),u=!1},d(o){o&&et(r),t&&lt(t,o)}}}function ke(c){let t,r,u;var i=c[0][1];function p(o){return{props:{data:o[3],form:o[1]}}}return i&&(t=ot(i,p(c))),{c(){t&&st(t.$$.fragment),r=Y()},l(o){t&&qt(t.$$.fragment,o),r=Y()},m(o,s){t&&it(t,o,s),nt(o,r,s),u=!0},p(o,s){const $={};if(8&s&&($.data=o[3]),2&s&&($.form=o[1]),i!==(i=o[0][1])){if(t){$t();const g=t;Z(g.$$.fragment,1,0,()=>{lt(g,1)}),_t()}i?(t=ot(i,p(o)),st(t.$$.fragment),tt(t.$$.fragment,1),it(t,r.parentNode,r)):t=null}else i&&t.$set($)},i(o){u||(t&&tt(t.$$.fragment,o),u=!0)},o(o){t&&Z(t.$$.fragment,o),u=!1},d(o){o&&et(r),t&&lt(t,o)}}}function Qt(c){let t,r=c[5]&&Xt(c);return{c(){t=le("div"),r&&r.c(),this.h()},l(u){t=ce(u,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var i=ue(t);r&&r.l(i),i.forEach(et),this.h()},h(){xt(t,"id","svelte-announcer"),xt(t,"aria-live","assertive"),xt(t,"aria-atomic","true"),K(t,"position","absolute"),K(t,"left","0"),K(t,"top","0"),K(t,"clip","rect(0 0 0 0)"),K(t,"clip-path","inset(50%)"),K(t,"overflow","hidden"),K(t,"white-space","nowrap"),K(t,"width","1px"),K(t,"height","1px")},m(u,i){nt(u,t,i),r&&r.m(t,null)},p(u,i){u[5]?r?r.p(u,i):(r=Xt(u),r.c(),r.m(t,null)):r&&(r.d(1),r=null)},d(u){u&&et(t),r&&r.d()}}}function Xt(c){let t;return{c(){t=de(c[6])},l(r){t=fe(r,c[6])},m(r,u){nt(r,t,u)},p(r,u){64&u&&pe(t,r[6])},d(r){r&&et(t)}}}function xe(c){let t,r,u,i,p;const o=[Se,Ee],s=[];function $(m,k){return m[0][1]?0:1}t=$(c),r=s[t]=o[t](c);let g=c[4]&&Qt(c);return{c(){r.c(),u=oe(),g&&g.c(),i=Y()},l(m){r.l(m),u=se(m),g&&g.l(m),i=Y()},m(m,k){s[t].m(m,k),nt(m,u,k),g&&g.m(m,k),nt(m,i,k),p=!0},p(m,[k]){let y=t;t=$(m),t===y?s[t].p(m,k):($t(),Z(s[y],1,1,()=>{s[y]=null}),_t(),r=s[t],r?r.p(m,k):(r=s[t]=o[t](m),r.c()),tt(r,1),r.m(u.parentNode,u)),m[4]?g?g.p(m,k):(g=Qt(m),g.c(),g.m(i.parentNode,i)):g&&(g.d(1),g=null)},i(m){p||(tt(r),p=!0)},o(m){Z(r),p=!1},d(m){s[t].d(m),m&&et(u),g&&g.d(m),m&&et(i)}}}function Le(c,t,r){let{stores:u}=t,{page:i}=t,{components:p}=t,{form:o}=t,{data_0:s=null}=t,{data_1:$=null}=t;ie(u.page.notify);let g=!1,m=!1,k=null;return Tt(()=>{const y=u.page.subscribe(()=>{g&&(r(5,m=!0),r(6,k=document.title||"untitled page"))});return r(4,g=!0),y}),c.$$set=y=>{"stores"in y&&r(7,u=y.stores),"page"in y&&r(8,i=y.page),"components"in y&&r(0,p=y.components),"form"in y&&r(1,o=y.form),"data_0"in y&&r(2,s=y.data_0),"data_1"in y&&r(3,$=y.data_1)},c.$$.update=()=>{384&c.$$.dirty&&u.page.set(i)},[p,o,s,$,g,m,k,u,i]}class Re extends re{constructor(t){super(),ne(this,t,Le,xe,ae,{stores:7,page:8,components:0,form:1,data_0:2,data_1:3})}}const Yt={},At=function(c,t,r){if(!t||t.length===0)return c();const u=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=function($,g){return new URL($,g).href}(i,r),i in Yt)return;Yt[i]=!0;const p=i.endsWith(".css"),o=p?'[rel="stylesheet"]':"";if(r)for(let $=u.length-1;$>=0;$--){const g=u[$];if(g.href===i&&(!p||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const s=document.createElement("link");return s.rel=p?"stylesheet":"modulepreload",p||(s.as="script",s.crossOrigin=""),s.href=i,document.head.appendChild(s),p?new Promise(($,g)=>{s.addEventListener("load",$),s.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${i}`)))}):void 0})).then(()=>c())},Et=[()=>At(()=>import("./chunks/0-0a93e81a.js"),["./chunks/0-0a93e81a.js","./chunks/_layout-8b3d678d.js","./components/pages/_layout.svelte-0746fe1c.js","./chunks/index-df138265.js","./assets/_layout-1548f59b.css"],import.meta.url),()=>At(()=>import("./chunks/1-17b594f0.js"),["./chunks/1-17b594f0.js","./components/error.svelte-92dea945.js","./chunks/index-df138265.js","./chunks/singletons-0669c3ea.js"],import.meta.url),()=>At(()=>import("./chunks/2-431b8151.js"),["./chunks/2-431b8151.js","./components/pages/_page.svelte-ec2cc49a.js","./chunks/index-df138265.js","./assets/_page-e94e1ce9.css"],import.meta.url)],Ae=({error:c})=>{console.error(c)};let Nt=class{constructor(c,t){this.status=c,this.body=typeof t=="string"?{message:t}:t||{message:`Error: ${c}`}}toString(){return JSON.stringify(this.body)}},Zt=class{constructor(c,t){this.status=c,this.location=t}};function Pt(c){const t=new Set(c);return function(r,u){if(r){for(const i in r)if(i[0]!=="_"&&!t.has(i)){const p=c.join(", ");throw new Error(`Invalid export '${i}'${u?` in ${u}`:""} (valid exports are ${p}, or anything with a '_' prefix)`)}}}}Pt(["load","prerender","csr","ssr","trailingSlash"]),Pt(["load","prerender","csr","ssr","actions","trailingSlash"]),Pt(["GET","POST","PATCH","PUT","DELETE","prerender","trailingSlash"]);const Ut=function(c,t,r,u){const i=new Set(t);return Object.entries(r).map(([s,[$,g,m]])=>{const{pattern:k,params:y}=$e(s),V={id:s,exec:_=>{const R=k.exec(_);if(R)return function(C,j,rt){const F={},U=C.slice(1);let J="";for(let G=0;G<j.length;G+=1){const B=j[G];let W=U[G];if(B.chained&&B.rest&&J&&(W=W?J+"/"+W:J),J="",W===void 0)B.rest&&(F[B.name]="");else{if(B.matcher&&!rt[B.matcher](W)){if(B.optional&&B.chained){let Q=U.indexOf(void 0,G);if(Q===-1){const H=j[G+1];if(!(H!=null&&H.rest)||!H.chained)return;J=W}for(;Q>=G;)U[Q]=U[Q-1],Q-=1;continue}return}F[B.name]=W}}if(!J)return F}(R,y,u)},errors:[1,...m||[]].map(_=>c[_]),layouts:[0,...g||[]].map(o),leaf:p($)};return V.errors.length=V.layouts.length=Math.max(V.errors.length,V.layouts.length),V});function p(s){const $=s<0;return $&&(s=~s),[$,c[s]]}function o(s){return s===void 0?s:[i.has(s),c[s]]}}(Et,[],{"/":[2]},{}),Dt=Et[0],Ct=Et[1];Dt(),Ct();let pt={};try{pt=JSON.parse(sessionStorage[ee])}catch{}function Ot(c){pt[c]=vt()}function Pe({target:c,base:t}){var Gt;const r=document.documentElement,u=[];let i=null;const p={before_navigate:[],after_navigate:[]};let o,s={branch:[],error:null,url:null},$=!1,g=!1,m=!0,k=!1,y=!1,V=!1,_=!1,R=(Gt=history.state)==null?void 0:Gt[z];R||(R=Date.now(),history.replaceState({...history.state,[z]:R},"",location.href));const C=pt[R];let j,rt,F;async function U(){F=F||Promise.resolve(),await F,F=null;const e=new URL(location.href),n=mt(e,!0);i=null,await W(n,e,[])}async function J(e,{noScroll:n=!1,replaceState:l=!1,keepFocus:a=!1,state:d={},invalidateAll:h=!1},f,b){return typeof e=="string"&&(e=new URL(e,Wt(document))),gt({url:e,scroll:n?vt():null,keepfocus:a,redirect_chain:f,details:{state:d,replaceState:l},nav_token:b,accepted:()=>{h&&(_=!0)},blocked:()=>{},type:"goto"})}async function G(e){const n=mt(e,!1);if(!n)throw new Error(`Attempted to preload a URL that does not belong to this app: ${e}`);return i={id:n.id,promise:Vt(n).then(l=>(l.type==="loaded"&&l.state.error&&(i=null),l))},i.promise}async function B(...e){const n=Ut.filter(l=>e.some(a=>l.exec(a))).map(l=>Promise.all([...l.layouts,l.leaf].map(a=>a==null?void 0:a[1]())));await Promise.all(n)}async function W(e,n,l,a,d={},h){var b,w;rt=d;let f=e&&await Vt(e);if(f||(f=await Jt(n,{id:null},await dt(new Error(`Not found: ${n.pathname}`),{url:n,params:{},route:{id:null}}),404)),n=(e==null?void 0:e.url)||n,rt!==d)return!1;if(f.type==="redirect"){if(!(l.length>10||l.includes(n.pathname)))return J(new URL(f.location,n).href,{},[...l,n.pathname],d),!1;f=await ht({status:500,error:await dt(new Error("Redirect loop"),{url:n,params:{},route:{id:null}}),url:n,route:{id:null}})}else((w=(b=f.props)==null?void 0:b.page)==null?void 0:w.status)>=400&&await X.updated.check()&&await ct(n);if(u.length=0,_=!1,k=!0,a&&a.details){const{details:v}=a,P=v.replaceState?0:1;v.state[z]=R+=P,history[v.replaceState?"replaceState":"pushState"](v.state,"",n)}if(i=null,g?(s=f.state,f.props.page&&(f.props.page.url=n),o.$set(f.props)):Q(f),a){const{scroll:v,keepfocus:P}=a,{activeElement:O}=document;await yt();const q=document.activeElement!==O&&document.activeElement!==document.body;if(P||q||await It(),m){const N=n.hash&&document.getElementById(n.hash.slice(1));v?scrollTo(v.x,v.y):N?N.scrollIntoView():scrollTo(0,0)}}else await yt();m=!0,f.props.page&&(j=f.props.page),h&&h(),k=!1}function Q(e){var a;s=e.state;const n=document.querySelector("style[data-sveltekit]");n&&n.remove(),j=e.props.page,o=new Re({target:c,props:{...e.props,stores:X},hydrate:!0});const l={from:null,to:{params:s.params,route:{id:((a=s.route)==null?void 0:a.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter"};p.after_navigate.forEach(d=>d(l)),g=!0}async function H({url:e,params:n,branch:l,status:a,error:d,route:h,form:f}){let b="never";for(const x of l)(x==null?void 0:x.slash)!==void 0&&(b=x.slash);var w,v;e.pathname=(w=e.pathname,v=b,w==="/"||v==="ignore"?w:v==="never"?w.endsWith("/")?w.slice(0,-1):w:v!=="always"||w.endsWith("/")?w:w+"/"),e.search=e.search;const P={type:"loaded",state:{url:e,params:n,branch:l,error:d,route:h},props:{components:(O=l,O.filter(x=>x!=null)).map(x=>x.node.component)}};var O;f!==void 0&&(P.props.form=f);let q={},N=!j,E=0;for(let x=0;x<Math.max(l.length,s.branch.length);x+=1){const I=l[x],S=s.branch[x];(I==null?void 0:I.data)!==(S==null?void 0:S.data)&&(N=!0),I&&(q={...q,...I.data},N&&(P.props[`data_${E}`]=q),E+=1)}return(!s.url||e.href!==s.url.href||s.error!==d||f!==void 0&&f!==j.form||N)&&(P.props.page={error:d,params:n,route:{id:(h==null?void 0:h.id)??null},status:a,url:new URL(e),form:f??null,data:N?q:j.data}),P}async function St({loader:e,parent:n,url:l,params:a,route:d,server_data_node:h}){var v,P,O;let f=null;const b={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},w=await e();if((v=w.universal)!=null&&v.load){let q=function(...E){for(const x of E){const{href:I}=new URL(x,l);b.dependencies.add(I)}};const N={route:{get id(){return b.route=!0,d.id}},params:new Proxy(a,{get:(E,x)=>(b.params.add(x),E[x])}),data:(h==null?void 0:h.data)??null,url:ve(l,()=>{b.url=!0}),async fetch(E,x){let I;E instanceof Request?(I=E.url,x={body:E.method==="GET"||E.method==="HEAD"?void 0:await E.blob(),cache:E.cache,credentials:E.credentials,headers:E.headers,integrity:E.integrity,keepalive:E.keepalive,method:E.method,mode:E.mode,redirect:E.redirect,referrer:E.referrer,referrerPolicy:E.referrerPolicy,signal:E.signal,...x}):I=E;const S=new URL(I,l).href;return q(S),g?function(A,T,L){if(ft.size>0){const D=jt(A,L),M=ft.get(D);if(M){if(performance.now()<M.ttl&&["default","force-cache","only-if-cached",void 0].includes(L==null?void 0:L.cache))return new Response(M.body,M.init);ft.delete(D)}}return bt(T,L)}(I,S,x):function(A,T){const L=jt(A,T),D=document.querySelector(L);if(D!=null&&D.textContent){const{body:M,...ut}=JSON.parse(D.textContent),at=D.getAttribute("data-ttl");return at&&ft.set(L,{body:M,init:ut,ttl:1e3*Number(at)}),Promise.resolve(new Response(M,ut))}return bt(A,T)}(I,x)},setHeaders:()=>{},depends:q,parent:()=>(b.parent=!0,n())};f=await w.universal.load.call(null,N)??null,f=f?await async function(E){var x;for(const I in E)if(typeof((x=E[I])==null?void 0:x.then)=="function")return Object.fromEntries(await Promise.all(Object.entries(E).map(async([S,A])=>[S,await A])));return E}(f):null}return{node:w,loader:e,server:h,universal:(P=w.universal)!=null&&P.load?{type:"data",data:f,uses:b}:null,data:f??(h==null?void 0:h.data)??null,slash:((O=w.universal)==null?void 0:O.trailingSlash)??(h==null?void 0:h.slash)}}function Bt(e,n,l,a,d){if(_)return!0;if(!a)return!1;if(a.parent&&e||a.route&&n||a.url&&l)return!0;for(const h of a.params)if(d[h]!==s.params[h])return!0;for(const h of a.dependencies)if(u.some(f=>f(new URL(h))))return!0;return!1}function kt(e,n){return(e==null?void 0:e.type)==="data"?{type:"data",data:e.data,uses:{dependencies:new Set(e.uses.dependencies??[]),params:new Set(e.uses.params??[]),parent:!!e.uses.parent,route:!!e.uses.route,url:!!e.uses.url},slash:e.slash}:(e==null?void 0:e.type)==="skip"?n??null:null}async function Vt({id:e,invalidating:n,url:l,params:a,route:d}){if((i==null?void 0:i.id)===e)return i.promise;const{errors:h,layouts:f,leaf:b}=d,w=[...f,b];h.forEach(S=>S==null?void 0:S().catch(()=>{})),w.forEach(S=>S==null?void 0:S[1]().catch(()=>{}));let v=null;const P=!!s.url&&e!==s.url.pathname+s.url.search,O=!!s.route&&d.id!==s.route.id,q=w.reduce((S,A,T)=>{var M;const L=s.branch[T],D=!!(A!=null&&A[0])&&((L==null?void 0:L.loader)!==A[1]||Bt(S.some(Boolean),O,P,(M=L.server)==null?void 0:M.uses,a));return S.push(D),S},[]);if(q.some(Boolean)){try{v=await te(l,q)}catch(S){return ht({status:500,error:await dt(S,{url:l,params:a,route:{id:d.id}}),url:l,route:d})}if(v.type==="redirect")return v}const N=v==null?void 0:v.nodes;let E=!1;const x=w.map(async(S,A)=>{var D;if(!S)return;const T=s.branch[A],L=N==null?void 0:N[A];if(!(L&&L.type!=="skip"||S[1]!==(T==null?void 0:T.loader)||Bt(E,O,P,(D=T.universal)==null?void 0:D.uses,a)))return T;if(E=!0,(L==null?void 0:L.type)==="error")throw L;return St({loader:S[1],url:l,params:a,route:d,parent:async()=>{var ut;const M={};for(let at=0;at<A;at+=1)Object.assign(M,(ut=await x[at])==null?void 0:ut.data);return M},server_data_node:kt(L===void 0&&S[0]?{type:"skip"}:L??null,T==null?void 0:T.server)})});for(const S of x)S.catch(()=>{});const I=[];for(let S=0;S<w.length;S+=1)if(w[S])try{I.push(await x[S])}catch(A){if(A instanceof Zt)return{type:"redirect",location:A.location};let T,L=500;if(N!=null&&N.includes(A))L=A.status??L,T=A.error;else if(A instanceof Nt)L=A.status,T=A.body;else{if(await X.updated.check())return await ct(l);T=await dt(A,{params:a,url:l,route:{id:d.id}})}const D=await Mt(S,I,h);return D?await H({url:l,params:a,branch:I.slice(0,D.idx).concat(D.node),status:L,error:T,route:d}):await Jt(l,{id:d.id},T,L)}else I.push(void 0);return await H({url:l,params:a,branch:I,status:200,error:null,route:d,form:n?void 0:null})}async function Mt(e,n,l){for(;e--;)if(l[e]){let a=e;for(;!n[a];)a-=1;try{return{idx:a+1,node:{node:await l[e](),loader:l[e],data:{},server:null,universal:null}}}catch{continue}}}async function ht({status:e,error:n,url:l,route:a}){const d={};let h=null;if((await Dt()).has_server_load)try{const w=await te(l,[!0]);if(w.type!=="data"||w.nodes[0]&&w.nodes[0].type!=="data")throw 0;h=w.nodes[0]??null}catch{(l.origin!==location.origin||l.pathname!==location.pathname||$)&&await ct(l)}const f=await St({loader:Dt,url:l,params:d,route:a,parent:()=>Promise.resolve({}),server_data_node:kt(h)}),b={node:await Ct(),loader:Ct,universal:null,server:null,data:null};return await H({url:l,params:d,branch:[f,b],status:e,error:n,route:null})}function mt(e,n){if(Kt(e,t))return;const l=(e.pathname.slice(t.length)||"/").split("%25").map(decodeURI).join("%25");for(const a of Ut){const d=a.exec(l);if(d)return{id:e.pathname+e.search,invalidating:n,route:a,params:ye(d),url:e}}}function Ft({url:e,type:n,intent:l,delta:a}){var b,w;let d=!1;const h={from:{params:s.params,route:{id:((b=s.route)==null?void 0:b.id)??null},url:s.url},to:{params:(l==null?void 0:l.params)??null,route:{id:((w=l==null?void 0:l.route)==null?void 0:w.id)??null},url:e},willUnload:!l,type:n};a!==void 0&&(h.delta=a);const f={...h,cancel:()=>{d=!0}};return y||p.before_navigate.forEach(v=>v(f)),d?null:h}async function gt({url:e,scroll:n,keepfocus:l,redirect_chain:a,details:d,type:h,delta:f,nav_token:b,accepted:w,blocked:v}){const P=mt(e,!1),O=Ft({url:e,type:h,delta:f,intent:P});O?(Ot(R),w(),y=!0,g&&X.navigating.set(O),await W(P,e,a,{scroll:n,keepfocus:l,details:d},b,()=>{y=!1,p.after_navigate.forEach(q=>q(O)),X.navigating.set(null)})):v()}async function Jt(e,n,l,a){return e.origin!==location.origin||e.pathname!==location.pathname||$?await ct(e):await ht({status:a,error:l,url:e,route:n})}function ct(e){return location.href=e.href,new Promise(()=>{})}return C&&(history.scrollRestoration="manual",scrollTo(C.x,C.y)),{after_navigate:e=>{Tt(()=>(p.after_navigate.push(e),()=>{const n=p.after_navigate.indexOf(e);p.after_navigate.splice(n,1)}))},before_navigate:e=>{Tt(()=>(p.before_navigate.push(e),()=>{const n=p.before_navigate.indexOf(e);p.before_navigate.splice(n,1)}))},disable_scroll_handling:()=>{!k&&g||(m=!1)},goto:(e,n={})=>J(e,n,[]),invalidate:e=>{if(typeof e=="function")u.push(e);else{const{href:n}=new URL(e,location.href);u.push(l=>l.href===n)}return U()},invalidateAll:()=>(_=!0,U()),preload_data:async e=>{const n=new URL(e,Wt(document));await G(n)},preload_code:B,apply_action:async e=>{if(e.type==="error"){const n=new URL(location.href),{branch:l,route:a}=s;if(!a)return;const d=await Mt(s.branch.length,l,a.errors);if(d){const h=await H({url:n,params:s.params,branch:l.slice(0,d.idx).concat(d.node),status:e.status??500,error:e.error,route:a});s=h.state,o.$set(h.props),yt().then(It)}}else if(e.type==="redirect")J(e.location,{invalidateAll:!0},[]);else{const n={form:e.data,page:{...j,form:e.data,status:e.status}};o.$set(n),e.type==="success"&&yt().then(It)}},_start_router:()=>{var e;history.scrollRestoration="manual",addEventListener("beforeunload",n=>{var a;let l=!1;if(!y){const d={from:{params:s.params,route:{id:((a=s.route)==null?void 0:a.id)??null},url:s.url},to:null,willUnload:!0,type:"leave",cancel:()=>l=!0};p.before_navigate.forEach(h=>h(d))}l?(n.preventDefault(),n.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){Ot(R);try{sessionStorage[ee]=JSON.stringify(pt)}catch{}}}),(e=navigator.connection)!=null&&e.saveData||function(){let n;function l(f){d(f.composedPath()[0],1)}r.addEventListener("mousemove",f=>{const b=f.target;clearTimeout(n),n=setTimeout(()=>{d(b,2)},20)}),r.addEventListener("mousedown",l),r.addEventListener("touchstart",l,{passive:!0});const a=new IntersectionObserver(f=>{for(const b of f)b.isIntersecting&&(B(new URL(b.target.href).pathname),a.unobserve(b.target))},{threshold:0});function d(f,b){const w=Ht(f,r);if(!w)return;const{url:v,external:P}=Lt(w,t);if(P)return;const O=wt(w);O.reload||(b<=O.preload_data?G(v):b<=O.preload_code&&B(v.pathname))}function h(){a.disconnect();for(const f of r.querySelectorAll("a")){const{url:b,external:w}=Lt(f,t);if(w)continue;const v=wt(f);v.reload||(v.preload_code===zt.viewport&&a.observe(f),v.preload_code===zt.eager&&B(b.pathname))}}p.after_navigate.push(h),h()}(),r.addEventListener("click",n=>{if(n.button||n.which!==1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.defaultPrevented)return;const l=Ht(n.composedPath()[0],r);if(!l)return;const{url:a,external:d,target:h}=Lt(l,t);if(!a)return;if(h==="_parent"||h==="_top"){if(window.parent!==window)return}else if(h&&h!=="_self")return;const f=wt(l);if(!(l instanceof SVGAElement)&&a.protocol!==location.protocol&&a.protocol!=="https:"&&a.protocol!=="http:")return;if(d||f.reload)return Ft({url:a,type:"link"})||n.preventDefault(),void(y=!0);const[b,w]=a.href.split("#");if(w!==void 0&&b===location.href.split("#")[0])return V=!0,Ot(R),s.url=a,X.page.set({...j,url:a}),void X.page.notify();gt({url:a,scroll:f.noscroll?vt():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:a.href===location.href},accepted:()=>n.preventDefault(),blocked:()=>n.preventDefault(),type:"link"})}),r.addEventListener("submit",n=>{if(n.defaultPrevented)return;const l=HTMLFormElement.prototype.cloneNode.call(n.target),a=n.submitter;if(((a==null?void 0:a.formMethod)||l.method)!=="get")return;const d=new URL((a==null?void 0:a.hasAttribute("formaction"))&&(a==null?void 0:a.formAction)||l.action);if(Kt(d,t))return;const h=n.target,{noscroll:f,reload:b}=wt(h);if(b)return;n.preventDefault(),n.stopPropagation();const w=new FormData(h),v=a==null?void 0:a.getAttribute("name");v&&w.append(v,(a==null?void 0:a.getAttribute("value"))??""),d.search=new URLSearchParams(w).toString(),gt({url:d,scroll:f?vt():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:!1},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"})}),addEventListener("popstate",n=>{var l;if((l=n.state)!=null&&l[z]){if(n.state[z]===R)return;const a=n.state[z]-R;gt({url:new URL(location.href),scroll:pt[n.state[z]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{R=n.state[z]},blocked:()=>{history.go(-a)},type:"popstate",delta:a})}}),addEventListener("hashchange",()=>{V&&(V=!1,history.replaceState({...history.state,[z]:++R},"",location.href))});for(const n of document.querySelectorAll("link"))n.rel==="icon"&&(n.href=n.href);addEventListener("pageshow",n=>{n.persisted&&X.navigating.set(null)})},_hydrate:async({status:e=200,error:n,node_ids:l,params:a,route:d,data:h,form:f})=>{$=!0;const b=new URL(location.href);let w;({params:a={},route:d={id:null}}=mt(b,!1)||{});try{const v=l.map(async(P,O)=>{const q=h[O];return St({loader:Et[P],url:b,params:a,route:d,parent:async()=>{const N={};for(let E=0;E<O;E+=1)Object.assign(N,(await v[E]).data);return N},server_data_node:kt(q)})});w=await H({url:b,params:a,branch:await Promise.all(v),status:e,error:n,form:f,route:Ut.find(({id:P})=>P===d.id)??null})}catch(v){if(v instanceof Zt)return void await ct(new URL(v.location,location.href));w=await ht({status:v instanceof Nt?v.status:500,error:await dt(v,{url:b,params:a,route:d}),url:b,route:d})}Q(w)}}}async function te(c,t){var p;const r=new URL(c);r.pathname=c.pathname.replace(/\/$/,"")+"/__data.json",r.searchParams.append("x-sveltekit-invalidated",t.map(o=>o?"1":"").join("_"));const u=await bt(r.href),i=await u.json();if(!u.ok)throw new Error(i);return(p=i.nodes)==null||p.forEach(o=>{(o==null?void 0:o.type)==="data"&&(o.data=function(s,$){if(typeof s=="number")return k(s,!0);if(!Array.isArray(s)||s.length===0)throw new Error("Invalid input");const g=s,m=Array(g.length);function k(y,V=!1){if(y===-1)return;if(y===-3)return NaN;if(y===-4)return 1/0;if(y===-5)return-1/0;if(y===-6)return-0;if(V)throw new Error("Invalid input");if(y in m)return m[y];const _=g[y];if(_&&typeof _=="object")if(Array.isArray(_))if(typeof _[0]=="string"){const R=_[0],C=$==null?void 0:$[R];if(C)return m[y]=C(k(_[1]));switch(R){case"Date":m[y]=new Date(_[1]);break;case"Set":const j=new Set;m[y]=j;for(let U=1;U<_.length;U+=1)j.add(k(_[U]));break;case"Map":const rt=new Map;m[y]=rt;for(let U=1;U<_.length;U+=2)rt.set(k(_[U]),k(_[U+1]));break;case"RegExp":m[y]=new RegExp(_[1],_[2]);break;case"Object":m[y]=Object(_[1]);break;case"BigInt":m[y]=BigInt(_[1]);break;case"null":const F=Object.create(null);m[y]=F;for(let U=1;U<_.length;U+=2)F[_[U]]=k(_[U+1]);break;default:throw new Error(`Unknown type ${R}`)}}else{const R=new Array(_.length);m[y]=R;for(let C=0;C<_.length;C+=1){const j=_[C];j!==-2&&(R[C]=k(j))}}else{const R={};m[y]=R;for(const C in _){const j=_[C];R[C]=k(j)}}else m[y]=_;return m[y]}return k(0)}(o.data),o.uses={dependencies:new Set(o.uses.dependencies??[]),params:new Set(o.uses.params??[]),parent:!!o.uses.parent,route:!!o.uses.route,url:!!o.uses.url})}),i}function dt(c,t){return c instanceof Nt?c.body:Ae({error:c,event:t})??{message:t.route.id!=null?"Internal Error":"Not Found"}}function It(){const c=document.querySelector("[autofocus]");if(!c){const t=document.body,r=t.getAttribute("tabindex");return t.tabIndex=-1,t.focus({preventScroll:!0}),r!==null?t.setAttribute("tabindex",r):t.removeAttribute("tabindex"),new Promise(u=>{setTimeout(()=>{var i;u((i=getSelection())==null?void 0:i.removeAllRanges())})})}c.focus()}async function Ie({env:c,hydrate:t,paths:r,target:u,version:i}){he(r),ge(i);const p=Pe({target:u,base:r.base});me({client:p}),t?await p._hydrate(t):p.goto(location.href,{replaceState:!0}),p._start_router()}export{Ie as start};
